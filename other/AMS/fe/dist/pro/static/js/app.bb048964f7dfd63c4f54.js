webpackJsonp([2,0],[function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}var i=a(6),n=s(i);a(306),a(309);var o=a(565),r=s(o),l=a(49),c=s(l),d=a(9),u=s(d);a(310);var m=a(4),p=s(m),f=a(7),h=s(f);p.default.get("/api/auth/account",{hideLoading:!0}).then(function(t){t.data.iserror&&401===t.data.code?c.default.push({name:"login"}):h.default.setUserInfo(u.default,t.data.data),new n.default({el:"#app",store:u.default,template:"<app></app>",components:{app:r.default},router:c.default})})},,,,function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(384),n=s(i),o=a(6),r=s(o),l=a(285),c=s(l),d=a(49),u=s(d),m=a(12),p=(s(m),a(7)),f=s(p),h=a(9),v=s(h),g=c.default.create({baseURL:$CONFIG.domain,timeout:6e4});g.interceptors.request.use(function(t){return t.hideLoading?f.default.loading(v.default,!1):f.default.loading(v.default,!0),f.default.error(v.default,0),t},function(t){return n.default.reject(t)}),g.interceptors.response.use(function(t){return f.default.loading(v.default,!1),t.data.iserror?401===t.data.code?u.default.push({name:"login"}):"get"!==t.config.method&&t.config.url.indexOf("login")===-1&&r.default.prototype.$message({message:t.data.msg,type:"error",showClose:!0}):200!==t.data.code&&("get"===t.config.method&&403===t.data.code?f.default.error(v.default,403):"get"===t.config.method&&500===t.data.code&&f.default.error(v.default,500)),t},function(t){return n.default.reject(t)}),e.default=g},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(6),n=s(i);e.default=new n.default},,function(t,e,a){"use strict";function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0});var i=a(8),n=a(313),o=s(n),r=a(315),l=s(r),c=a(314),d=s(c),u=a(312),m=s(u),p={};(0,i.mixin)(p,o),(0,i.mixin)(p,l),(0,i.mixin)(p,d),(0,i.mixin)(p,m),e.default=p},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.limitLen=e.isEmptyObj=e.getImgSize=e.formatTimeByUnit=e.debounce=e.formatDate=e.objType=e.copyObj=e.mixin=void 0;var i=a(381),n=s(i);e.mixin=function(t,e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);return t},e.copyObj=function(t){return JSON.parse((0,n.default)(t))},e.objType=function(t){return Object.prototype.toString.call(t).match(/\[object (.*)\]/)[1]},e.formatDate=function(t,e){var a=new Date(t),s={"M+":a.getMonth()+1,"d+":a.getDate(),"h+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds(),"q+":Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length)));for(var i in s)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?s[i]:("00"+s[i]).substr((""+s[i]).length)));return e},e.debounce=function(t,e,a){var s;return function(){var i=this,n=arguments,o=function(){s=null,a||t.apply(i,n)},r=a&&!s;clearTimeout(s),s=setTimeout(o,e),r&&t.apply(i,n)}},e.formatTimeByUnit=function(t,e,a){var s={},i={day:864e5,hour:36e5,minute:6e4,second:1e3},n=0;return a.day&&(s.day=Math.floor((e-t-n)/i.day)+1,n+=s.day*i.day),a.hour&&(s.hour=Math.floor((e-t-n)/i.hour),n+=s.hour*i.hour),a.minute&&(s.minute=Math.floor((e-t-n)/i.minute),n+=s.minute*i.minute),a.second&&(s.second=Math.floor((e-t-n)/i.second),n+=s.second*i.second),s},e.getImgSize=function(t){var e=document.createElement("img");e.setAttribute("src",t),e.style.opacity=0,document.body.appendChild(e);var a=e.clientWidth,s=e.clientHeight;return e.remove(),{width:a,height:s}},e.isEmptyObj=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},e.limitLen=function(t,e){var a=String(t),s=a.length+(a.match(/[^\x00-\xff]/g)||"").length;return!(s>e)}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(6),n=s(i),o=a(668),r=s(o),l=a(324),c=s(l),d=a(319),u=s(d),m=a(7),p=s(m);n.default.use(r.default),e.default=new r.default.Store({state:c.default,mutations:u.default,actions:p.default,strict:"pro"!=={NODE_ENV:"production"}})},,,function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={dev:"http://10.112.178.90:9090/mock/58802ade57af834832f979eb",test:"http://10.112.178.90:9090/mock/58802ade57af834832f979eb",bDev:"http://ams.dev.gomeplus.com",pre:"http://ams.pre.gomeplus.com:8000",production:"http://ams.gomeplus.com"}},,,,,,,,,,function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={DRAWERPLAN:{name:"",isContinuous:1,isUnlimited:0,startTime:Date.now(),endTime:Date.now(),schedule:[],saleMode:3,adLimited:0,dailyAdBudget:0,isRebate:0,rebateLimited:0,dailyRebateBudget:0},DRAWERUNIT:{name:"",platform:1,type:1,timeType:0,time:{1:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],2:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],3:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],4:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],5:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],6:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],7:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23]},regionType:0,region:[],rebateBid:1,advertisements:[]},DRAWERIDEA:{name:"",itemId:"",type:1,linkType:1,title:"",image:"",description:"",relatedItems:[]},DRAWERMEDIA:{name:"",platform:1,isInternal:1,description:"",url:""}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.offWindowEvent=e.initWindowResize=e.tableHandler=void 0;var s=a(311),i=e.tableHandler=function(t,e,a){var s=document.getElementsByClassName("table__fixed-scrollbar--wapper")[0],i=document.getElementsByClassName("table__static-scrollbar--wapper")[0],r=0,d=0;s&&(r=s.scrollLeft),i&&(d=i.scrollLeft);var p=document.getElementById(t);if(p){var h=p.getElementsByClassName("main-table")[0],v=p.getElementsByClassName("main-table-wapper")[0],g=n(p,h,!1,e,a),_=n(p,h,!0,e,a);p.appendChild(g),p.appendChild(_);var w=o(p,h,e,a);p.appendChild(w);var b=l(p,h);p.appendChild(b),c(p,h,g,b,v),u(p,g,_,b),m(v,g,b),s&&(b.scrollLeft=r),i&&(b.scrollLeft=d),f(p,g,_)}},n=function(t,e,a,i,n){var o=t.getElementsByClassName("table__fixed-head--wapper");if(o.length>0)for(var l=0;l<o.length;l++)o[l].remove();o=(0,s.domCreator)("div",null,{class:"table__fixed-head--wapper fixed-header"});var c=(0,s.domCreator)("table",null,{class:"table fixedtablehead"}),d=e.getElementsByTagName("thead")[0].cloneNode(!0);e.getElementsByTagName("th");if(a){c.appendChild(d);for(var u=0,m=d.getElementsByTagName("th"),p=e.getElementsByTagName("th"),l=0;l<m.length;l++)l>n-1&&(0,s.addClass)(m[l],"fixed-hidden"),m[l].style.width=p[l].offsetWidth+"px";u=r(e,n),o.style.width=u+"px"}else c.appendChild(d),o.style.width=t.clientWidth+"px";if(i){var f=d.getElementsByClassName("select-all")[0],h=e.getElementsByClassName("select-all")[0];(0,s.on)(f,"click",function(){h.click()})}return o.style.left=t.offsetLeft+"px",o.appendChild(c),o},o=function(t,e,a,i){var n=t.getElementsByClassName("table__fixed-columns--wapper");if(n)for(var o=0;o<n.length;o++)n[o].remove();n=(0,s.domCreator)("div",null,{class:"table__fixed-columns--wapper"});for(var l=e.cloneNode(!0),c=l.getElementsByTagName("th"),d=e.getElementsByTagName("th"),u=l.getElementsByClassName("body-row"),m=(e.getElementsByClassName("body-row"),0);m<u.length;m++)for(var p=u[m].children,f=0;f<p.length;f++)f>i-1&&((0,s.addClass)(p[f],"fixed-hidden"),(0,s.addClass)(c[f],"fixed-hidden")),0===f&&a&&!function(){var t=p[f].getElementsByTagName("em")[0];(0,s.on)(t,"click",function(){var a=t.getAttribute("data-id"),s=e.getElementsByClassName("select-"+a)[0];s.click()})}(),p[f].style.width=d[f].offsetWidth+"px",c[f].style.width=d[f].offsetWidth+"px";if(a){var h=l.getElementsByClassName("select-all")[0],v=e.getElementsByClassName("select-all")[0];(0,s.on)(h,"click",function(){v.click()})}var g=r(e,i);return n.style.width=g+"px",n.appendChild(l),n},r=function(t,e){for(var a=t.getElementsByTagName("th"),s=0,i=0;i<e;i++)s+=a[i].offsetWidth;return s+1},l=function(t,e){var a=t.getElementsByClassName("table__fixed-scrollbar--wapper");if(a)for(var i=0;i<a.length;i++)a[i].remove();var n=t.getElementsByClassName("table__static-scrollbar--wapper");if(n)for(var i=0;i<n.length;i++)n[i].remove();if(1==p(t))var a=(0,s.domCreator)("div",null,{class:"table__fixed-scrollbar--wapper"});else var a=(0,s.domCreator)("div",null,{class:"table__static-scrollbar--wapper"});a.style.width=t.clientWidth+"px",a.style.left=t.offsetLeft+"px";var o=(0,s.domCreator)("div",null,{class:"table__fixed-scrollbar--content"});return o.style.width=e.clientWidth+"px",a.appendChild(o),a},c=function(t,e,a,i){if(e.clientWidth>t.clientWidth){var n=e.parentNode;(0,s.on)(i,"scroll",function(t){setTimeout(function(){d(n,a,i.scrollLeft)},30)})}else i.style.display="none"},d=function(t,e,a){t.scrollLeft=a,e.scrollLeft=a},u=function(t,e,a,i){(0,s.on)(window,"scroll",function(s){f(t,e,a),e.scrollLeft=i.scrollLeft,p(t,i)})},m=function(t,e,a){(0,s.on)(t,"scroll",function(s){e.scrollLeft=t.scrollLeft,a.scrollLeft=t.scrollLeft})},p=function(t,e){var a=document.documentElement.scrollTop||document.body.scrollTop,s=document.documentElement.clientHeight-t.offsetTop+a,i=t.getElementsByClassName("main-table-wapper")[0].offsetHeight;return i>s?(e&&e.setAttribute("class","table__fixed-scrollbar--wapper"),1):(e&&e.setAttribute("class","table__static-scrollbar--wapper"),2)},f=function(t,e,a){var s=document.body.scrollTop||document.documentElement.scrollTop;t.offsetTop-s<=0?(e.style.display="block",a.style.display="block"):(e.style.display="none",a.style.display="none")};e.initWindowResize=function(t,e,a){(0,s.on)(window,"resize",function(){i(t,e,a)})},e.offWindowEvent=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=document.getElementById(t);(0,s.off)(window,"scroll",function(){var t=a.getElementsByClassName("table__fixed-scrollbar--wapper")[0];(0,s.off)(t,"scroll")}),(0,s.off)(window,"resize",i(t,e))}},,function(t,e,a){var s=a(3)(a(375),a(636),null,null);t.exports=s.exports},,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(6),n=s(i),o=a(667),r=s(o),l=a(7),c=(s(l),a(9)),d=(s(c),a(303)),u=s(d);a(8);n.default.use(r.default);var m=new r.default({routes:u.default});e.default=m},,,,,,,,,,,,,,function(t,e,a){a(530);var s=a(3)(a(329),a(665),null,null);t.exports=s.exports},function(t,e,a){a(509);var s=a(3)(a(333),a(614),"data-v-0bfe6654",null);t.exports=s.exports},function(t,e,a){a(525);var s=a(3)(a(341),a(651),null,null);t.exports=s.exports},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){var s=a(3)(a(378),a(613),null,null);t.exports=s.exports},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){var s=a(3)(a(361),a(628),null,null);t.exports=s.exports},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i,n,o=a(385),r=s(o);e.default=[{path:"/",redirect:"/app/index"},{path:"/app",component:a(588),redirect:"/app/index",children:[{path:"index",name:"index",component:a(587)},{path:"approval",name:"approval",component:a(570),redirect:"/app/approval/material/not",children:[{path:"material",name:"material",component:a(64),children:[{name:"material-not",path:"not",component:a(64)},{name:"material-passed",path:"passed",component:a(64)},{name:"material-not-passed",path:"notpassed",component:a(64)}]},{path:"advertiser",name:"advertiser",component:a(63),children:[{name:"advertiser-not",path:"not",component:a(63)},{name:"advertiser-passed",path:"passed",component:a(63)},{name:"advertiser-not-passed",path:"notpassed",component:a(63)}]},{path:"survey",name:"survey",component:a(65),children:[{name:"survey-not",path:"not",component:a(65)},{name:"survey-passed",path:"passed",component:a(65)},{name:"survey-reject",path:"reject",component:a(65)}]}]},{path:"resource",name:"resource",component:a(604),redirect:"/app/resource/publisher",children:[{path:"publisher",component:a(606)},{path:"channel/:id",name:"channel",component:a(602)},{path:"advertisingList/:id",name:"advertisingList",component:a(597)},{path:"advert/:id",name:"advert",component:a(592)},{path:"advertising",name:"advertising",component:a(600)},{path:"advertForm",name:"advertForm",component:a(589)},{path:"template",name:"template",component:a(609)}]},{path:"consumer",name:"consumer",component:a(582),redirect:"/app/consumer/missionManage",children:[(i={path:"missionManage"},(0,r.default)(i,"path","missionManage"),(0,r.default)(i,"component",a(584)),i),(n={path:"missionReport"},(0,r.default)(n,"path","missionReport"),(0,r.default)(n,"component",a(586)),n)]}]}]},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}var i=a(386),n=s(i),o=a(6),r=s(o),l=a(27),c=s(l);a(430),a(443),r.default.directive("chart",{bind:function(t,e){(0,n.default)({},e.value,{set data(t){}});t.style.width=e.value.width+"px",t.style.height=e.value.height+"px",setTimeout(function(){var a=c.default.init(t);a.setOption(e.value.data)},0)},update:function(t,e){var a=c.default.init(t);a.setOption(e.value.data)}})},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}var i=a(6),n=s(i);n.default.directive("focus",{update:function(t,e){var a=e.value;a&&t.focus()}})},function(t,e,a){"use strict";a(304),a(307),a(305)},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}var i=a(6),n=s(i),o=a(9),r=s(o);n.default.directive("privilege",{inserted:function(t,e){if(e.value){var a=r.default.state.userInfo.privileges,s=a&&a.find(function(t){return t.permission===e.value&&1===t.isDisplay});s||t.remove()}}})},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}var i=a(6),n=s(i);n.default.filter("date",function(t,e){var a=new Date(t),s={"M+":a.getMonth()+1,"d+":a.getDate(),"h+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds(),"q+":Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length)));for(var i in s)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?s[i]:("00"+s[i]).substr((""+s[i]).length)));return e}),n.default.filter("currency",function(t,e,a){return(e||"")+(t/100).toFixed(a||2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")})},function(t,e,a){"use strict";a(308)},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}var i=a(546),n=(s(i),a(490)),o=s(n),r=a(540),l=(s(r),a(483)),c=s(l),d=a(541),u=(s(d),a(484)),m=s(u),p=a(542),f=(s(p),a(485)),h=s(f),v=a(560),g=(s(v),a(503)),_=s(g),w=a(535),b=(s(w),a(131)),y=s(b),C=a(555),D=(s(C),a(499)),k=s(D),x=a(558),T=(s(x),a(502)),S=s(T),M=a(556),N=(s(M),a(500)),I=s(N),A=a(557),P=(s(A),a(501)),$=s(P),R=a(539),L=(s(R),a(482)),E=s(L),j=a(549),z=(s(j),a(493)),O=s(z),V=a(554),F=(s(V),a(498)),B=s(F),H=a(532),W=(s(H),a(478)),Y=s(W),U=a(561),q=(s(U),a(504)),Z=s(q),G=a(559),J=(s(G),a(134)),Q=s(J),X=a(536),K=(s(X),a(57)),tt=s(K),et=a(537),at=(s(et),a(480)),st=s(at),it=a(552),nt=(s(it),a(497)),ot=s(nt),rt=a(550),lt=(s(rt),a(495)),ct=s(lt),dt=a(551),ut=(s(dt),a(496)),mt=s(ut),pt=a(545),ft=(s(pt),a(58)),ht=s(ft),vt=a(543),gt=(s(vt),a(486)),_t=s(gt),wt=a(544),bt=(s(wt),a(487)),yt=s(bt),Ct=a(547),Dt=(s(Ct),a(132)),kt=s(Dt),xt=a(553),Tt=(s(xt),a(133)),St=s(Tt),Mt=a(538),Nt=(s(Mt),a(481)),It=s(Nt),At=a(548),Pt=(s(At),a(492)),$t=s(Pt),Rt=a(534),Lt=(s(Rt),a(533)),Et=(s(Lt),a(130)),jt=s(Et),zt=a(6),Ot=s(zt);Ot.default.use(jt.default),Ot.default.use($t.default),Ot.default.use(It.default),Ot.default.use(St.default),Ot.default.use(kt.default),Ot.default.use(yt.default),Ot.default.use(_t.default),Ot.default.use(ht.default),Ot.default.use(mt.default),Ot.default.use(ct.default),Ot.default.use(ot.default),Ot.default.use(st.default),Ot.default.use(tt.default),Ot.default.use(Q.default),Ot.default.use(Z.default),Ot.default.use(Y.default),Ot.default.use(B.default),Ot.default.use(O.default),Ot.default.use(E.default),Ot.default.use($.default),Ot.default.use(I.default),Ot.default.use(S.default),Ot.default.use(k.default),Ot.default.use(tt.default),Ot.default.use(y.default),Ot.default.use(_.default),Ot.default.use(h.default),Ot.default.use(m.default),Ot.default.use(c.default);var Vt=o.default;Ot.default.prototype.$message=Vt},function(t,e,a){"use strict";function s(t,e){if(t){for(var a=t.className,s=(e||"").split(" "),i=0,n=s.length;i<n;i++){var o=s[i];o&&(t.classList?t.classList.add(o):hasClass(t,o)||(a+=" "+o))}t.classList||(t.className=a)}}Object.defineProperty(e,"__esModule",{value:!0}),e.domCreator=e.scrollHandler=e.getFixedTableHeader=e.scrollBarWidth=e.off=e.on=void 0,e.addClass=s;var i=a(8),n=e.on=function(){return document.addEventListener?function(t,e,a){t&&e&&a&&t.addEventListener(e,a,!1)}:function(t,e,a){t&&e&&a&&t.attachEvent("on"+e,a)}}(),o=(e.off=function(){return document.removeEventListener?function(t,e,a){t&&e&&t.removeEventListener(e,a,!1)}:function(t,e,a){t&&e&&t.detachEvent("on"+e,a)}}(),e.scrollBarWidth=function(){var t,e,a=document.createElement("p"),s={width:"100px",height:"100px",overflowY:"scroll"};for(t in s)a.style[t]=s[t];return document.body.appendChild(a),e=a.offsetWidth-a.clientWidth,a.remove(),e});e.getFixedTableHeader=function(t){var e=t.getElementsByClassName("main-table")[0].cloneNode(!0),a=e.getElementsByTagName("tbody")[0];a.remove();var s=document.createElement("div");return s.className="fixed-head-wapper",s.style="display:none;position: fixed;top: 0;right: 40px;width: 100%;overflow: hidden;",s.appendChild(e),s},e.scrollHandler=function(){var t=document.getElementsByClassName("data-table")[0],e=o(),a=window.outerWidth,s=document.getElementsByClassName("content-menu")[0].clientWidth,i=t.clientWidth-e;t.clientWidth+s>a&&(i-=s);var r=t.getElementsByClassName("fixed-columns")[0],l=t.getElementsByClassName("fixed-head-wapper")[0],c=t.getElementsByClassName("main-table")[0],d=t.getElementsByClassName("main-table-wapper")[0],u=t.getElementsByClassName("table-scroll-wapper")[0],m=t.getElementsByClassName("table-scroll-content")[0];if(l.style.width=i+"px",console.log(c.clientWidth+"----"+a),c.clientWidth+220>a){u.style.width=i+"px",m.style.width=c.clientWidth+"px",n(u,"scroll",function(t){t.target.scrollLeft;l.scrollLeft=t.target.scrollLeft,d.scrollLeft=t.target.scrollLeft});for(var p=r.getElementsByTagName("th"),f=c.getElementsByTagName("th"),h=0;h<f.length;h++)p[h].style.width=f[h].clientWidth+"px";r.style.width=f[0].clientWidth+f[1].clientWidth+"px"}else u.style.display="none",r.style.display="none"},e.domCreator=function(t,e,a){var s=document.createElement(t),n="";e&&(n=(0,i.obj2string)(e).replace("{","").replace("}","").replace(/,/g,";").replace(/"/g,"")),window.ActiveXObject||"ActiveXObject"in window?s.style.cssText=n:s.setAttribute("style",n);for(var o in a)s.setAttribute(o,a[o]);return n=null,a=null,s}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.controlAnicer=function(t,e){t.commit("CONTROLANICER",e)},e.setAnicerData=function(t,e){t.commit("SETANICERDATA",e)}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.loading=function(t,e){t.commit("LOADING",e)},e.error=function(t,e){t.commit("ERROR",e)}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.controlDrawer=function(t,e){t.commit("CONTROLDRAWER",e)},e.setDrawerState=function(t,e,a){t.commit("SETDRAWERSTATE",e,a)}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.setUserInfo=function(t,e){t.commit("SETUSERINFO",e)},e.setUserName=function(t,e){t.commit("SETUSERNAME",e)},e.setUserPrivilege=function(t,e){t.commit("SETUSERPRIVILEGE",e)}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.SETANICERDATA=e.CONTROLANICER=void 0;var i=a(73),n=s(i);e.CONTROLANICER=function(t,e){t.anicerControl=(0,n.default)({},t.anicerControl,e)},e.SETANICERDATA=function(t,e){t.anicerFormData=(0,n.default)({},t.anicerFormData,e)}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.LOADING=function(t,e){t.loading=e},e.ERROR=function(t,e){t.errorCode=e}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.SETDRAWERSTATE=e.CONTROLDRAWER=void 0;var i=a(22),n=s(i);e.CONTROLDRAWER=function(t,e){e.show?document.body.style.overflow="hidden":document.body.style.overflow="auto",t.drawerCtrl=e},e.SETDRAWERSTATE=function(t,e,a){t["drawer"+e.replace(e.match(/([\s\S]){1}/)[1],e.match(/([\s\S]){1}/)[1].toUpperCase())+"State"]=a||n.default["DRAWER"+e.toUpperCase()]}},function(t,e,a){"use strict";function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0});var i=a(8),n=a(317),o=s(n),r=a(320),l=s(r),c=a(318),d=s(c),u=a(316),m=s(u),p={};(0,i.mixin)(p,o),(0,i.mixin)(p,l),(0,i.mixin)(p,d),(0,i.mixin)(p,m),e.default=p},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.SETUSERPRIVILEGE=e.SETUSERNAME=e.SETUSERINFO=void 0;var i=a(73),n=s(i);e.SETUSERINFO=function(t,e){t.userInfo=e},e.SETUSERNAME=function(t,e){t.userInfo=(0,n.default)({},t.userInfo,{name:e})},e.SETUSERPRIVILEGE=function(t,e){t.userInfo=(0,n.default)({},t.userInfo,{privilege:e})}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={anicerControl:{isSucceed:!1,hasCompanyInfo:!1,step:"identity"},anicerFormData:{bankAccount:"",bankAccountName:"",bankAccountPermissionImage:"",bankBranchAddress:"",bankBranchLineNumber:"",bankBranchName:"",bizEndDate:"",bizLicenseAddress:"",bizLicenseImage:"",bizLicenseNumber:"",bizScope:"",bizStartDate:"",companyAddress:"",companyEmail:"",companyFoundDate:"",companyName:"",companyNature:"2",companyPhone:"",contactAddress:"",contactEmail:"",contactMobile:"",contactName:"",contactSex:"1",emerContact:"",emerContactPhone:"",legalReprIdBackImage:"",legalReprIdImage:"",legalReprIdNumber:"",legalReprName:"",orgCode:"",orgCodeImage:"",regCapital:"",taxCode:"",taxNumber:"",taxRegCertImage:"",taxpayerQualificationImage:"",taxpayerType:""}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={loading:!1,errorCode:0}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(22),n=s(i);e.default={drawerCtrl:{show:!1,type:"plan",action:"new",config:{},isRebate:0},drawerPlanState:n.default.DRAWERPLAN,drawerUnitState:n.default.DRAWERUNIT,drawerIdeaState:n.default.DRAWERIDEA,drawerMediaState:n.default.DRAWERMEDIA}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(8),n=a(322),o=s(n),r=a(325),l=s(r),c=a(323),d=s(c),u=a(321),m=s(u),p={};(0,i.mixin)(p,o.default),(0,i.mixin)(p,l.default),(0,i.mixin)(p,d.default),(0,i.mixin)(p,m.default),e.default=p},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={userInfo:{}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(611),n=s(i),o=a(612),r=s(o),l=a(9),c=s(l);e.default={name:"app",components:{"m-loading":n.default,"m-error":r.default},computed:{error:function(){return c.default.state.errorCode}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),n=s(i),o=a(4),r=s(o),l=a(12),c=s(l);e.default={name:"app-advertiser-refuse",props:["showRefuse","advertiserId"],data:function(){return{imageUrl:c.default.production+"/api/image/upload",fileType:".jpg, .png, .jpeg, .gif, |images/*",size:0,images:[],imagesList:[],checkList:[],textarea:"",reasonType:""}},computed:{isOtherSelected:function(){for(var t=0;t<this.checkList.length;t++)if("其他"===this.checkList[t])return!0;return!1}},methods:{handleIpnutChange:function(t){this.reasonType=t.length>0?"":"empty"},closeView:function(){this.images=[],this.imagesLis=[],this.checkList=[],this.textarea="",this.reasonType="",n.default.$emit("close-refuse")},upSuccess:function(t,e,a){this.images.push(t.data.imageUrl)},upRemove:function(t,e){for(var a in this.images.list)a==t.name&&delete this.images[a]},advertiserRefuseAction:function(){var t="[一-龥A-Za-z0-9]{2,20}",e=new RegExp(t);if(0===this.checkList.length)return this.$message({message:"请至少选择一项",type:"warning"}),!1;if(this.checkList.find(function(t){return"其他"===t})){var a=this.textarea.trim();a.length>0&&a.length<=200?e.test(a)?this.refuseRequest():this.reasonType="space":0===a.length&&(this.reasonType="empty")}else this.refuseRequest()},refuseRequest:function(){var t=this,e=this.checkList.findIndex(function(t){return"其他"===t});e!==-1&&(this.checkList[e]=this.textarea),r.default.put("/api/approval/advertiser/reject",{advertiserId:t.advertiserId,rejectReason:t.checkList}).then(function(e){200===e.status&&200===e.data.code&&0===e.data.iserror&&(t.checkList=[],t.textarea="",n.default.$emit("refuse-advertiser"))}).catch(function(t){console.log(t)})}},watch:{isOtherSelected:function(t){t||(this.reasonType="")}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),n=s(i),o=a(4),r=s(o),l=a(8),c=a(569),d=s(c);e.default={name:"advertiser-view-dialog",props:["showView","advertiserId","approveStatus"],data:function(){return{selected:0,advertiser:{},showChildComponents:{showViewImage:!1},imageUrl:""}},created:function(){this.getAdvertiser()},components:{"m-image":d.default},mounted:function(){var t=this;n.default.$on("close-image",function(){t.showChildComponents.showViewImage=!1})},methods:{handleClick:function(t,e){console.log(t,e)},passDialogHandler:function(){n.default.$emit("show-dialog")},viewRefuseHandler:function(){n.default.$emit("show-refuse")},handleImageClick:function(t){this.imageUrl=t,this.showChildComponents.showViewImage=!0},closeView:function(){n.default.$emit("close-view"),this.selected=0},clickLeftTab:function(t){this.selected=t},taxPayerString:function(t){return 1===t?"一般纳税人":2===t?"小规模纳税人":"非增值税纳税人"},genderString:function(t){return 1===t?"女":"男"},getAdvertiser:function(){var t=this;r.default.get("/api/approval/advertiser",{params:{advertiserId:t.advertiserId}}).then(function(e){200===e.status&&200===e.data.code&&0===e.data.iserror?(t.advertiser=e.data.data,t.advertiser.taxpayerType=t.taxPayerString(t.advertiser.taxpayerType),t.advertiser.gender=t.genderString(t.advertiser.gender),t.advertiser.companyFoundDate=(0,l.formatDate)(t.advertiser.companyFoundDate,"yyyy年MM月dd日"),t.advertiser.bizStartDate=(0,l.formatDate)(t.advertiser.bizStartDate,"yyyy年MM月dd日"),t.advertiser.bizEndDate=(0,l.formatDate)(t.advertiser.bizEndDate,"yyyy年MM月dd日")):t.$message({message:e.data.msg,type:"error"})}).catch(function(t){console.log(t)})}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(70),n=(s(i),a(4)),o=s(n),r=a(5),l=s(r),c=a(8),d=a(567),u=s(d),m=a(568),p=s(m),f=a(566),h=s(f);e.default={name:"app-advertiser-not-list",data:function(){return{showChildComponents:{showAdvertiserView:!1,showAdvertiserPass:!1,showAdvertiserRefuse:!1},viewAdvertiserId:"",order:{order:"",orderBy:""},search:{advertiserName:"",startTime:"",endTime:"",orderBy:"",order:""},page:{totalCount:0,currentPage:1,pageSizes:[20,30,50],pageSize:30},list:[],searchDateRange:"",datePickOptions:{disabledDate:function(t){return t.getTime()>Date.now()}}}},mounted:function(){var t=this,e=this;l.default.$on("close-view",function(){e.showChildComponents.showAdvertiserView=!1,document.body.style.overflow="auto"}),l.default.$on("close-dialog",function(){e.showChildComponents.showAdvertiserPass=!1}),l.default.$on("pass-advertiser",function(){e.showChildComponents.showAdvertiserView=!1,e.showChildComponents.showAdvertiserPass=!1,t.$message({message:"广告主审核通过成功！",type:"success",duration:3e3}),e.getList()}),l.default.$on("close-refuse",function(){e.showChildComponents.showAdvertiserRefuse=!1}),l.default.$on("show-dialog",function(){e.showChildComponents.showAdvertiserPass=!0}),l.default.$on("show-refuse",function(){e.showChildComponents.showAdvertiserRefuse=!0}),l.default.$on("refuse-advertiser",function(){e.showChildComponents.showAdvertiserRefuse=!1,e.showChildComponents.showAdvertiserView=!1,e.getList()})},computed:{isAdvertiserName:function(){return this.search.advertiserName.length>0},approveStatus:function(){var t=this.$route;return"advertiser-not"===t.name?0:"advertiser-passed"===t.name?1:-1},orderType:function(){return"ascending"===this.order.order?"asc":""===this.order.order?"":"desc"}},created:function(){0===this.approveStatus?(this.search.order="asc",this.search.orderBy="createTime"):(this.search.order="desc",this.search.orderBy="approveTime"),this.getList()},components:{"m-view":u.default,"m-dialog":p.default,"m-refuse":h.default},methods:{pageSizeChange:function(t){this.page.pageSize=t,this.getList()},currentPageChange:function(t){this.page.currentPage=t,this.getList()},handleClickIcon:function(){this.search.advertiserName=""},searchHandle:function(){this.getList()},handleView:function(t,e){this.viewAdvertiserId=e.advertiserId,this.showChildComponents.showAdvertiserView=!0,(this.showChildComponents.showAdvertiserView=!0)&&(document.body.style.overflow="hidden")},handlePass:function(t,e){this.viewAdvertiserId=e.advertiserId,this.showChildComponents.showAdvertiserPass=!0},handleRefuse:function(t,e){this.viewAdvertiserId=e.advertiserId,this.showChildComponents.showAdvertiserRefuse=!0,document.body.style.overflow="hidden"},renderHeader:function(t,e){var a=this,s=e.column,i=e.$index;return"送审时间"===s.label?s.order="createTime"===this.order.orderBy?this.order.order:"":"操作时间"===s.label&&(s.order="approveTime"===this.order.orderBy?this.order.order:""),t("div",{on:{click:function(){a.handleOrderClick(i,s.label)}}},[s.label,t("span",{class:"caret-wrapper"},[t("i",{class:"sort-caret ascending"}),t("i",{class:"sort-caret descending"})])])},handleOrderClick:function(t,e){"送审时间"===e&&"createTime"!==this.order.orderBy?(this.order.orderBy="createTime",this.order.order="ascending"):"操作时间"===e&&"approveTime"!==this.order.orderBy?(this.order.orderBy="approveTime",this.order.order="ascending"):this.order.order="ascending"===this.order.order?"descending":"ascending",this.search.order=this.orderType,this.search.orderBy=this.order.orderBy,this.getList()},timeClearHours:function(t){var e=new Date(t);return e.setHours(0,0,0,0),e.getTime()},setTimeHours:function(t){var e=new Date(t);return e.setHours(23,59,59,999),e.getTime()},getList:function(){var t=this.search,e=this;o.default.get("/api/approval/advertisers",{params:{advertiserName:t.advertiserName,startTime:t.startTime?t.startTime:"",endTime:t.endTime?t.endTime:"",page:e.page.currentPage,number:e.page.pageSize,approveStatus:e.approveStatus,order:t.order?t.order:"asc",orderBy:t.orderBy?t.orderBy:"createTime"}}).then(function(t){e.list=[],200===t.status&&200===t.data.code&&0===t.data.iserror?(e.list=t.data.data.list,e.list.forEach(function(t,e){t.startTime=(0,c.formatDate)(t.startTime,"yyyy.MM.dd"),t.endTime=(0,c.formatDate)(t.endTime,"yyyy.MM.dd"),t.createTime=(0,c.formatDate)(t.createTime,"yyyy年MM月dd日"),t.approveTime=(0,
c.formatDate)(t.approveTime,"yyyy年MM月dd日"),t.companyNature=1==t.companyNature?"品牌商":2==t.companyNature?"代理商":"入驻商家"}),e.page.totalCount=t.data.data.totalCount):e.$message({message:t.data.msg,type:"error"})}).catch(function(t){console.log(t)})}},watch:{searchDateRange:{handler:function(t){if(t[0]||t[1]){var e=new Date(t[0]),a=new Date(t[1]);this.search.startTime=this.timeClearHours(e),this.search.endTime=this.setTimeHours(a)}else this.search.startTime="",this.search.endTime=""},deep:!0},approveStatus:function(t){this.search={advertiserName:"",startTime:"",endTime:"",orderBy:"",order:""},this.searchDateRange="";this.$route;this.advertiserId=[],this.search.order=0===this.approveStatus?"asc":"desc",this.search.orderBy=0===this.approveStatus?"createTime":"approveTime",this.getList()}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),n=s(i),o=a(4),r=s(o);e.default={name:"app-advertiser-dialog",data:function(){return{msg:""}},props:["showDialog","advertiserId","passType"],methods:{closeDialogHandler:function(){n.default.$emit("close-dialog")},advertiserPassAction:function(){var t=this;r.default.put("/api/approval/advertiser/pass",{advertiserId:t.advertiserId}).then(function(t){200===t.status&&200===t.data.code&&0===t.data.iserror&&n.default.$emit("pass-advertiser")}).catch(function(t){console.log(t)})}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),n=s(i),o=a(4);s(o);e.default={name:"app-approval-advertiser-dialog",data:function(){return{msg:""}},props:["showImage","img"],methods:{closeImageHandler:function(){n.default.$emit("close-image")}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(94),n=s(i);e.default={name:"app-material-main",data:function(){return{navMenu:[{msg:"素材审核",link:"javascript:void(0)",icon:"icon-material",privilege:"approval:material",checked:!0,sub:[{msg:"审核素材",link:"/#/app/approval/material/not",privilege:"approval:material:all"},{msg:"未审核素材",link:"/#/app/approval/material/not",privilege:"approval:material:not"},{msg:"已通过素材",link:"/#/app/approval/material/passed",privilege:"approval:material:passed"},{msg:"未通过素材",link:"/#/app/approval/material/notpassed",privilege:"approval:material:notpassed"}]},{msg:"广告主审核",link:"javascript:void(0)",icon:"icon-account",privilege:"approval:advertiser",checked:!1,sub:[{msg:"未审核广告主",link:"/#/app/approval/advertiser/not",privilege:"approval:advertiser:not"},{msg:"已通过广告主",link:"/#/app/approval/advertiser/passed",privilege:"approval:advertiser:passed"},{msg:"未通过广告主",link:"/#/app/approval/advertiser/notpassed",privilege:"approval:advertiser:notpassed"}]},{msg:"问卷审核",link:"javascript:void(0)",icon:"icon-survey",privilege:"approval:survey",checked:!1,sub:[{msg:"未审核问卷\t",link:"/#/app/approval/survey/not",privilege:"approval:survey:not"},{msg:"已通过问卷",link:"/#/app/approval/survey/passed",privilege:"approval:survey:passed"},{msg:"未通过问卷",link:"/#/app/approval/survey/reject",privilege:"approval:survey:notpassed"}]}]}},components:{"m-nav":n.default}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(70),n=(s(i),a(4)),o=s(n),r=a(5),l=s(r),c=a(8),d=a(576),u=s(d),m=a(571),p=s(m),f=a(577),h=s(f),v=a(575),g=s(v);e.default={name:"app-material-not-list",data:function(){return{showChildComponents:{showMaterialView:!1,showMaterialPassDialog:!1,showMaterialRefuse:!1,showViewImage:!1},passType:"single",viewMaterialId:"",viewUserId:"",imageUrl:"",approveRole:"",order:{order:"ascending",orderBy:"createTime"},search:{advertisementName:"",advertiserName:"",startTime:"",endTime:"",advertisementType:0,accountType:0,orderBy:"",order:""},page:{totalCount:0,currentPage:1,pageSizes:[20,30,50],pageSize:30},materialIds:[],mutilMaterials:[],list:[],advertisementTypeOptions:[{value:1,label:"图片"},{value:2,label:"图文"},{value:3,label:"视频"},{value:4,label:"flash"},{value:5,label:"文字"},{value:0,label:"全部"}],accountTypeOptions:[{value:3,label:"入驻商家"},{value:2,label:"代理商"},{value:1,label:"运营"},{value:0,label:"全部类型"}],searchDateRange:"",datePickOptions:{shortcuts:[{text:"今天",onClick:function(t){var e=new Date,a=new Date;t.$emit("pick",[e,a]),console.log("click today")}},{text:"最近3天",onClick:function(t){var e=new Date,a=new Date;e.setTime(e.getTime()-1728e5),t.$emit("pick",[e,a]),console.log("click three days")}},{text:"最近7天",onClick:function(t){var e=new Date,a=new Date;e.setTime(e.getTime()-5184e5),t.$emit("pick",[e,a]),console.log("clcik seven days")}},{text:"最近15天",onClick:function(t){var e=new Date,a=new Date;e.setTime(e.getTime()-12096e5),t.$emit("pick",[e,a]),console.log("clcik fifteen days")}},{text:"全部",onClick:function(t){t.$emit("pick",[null,null]),console.log("all")}}],disabledDate:function(t){return t.getTime()>Date.now()}}}},components:{"m-view":u.default,"m-dialog":p.default,"m-image":h.default,"m-refuse":g.default},created:function(){this.$route;0===this.approveStatus?(this.search.order="asc",this.search.orderBy="createTime"):(this.search.order="desc",this.search.orderBy="approveTime"),this.getList()},computed:{approveStatus:function(){var t=this.$route;return"material-not"===t.name?0:"material-passed"===t.name?1:-1},orderType:function(){return"ascending"===this.order.order?"asc":"desc"},isAdvertisementName:function(){return this.search.advertisementName.length>0},isAdvertiserName:function(){return this.search.advertiserName.length>0}},mounted:function(){var t=this;l.default.$on("close-view",function(){t.showChildComponents.showMaterialView=!1,document.body.style.overflow="auto"}),l.default.$on("close-dialog",function(){t.showChildComponents.showMaterialPassDialog=!1,"single"===t.passType&&(t.materialIds=[])}),l.default.$on("close-refuse",function(){t.showChildComponents.showMaterialRefuse=!1,t.materialId="",document.body.style.overflow="auto"}),l.default.$on("show-dialog",function(){t.showChildComponents.showMaterialPassDialog=!0}),l.default.$on("show-refuse",function(){t.showChildComponents.showMaterialRefuse=!0}),l.default.$on("close-image",function(){t.showChildComponents.showViewImage=!1}),l.default.$on("pass-material",function(){t.showChildComponents.showMaterialView=!1,t.showChildComponents.showMaterialPassDialog=!1,document.body.style.overflow="auto",t.getList()}),l.default.$on("refuse-material",function(){t.showChildComponents.showMaterialRefuse=!1,t.showChildComponents.showMaterialView=!1,document.body.style.overflow="auto",t.getList()})},methods:{handleClickIcon:function(t){"advertisement"===t?this.search.advertisementName="":this.search.advertiserName=""},handleSelectionChange:function(t){var e=this;this.mutilMaterials=[],t.forEach(function(t,a){e.mutilMaterials.push(t.materialId)})},handleSortChange:function(t){this.list=[],this.getList()},handleImageClick:function(t){this.imageUrl=t,this.showChildComponents.showViewImage=!0},handleOrderClick:function(t,e){"送审时间"===e&&"createTime"!==this.order.orderBy?(this.order.orderBy="createTime",this.order.order="ascending"):"操作时间"===e&&"approveTime"!==this.order.orderBy?(this.order.orderBy="approveTime",this.order.order="ascending"):this.order.order="ascending"===this.order.order?"descending":"ascending",this.search.order=this.orderType,this.search.orderBy=this.order.orderBy,this.getList()},renderHeader:function(t,e){var a=this,s=e.column,i=e.$index;return"送审时间"===s.label?s.order="createTime"===this.order.orderBy?this.order.order:"":"操作时间"===s.label&&(s.order="approveTime"===this.order.orderBy?this.order.order:""),t("div",{on:{click:function(){a.handleOrderClick(i,s.label)}}},[s.label,t("span",{class:"caret-wrapper"},[t("i",{class:"sort-caret ascending"}),t("i",{class:"sort-caret descending"})])])},handleView:function(t,e){this.viewMaterialId=e.materialId,this.viewUserId=e.userId,this.approveRole=e.approveRole,this.materialIds=[this.viewMaterialId],this.passType="single",this.showChildComponents.showMaterialView=!0,(this.showChildComponents.showMaterialView=!0)&&(document.body.style.overflow="hidden")},handlePass:function(t,e){this.viewMaterialId=e.materialId,this.materialIds=[this.viewMaterialId],this.passType="single",this.showChildComponents.showMaterialPassDialog=!0},handleRefuse:function(t,e){this.viewMaterialId=e.materialId,this.showChildComponents.showMaterialRefuse=!0,document.body.style.overflow="hidden"},searchHandle:function(){this.getList()},listHandle:function(){this.materialIds=this.mutilMaterials,this.materialIds.length>0?(this.passType="mutil",this.showChildComponents.showMaterialPassDialog=!0):this.$message({message:"您没有选中任何素材！",type:"warning"})},getList:function(){var t=this.search,e=this;o.default.get("/api/approval/materials",{params:{advertisementName:t.advertisementName,advertiserName:t.advertiserName,startTime:t.startTime?t.startTime:"",endTime:t.endTime?t.endTime:"",advertisementType:0===t.advertisementType?"":t.advertisementType,accountType:0===t.accountType?"":t.accountType,page:e.page.currentPage,number:e.page.pageSize,approveStatus:e.approveStatus,order:t.order?t.order:"asc",orderBy:t.orderBy?t.orderBy:"createTime"}}).then(function(t){e.list=[],200===t.status&&200===t.data.code&&0===t.data.iserror?(e.list=t.data.data.list,e.list.forEach(function(t,a){t.startTime=0===t.campaignId?"":(0,c.formatDate)(t.startTime,"yyyy.MM.dd"),t.endTime=0===t.campaignId?"":1==t.isUnlimited?"不限":(0,c.formatDate)(t.endTime,"yyyy.MM.dd"),t.createTime=(0,c.formatDate)(t.createTime,"yyyy年MM月dd日"),t.approveTime=(0,c.formatDate)(t.approveTime,"yyyy年MM月dd日"),t.linkTypeString=e.linkTypeString(t.linkType),t.companyNature=0===t.companyNature?"":1==t.companyNature?"品牌商":2==t.companyNature?"代理商":"入驻商家","aos"==t.createFrom?t.approvalStatus=t.approveLogs.length>0?1===t.approveLogs[0].approvalStatus?"平台运营通过":t.approveLogs[0].approvalStatus==-1?"平台运营拒绝":"未审核":"未审核":t.approvalStatus="未审核"}),e.approveRole=e.list[0].approveRole,e.page.totalCount=t.data.data.totalCount):e.$message({message:t.data.msg,type:"error"})}).catch(function(t){console.log(t)})},linkTypeString:function(t){return 0===t?"店铺ID":1===t?"商品ID":2===t?"URL":3===t?"圈子ID":4===t?"话题ID":"视频"},pageSizeChange:function(t){this.page.pageSize=t,this.getList()},currentPageChange:function(t){this.page.currentPage=t,this.getList()},timeClearHours:function(t){var e=new Date(t);return e.setHours(0,0,0,0),e.getTime()},setTimeHours:function(t){var e=new Date(t);return e.setHours(23,59,59,999),e.getTime()}},watch:{searchDateRange:{handler:function(t){if(t[0]||t[1]){var e=new Date(t[0]),a=new Date(t[1]);this.search.startTime=this.timeClearHours(e),this.search.endTime=this.setTimeHours(a)}else this.search.startTime="",this.search.endTime=""},deep:!0},approveStatus:function(t){this.search={advertisementName:"",advertiserName:"",startTime:"",endTime:"",advertisementType:0,accountType:0,orderBy:"",order:""},this.searchDateRange="";this.$route;this.materialIds=[],this.mutilMaterials=[],this.search.order=0===this.approveStatus?"asc":"desc",this.search.orderBy=0===this.approveStatus?"createTime":"approveTime",this.getList()}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),n=s(i),o=a(4),r=s(o);e.default={name:"app-material-dialog",data:function(){return{msg:""}},props:["showDialog","materialIds","passType"],methods:{closeDialogHandler:function(){n.default.$emit("close-dialog")},materialPassAction:function(){var t=this;r.default.put("/api/approval/materials/pass",{materialIds:t.materialIds}).then(function(t){200===t.status&&200===t.data.code&&0===t.data.iserror&&n.default.$emit("pass-material")}).catch(function(t){console.log(t)})}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(4),n=s(i),o=a(8);e.default={name:"material-dialog-certificate",data:function(){return{certificates:[]}},props:["userId"],created:function(){this.getMaterialCertificate()},methods:{getMaterialCertificate:function(){var t=this;n.default.get("/api/certificate",{params:{userId:t.userId}}).then(function(e){200===e.status&&200===e.data.code&&0===e.data.iserror?(t.certificates=e.data.data,t.certificates.forEach(function(t,e){var a=[];t.images.indexOf(",")>-1?a=t.images.split(","):a.push(t.images),t.images=a,t.startTime=(0,o.formatDate)(t.startTime,"yyyy年MM月dd日"),t.endTime=(0,o.formatDate)(t.endTime,"yyyy年MM月dd日")})):t.$message({message:e.data.msg,type:"error"})}).catch(function(t){console.log(t)})}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(4),n=s(i);e.default={name:"material-dialog-detail",data:function(){return{material:{}}},props:["materialId"],created:function(){this.getMaterialDetail()},methods:{isHttpUrl:function(t){if(null!=t)return t.indexOf("http")>-1},linkTypeString:function(t){return 0===t?"店铺ID":1===t?"商品编号":2===t?"自定义URL":3===t?"圈子ID":4===t?"话题ID":5===t?"带分享":6===t?"活动ID":7===t?"旗舰店":8===t?"cms活动":"视频"},getMaterialDetail:function(){var t=this;n.default.get("/api/approval/material",{params:{materialId:t.materialId}}).then(function(e){200===e.status&&200===e.data.code&&0===e.data.iserror?(t.material=e.data.data,null!=t.material.materialComponents&&t.material.materialComponents.length>0&&t.material.materialComponents.forEach(function(t){t.linkType=0===t.linkType?"店铺ID":1===t.linkType?"商品编号":2===t.linkType?"自定义URL":3===t.linkType?"圈子ID":4===t.linkType?"话题ID":5===t.linkType?"带分享":6===t.linkType?"活动ID":7===t.linkType?"旗舰店":8===t.linkType?"cms活动":"视频"}),"amp"===t.material.createFrom&&(t.material.linkType=t.linkTypeString(t.material.linkType),t.material.isHttpUrl=t.isHttpUrl(t.material.landingPage))):t.$message({message:e.data.msg,type:"error"})}).catch(function(t){console.log(t)})}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(4),n=s(i),o=a(8);e.default={name:"material-reject-reason",data:function(){return{list:{}}},props:["materialId"],created:function(){this.getMaterialReason()},methods:{getMaterialReason:function(){var t=this;n.default.get("/api/approval/logs",{params:{materialId:t.materialId}}).then(function(e){200===e.status&&200===e.data.code&&0===e.data.iserror?(t.list=e.data.data,t.list.forEach(function(t,e){t.createTime=(0,o.formatDate)(t.createTime,"yyyy年MM月dd日 hh:mm:ss")})):t.$message({message:e.data.msg,type:"error"})}).catch(function(t){console.log(t)})}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),n=s(i),o=a(4),r=s(o),l=a(12),c=s(l);e.default={name:"app-material-refuse",props:["showRefuse","materialId"],data:function(){return{imageUrl:c.default.production+"/api/image/upload",fileType:".jpg, .png, .jpeg, .gif, |images/*",size:0,images:[],imagesList:[],checkList:[],textarea:"",reasonType:""}},computed:{isOtherSelected:function(){for(var t=0;t<this.checkList.length;t++)if("其他"===this.checkList[t])return!0;return!1}},methods:{handleIpnutChange:function(t){this.reasonType=t.length>0?"":"empty"},closeView:function(){this.images=[],this.imagesLis=[],this.checkList=[],this.textarea="",this.reasonType="",n.default.$emit("close-refuse")},upSuccess:function(t,e,a){this.images.push(t.data.imageUrl)},upRemove:function(t,e){for(var a in this.images.list)a==t.name&&delete this.images[a]},imageSize:function(t){return this.imagesList.length<5?t.size>512e3?(this.$message({message:"您上传的图片太大，请重新上传！",type:"warning"}),!1):(this.imagesList.push(t.name),t.size>512e3?(this.$message({message:"您上传的图片太大，请重新上传！",type:"warning"}),!1):void 0):(this.$message({message:"您上传的图片超出5张！",type:"warning"}),!1)},materialRefuseAction:function(){var t="[一-龥A-Za-z0-9]{2,20}",e=new RegExp(t);if(0===this.checkList.length)return this.$message({message:"请至少选择一项",type:"warning"}),!1;if(this.checkList.find(function(t){return"其他"===t})){var a=this.textarea.trim();this.textarea.length>0&&this.textarea.length<=200?e.test(a)?this.refuseRequest():this.reasonType="space":this.reasonType=0===this.textarea.length?"empty":this.textarea.length>200?"maxLength":""}else this.refuseRequest()},refuseRequest:function(){var t=this,e=this.checkList.findIndex(function(t){return"其他"===t});e!==-1&&(this.checkList[e]=this.textarea),r.default.put("/api/approval/materials/reject",{materialId:t.materialId,rejectReasons:t.checkList,attachments:t.images}).then(function(e){200===e.status&&200===e.data.code&&0===e.data.iserror&&(t.checkList=[],t.images=[],t.textarea="",n.default.$emit("refuse-material"))}).catch(function(t){console.log(t)})}},watch:{isOtherSelected:function(t){t||(this.reasonType="")}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),n=s(i),o=a(573),r=s(o),l=a(572),c=s(l),d=a(574),u=s(d);e.default={name:"material-view-dialog",data:function(){return{activeName:"first"}},props:["showView","materialId","userId","approveStatus","approveRole"],components:{"m-detail":r.default,"m-certificate":c.default,"m-reason":u.default},methods:{handleClick:function(t,e){console.log(t,e)},closeView:function(){n.default.$emit("close-view"),this.activeName="first"},passDialogHandler:function(){n.default.$emit("show-dialog")},viewRefuseHandler:function(){n.default.$emit("show-refuse")}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),n=s(i),o=a(4);s(o);e.default={name:"app-material-dialog",data:function(){return{msg:""}},props:["showImage","img"],methods:{closeImageHandler:function(){n.default.$emit("close-image")}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(70),n=(s(i),a(4)),o=s(n),r=a(5),l=s(r),c=a(8),d=a(581),u=s(d),m=a(580),p=s(m),f=a(579),h=s(f);e.default={name:"app-survey-not-list",data:function(){return{showChildComponents:{showSurveyView:!1,showSurveyPass:!1,showSurveyRefuse:!1},order:{order:"",orderBy:""},search:{keyword:"",advertiserName:"",startTime:"",endTime:"",orderBy:"",order:""},page:{totalCount:0,currentPage:1,pageSizes:[20,30,50],pageSize:30},passType:"single",viewSurveyId:"",surveyIds:[],mutilSurveys:[],list:[],searchDateRange:"",datePickOptions:{shortcuts:[{text:"今天",onClick:function(t){var e=new Date,a=new Date;t.$emit("pick",[e,a]),console.log("click today")}},{text:"最近3天",onClick:function(t){var e=new Date,a=new Date;e.setTime(e.getTime()-1728e5),t.$emit("pick",[e,a]),console.log("click three days")}},{text:"最近7天",onClick:function(t){var e=new Date,a=new Date;e.setTime(e.getTime()-5184e5),t.$emit("pick",[e,a]),console.log("clcik seven days")}},{text:"最近15天",onClick:function(t){var e=new Date,a=new Date;e.setTime(e.getTime()-12096e5),t.$emit("pick",[e,a]),console.log("clcik fifteen days")}},{text:"全部",onClick:function(t){t.$emit("pick",[null,null]),console.log("all")}}],disabledDate:function(t){return t.getTime()>Date.now()}}}},mounted:function(){var t=this;l.default.$on("close-view",function(){t.showChildComponents.showSurveyView=!1,document.body.style.overflow="auto"}),l.default.$on("close-dialog",function(){t.showChildComponents.showSurveyPass=!1,"single"===t.passType&&(t.surveyIds=[])}),l.default.$on("close-refuse",function(){t.showChildComponents.showSurveyRefuse=!1,t.surveyId="",document.body.style.overflow="auto"}),l.default.$on("show-dialog",function(){t.showChildComponents.showSurveyPass=!0}),l.default.$on("show-refuse",function(){t.showChildComponents.showSurveyRefuse=!0}),l.default.$on("refuse-survey",function(){t.showChildComponents.showSurveyRefuse=!1,t.showChildComponents.showSurveyView=!1,document.body.style.overflow="auto",t.getList()}),l.default.$on("pass-survey",function(){t.showChildComponents.showSurveyView=!1,t.showChildComponents.showSurveyPass=!1,document.body.style.overflow="auto",t.getList()})},computed:{isAdvertiserName:function(){return this.search.advertiserName.length>0},approveStatus:function(){var t=this.$route;return"survey-not"===t.name?0:"survey-passed"===t.name?1:-1},orderType:function(){return"ascending"===this.order.order?"asc":""===this.order.order?"":"desc"}},created:function(){0===this.approveStatus?(this.search.order="asc",this.search.orderBy="updateTime"):(this.search.order="desc",this.search.orderBy="approveTime"),this.getList()},components:{"m-view":u.default,"m-dialog":p.default,"m-refuse":h.default},methods:{pageSizeChange:function(t){this.page.pageSize=t,this.getList()},currentPageChange:function(t){this.page.currentPage=t,this.getList()},handleClickIcon:function(){this.search.advertiserName=""},searchHandle:function(){this.getList()},handleView:function(t,e){this.viewSurveyId=e.surveyId,this.surveyIds=[this.viewSurveyId],this.passType="single",this.showChildComponents.showSurveyView=!0,(this.showChildComponents.showSurveyView=!0)&&(document.body.style.overflow="hidden")},handleSelectionChange:function(t){var e=this;this.mutilSurveys=[],t.forEach(function(t,a){e.mutilSurveys.push(t.surveyId)})},handleSortChange:function(t){this.list=[],this.getList()},handlePass:function(t,e){this.viewSurveyId=e.surveyId,this.surveyIds=[this.viewSurveyId],this.passType="single",this.showChildComponents.showSurveyPass=!0},handleRefuse:function(t,e){this.viewSurveyId=e.surveyId,this.showChildComponents.showSurveyRefuse=!0,document.body.style.overflow="hidden"},listHandle:function(){this.surveyIds=this.mutilSurveys,this.surveyIds.length>0?(this.passType="mutil",this.showChildComponents.showSurveyPass=!0):this.$message({message:"您没有选中任何问卷！",type:"warning"})},renderHeader:function(t,e){var a=this,s=e.column,i=e.$index;return"送审时间"===s.label?s.order="updateTime"===this.order.orderBy?this.order.order:"":"操作时间"===s.label&&(s.order="approveTime"===this.order.orderBy?this.order.order:""),t("div",{on:{click:function(){a.handleOrderClick(i,s.label)}}},[s.label,t("span",{class:"caret-wrapper"},[t("i",{class:"sort-caret ascending"}),t("i",{class:"sort-caret descending"})])])},handleOrderClick:function(t,e){"送审时间"===e&&"updateTime"!==this.order.orderBy?(this.order.orderBy="updateTime",this.order.order="ascending"):"操作时间"===e&&"approveTime"!==this.order.orderBy?(this.order.orderBy="approveTime",this.order.order="ascending"):this.order.order="ascending"===this.order.order?"descending":"ascending",this.search.order=this.orderType,this.search.orderBy=this.order.orderBy,this.getList()},timeClearHours:function(t){var e=new Date(t);return e.setHours(0,0,0,0),e.getTime()},setTimeHours:function(t){var e=new Date(t);return e.setHours(23,59,59,999),e.getTime()},getList:function(){var t=this.search,e=this;o.default.get("/api/surveys",{params:{keyword:t.keyword,advertiserName:t.advertiserName,startTime:t.startTime?t.startTime:"",endTime:t.endTime?t.endTime:"",page:e.page.currentPage,number:e.page.pageSize,approveStatus:e.approveStatus,order:t.order?t.order:"asc",orderBy:t.orderBy?t.orderBy:"updateTime"}}).then(function(t){e.list=[],200===t.status&&200===t.data.code&&0===t.data.iserror?(e.list=t.data.data.list,e.list.forEach(function(t,e){t.startTime=(0,c.formatDate)(t.startTime,"yyyy.MM.dd"),t.endTime=(0,c.formatDate)(t.endTime,"yyyy.MM.dd"),t.updateTime=(0,c.formatDate)(t.updateTime,"yyyy年MM月dd日"),t.approveTime=(0,c.formatDate)(t.approveTime,"yyyy年MM月dd日"),t.companyNature=1==t.companyNature?"品牌商":2==t.companyNature?"代理商":"入驻商家"}),e.page.totalCount=t.data.data.totalCount):e.$message({message:t.data.msg,type:"error"})}).catch(function(t){console.log(t)})}},watch:{searchDateRange:{handler:function(t){if(t[0]||t[1]){var e=new Date(t[0]),a=new Date(t[1]);this.search.startTime=this.timeClearHours(e),this.search.endTime=this.setTimeHours(a)}else this.search.startTime="",this.search.endTime=""},deep:!0},approveStatus:function(t){this.search={keyword:"",advertiserName:"",startTime:"",endTime:"",orderBy:"",order:""},this.searchDateRange="";this.$route;this.surveyId=[],this.mutilSurveys=[],this.search.order=0===this.approveStatus?"asc":"desc",this.search.orderBy=0===this.approveStatus?"updateTime":"approveTime",this.getList()}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),n=s(i),o=a(4),r=s(o);e.default={name:"app-survey-preview",props:["surveyId"],data:function(){return{dataHtml:{}}},created:function(){this.getList()},methods:{closePreview:function(){n.default.$emit("close-view")},getList:function(){var t=this;r.default.get("/api/survey/preview",{params:{surveyId:this.surveyId}}).then(function(e){200==e.data.code&&(t.dataHtml=e.data.data,console.log(t.dataHtml))}).catch(function(t){console.log(t)})}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),n=s(i),o=a(4),r=s(o);e.default={name:"app-survey-refuse",props:["showRefuse","surveyId"],data:function(){return{checkList:[],textarea:"",reasonType:""}},computed:{isOtherSelected:function(){for(var t=0;t<this.checkList.length;t++)if("其他"===this.checkList[t])return!0;return!1}},methods:{handleIpnutChange:function(t){this.reasonType=t.length>0?"":"empty"},closeView:function(){this.checkList=[],this.textarea="",this.reasonType="",n.default.$emit("close-refuse")},surveyRefuseAction:function(){var t="[一-龥A-Za-z0-9]{2,20}",e=new RegExp(t);if(0===this.checkList.length)return this.$message({message:"请至少选择一项",type:"warning"}),!1;if(this.checkList.find(function(t){return"其他"===t})){var a=this.textarea.trim();a.length>0&&a.length<=200?e.test(a)?this.refuseRequest():this.reasonType="space":0===a.length&&(this.reasonType="empty")}else this.refuseRequest()},refuseRequest:function(){var t=this,e=this.checkList.findIndex(function(t){return"其他"===t});e!==-1&&(this.checkList[e]=this.textarea),r.default.put("/api/survey/reject",{surveyId:t.surveyId,rejectReason:t.checkList}).then(function(e){200===e.status&&200===e.data.code&&0===e.data.iserror&&(t.checkList=[],t.textarea="",n.default.$emit("refuse-survey"))}).catch(function(t){console.log(t)})}},watch:{isOtherSelected:function(t){t||(this.reasonType="")}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),n=s(i),o=a(4),r=s(o);e.default={name:"app-survey-dialog",data:function(){return{msg:""}},props:["showDialog","surveyIds","passType"],methods:{closeDialogHandler:function(){n.default.$emit("close-dialog")},surveyPassAction:function(){var t=this;r.default.put("/api/survey/pass",{surveyIds:t.surveyIds}).then(function(t){200===t.status&&200===t.data.code&&0===t.data.iserror&&n.default.$emit("pass-survey")}).catch(function(t){console.log(t)})}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),n=s(i),o=a(578),r=s(o);e.default={name:"survey-view-dialog",data:function(){return{activeName:"first"}},props:["showView","surveyId","approveStatus"],components:{"m-detail":r.default},methods:{handleClick:function(t,e){console.log(t,e)},closeView:function(){n.default.$emit("close-view")},passDialogHandler:function(){n.default.$emit("show-dialog")},viewRefuseHandler:function(){n.default.$emit("show-refuse")}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(94),n=s(i),o=a(583),r=s(o);e.default={name:"app-material-main",data:function(){return{navMenu:[{msg:"用户任务",link:"javascript:void(0)",icon:"icon-mission-selected",checked:!0,sub:[{msg:"任务管理",link:"/#/app/consumer/missionManage"},{msg:"数据报表",link:"/#/app/consumer/missionReport"}]}]}},components:{"m-nav":n.default,"m-drawer":r.default}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(9),n=s(i),o=a(4),r=(s(o),a(7)),l=s(r),c=a(5),d=s(c),u=a(585),m=s(u);e.default={name:"newMedia",data:function(){return{typeMap:{mission:"任务"},actionMap:{new:"新建",modify:"修改",copy:"复制",look:"查看"}}},components:{"m-mission":m.default},computed:{config:function(){return n.default.state.drawerCtrl}},methods:{closeView:function(){l.default.controlDrawer(this.$store,{show:!1})},save:function(t){var e=this;d.default.$off("mission-save-result"),d.default.$once("mission-save-result",function(a){a.error||(d.default.$emit("mission-save-success"),t&&"Function"===objType(t)?t(a):l.default.controlDrawer(n.default,{show:!1}),e.$message({message:"保存成功",type:"success",duration:3e3}))}),d.default.$emit("mission-save")}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(6),n=(s(i),a(7)),o=s(n),r=a(4),l=s(r),c=a(5),d=s(c),u=a(1),m=s(u),p=a(25),f=s(p),h=a(23);e.default={name:"mission-manage",data:function(){return{searchDateRange:"",datePickOptions:{shortcuts:[{text:"今天",onClick:function(t){var e=new Date,a=new Date;t.$emit("pick",[e,a])}},{text:"最近3天",onClick:function(t){var e=new Date,a=new Date;e.setTime(e.getTime()-1728e5),t.$emit("pick",[e,a])}},{text:"最近7天",onClick:function(t){var e=new Date,a=new Date;e.setTime(e.getTime()-5184e5),t.$emit("pick",[e,a])}},{text:"最近15天",onClick:function(t){var e=new Date,a=new Date;e.setTime(e.getTime()-12096e5),t.$emit("pick",[e,a])}},{text:"全部",onClick:function(t){t.$emit("pick",[null,null])}}]},formData:{startTime:"",endTime:""},breadcrumbConfig:{data:[{msg:"用户任务",link:"/#/app/consumer/missionManage"},{msg:"任务管理",link:"/#"+this.$route.path}]},id:"",today:(new Date).getTime(),yesterdayCost:0,balance:0,page:{totalCount:0,currentPage:1,pageSizes:[20,30,50],pageSize:20},so:{keyword:"",status:{options:[{label:"全部",value:"0"},{label:"有效",value:"1"},{label:"过期",value:"2"},{label:"未开始",value:"3"}],value:"0"},list:[]},dialogVisible:!1,title:"提示",body_html:"",btn_state:"",params:{}}},components:{"m-breadcrumb":f.default},computed:{},mounted:function(){var t=this;(0,h.initWindowResize)("con-table-change",!1,0),d.default.$on("missionModify",function(e){t.dialogVisible=!0,t.body_html="<h3>确定修改该任务吗？</h3><p>(修改后将会在任务的下一个周期生效)</p>",t.btn_state="modify",t.params=e})},updated:function(){(0,h.tableHandler)("con-table-change",!1,0)},destroyed:function(){(0,h.offWindowEvent)("con-table-change")},created:function(){var t=this;d.default.$off("mission-save-success"),d.default.$on("mission-save-success",function(){t.getList(),t.getMissionAccount()}),t.getMissionAccount(),t.getList()},methods:{sureFn:function(){var t=this;if("stop"==this.btn_state){var e=this;l.default.put("/api/mission/terminate",{missionId:e.id}).then(function(t){e.$message({message:t.data.msg,type:"success",duration:3e3}),e.getList()}).catch(function(t){console.log(t)})}else"modify"==this.btn_state&&(0,l.default)({url:"/api/mission",method:"put",data:this.params}).then(function(e){e.data.iserror?d.default.$emit("mission-save-result",{error:1,res:null}):d.default.$emit("mission-save-result",{error:0,res:e.data,isRebate:t.formData.isRebate})}).catch(function(t){d.default.$emit("mission-save-result",{error:1,res:null})});this.dialogVisible=!1},newMission:function(){o.default.controlDrawer(this.$store,{show:!0,action:"new",type:"mission",config:{name:"",totalCount:"",startTime:(0,m.default)(Date.now()).startOf("day").valueOf(),endTime:(0,m.default)(Date.now()).startOf("day").valueOf(),cycleMode:0,cycleDays:"",typeUpVote:0,typeShare:0,typeResearch:0,typeWatch:0,typeUpVoteCount:"",typeShareCount:"",typeResearchCount:"",typeWatchCount:"",awardAmount:"",description:""}})},getMissionAccount:function(){var t=this;l.default.get("/api/mission/account").then(function(e){200==e.data.code&&(t.balance=e.data.data.balance,t.yesterdayCost=e.data.data.yesterdayCost)}).catch(function(t){console.log(t);
})},getData:function(t,e){l.default.get("/api/mission",{params:{missionId:t}}).then(function(t){200===t.data.code&&e(t.data.data)}).catch(function(t){console.log(t)})},getList:function(){var t=this;l.default.get("/api/missions",{params:{keyword:t.so.keyword,startTime:t.formData.startTime?t.formData.startTime:"",endTime:t.formData.endTime?t.formData.endTime:"",missionStatus:t.so.status.value,page:t.page.currentPage,number:t.page.pageSize}}).then(function(e){console.log(e),200==e.data.code&&(t.so.list=e.data.data.list,t.page.totalCount=e.data.data.totalCount)}).catch(function(t){console.log(t)})},pageSizeChange:function(t){this.page.pageSize=t,this.getList()},currentPageChange:function(t){this.page.currentPage=t,this.getList()},lookMission:function(t){var e=this;this.getData(t,function(t){o.default.controlDrawer(e.$store,{show:!0,action:"look",type:"mission",config:t})})},modify:function(t,e,a,s,i){var n=this;(2!=e&&0!=a||3==e)&&(0==s?this.$message({message:"已经终止过了,不能进行修改！",type:"warning",duration:3e3}):0==i&&3!=e?this.$message({message:"最后一个周期,不能进行修改！",type:"warning",duration:3e3}):this.getData(t,function(a){a.missionId=t,a.missionStatus=e,o.default.controlDrawer(n.$store,{show:!0,action:"modify",type:"mission",config:a})}))},stop:function(t,e,a,s,i){1==e&&1==a&&(0==s?this.$message({message:"已经终止过了,不能再次终止！",type:"warning",duration:3e3}):0==i?this.$message({message:"最后一个周期,不能进行终止！",type:"warning",duration:3e3}):(this.dialogVisible=!0,this.body_html="<h3>确定终止该任务吗？</h3><p>(终止后将会在任务的下一个周期生效)</p>",this.btn_state="stop",this.id=t))},copy:function(t){var e=this;this.getData(t,function(t){o.default.controlDrawer(e.$store,{show:!0,action:"copy",type:"mission",config:t})})},timeClearHours:function(t){var e=new Date(t);return e.setHours(0,0,0),e.getTime()},setTimeHours:function(t){var e=new Date(t);return e.setHours(23,59,59),e.getTime()}},watch:{searchDateRange:{handler:function(t){if(t[0]||t[1]){var e=new Date(t[0]),a=new Date(t[1]);this.formData.startTime=this.timeClearHours(e),this.formData.endTime=this.setTimeHours(a)}else this.formData.startTime="",this.formData.endTime=""},deep:!0}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),n=s(i),o=a(7),r=(s(o),a(9)),l=s(r),c=a(4),d=s(c),u=a(1),m=s(u),p=a(8);e.default={name:"drawer-mission",data:function(){var t=this;return{pickerOptions:{disabledDate:function(t){return t.getTime()<Date.now()-864e5}},formData:{},timeDiff:"",rules:{name:[{validator:function(t,e,a){(0,p.limitLen)(e,30)?""==e?a(new Error("请输入任务名称")):a():a(new Error("最大长度不超过30个字符"))},trigger:"change"}],description:[{validator:function(t,e,a){(0,p.limitLen)(e,800)?""==e?a(new Error("请输入任务说明")):a():a(new Error("最大长度不超过800个字符"))},trigger:"change"}],startTime:[{validator:function(e,a,s){t.formData.startTime.valueOf()>t.formData.endTime.valueOf()?s(new Error("开始时间不得迟于结束时间")):""==a?s(new Error("请填写时间段")):s()},trigger:"change"}]},httpMethodMap:{new:"post",modify:"put",copy:"post"},showHint:{totalCount:!1,cycleDays:!1,typeUpVoteCount:!1,typeShareCount:!1,typeResearchCount:!1,typeWatchCount:!1,awardAmount:!1},index:["totalCount","cycleDays","typeUpVoteCount","typeShareCount","typeResearchCount","typeWatchCount","awardAmount"],resultCount:[],firstEnter:!1}},computed:{drawerData:function(){return l.default.state.drawerCtrl.config},drawerCtrlAction:function(){return l.default.state.drawerCtrl.action},config:function(){return l.default.state.drawerCtrl},isTypeLook:function(){return"look"==this.drawerCtrlAction},isMissionStatus:function(){return 1==this.formData.missionStatus}},created:function(){this.formData=(0,p.copyObj)(this.drawerData),"copy"==this.drawerCtrlAction&&(this.formData.startTime="",this.formData.endTime=""),this.formData.typeUpVoteCount=0==this.formData.typeUpVoteCount?"":this.formData.typeUpVoteCount,this.formData.typeShareCount=0==this.formData.typeShareCount?"":this.formData.typeShareCount,this.formData.typeResearchCount=0==this.formData.typeResearchCount?"":this.formData.typeResearchCount,this.formData.typeWatchCount=0==this.formData.typeWatchCount?"":this.formData.typeWatchCount,this.formData.cycleDays=0==this.formData.cycleDays?"":this.formData.cycleDays,this.formData.awardAmount=this.formData.awardAmount?this.formData.awardAmount/100:"","copy"!=this.drawerCtrlAction&&"modify"!=this.drawerCtrlAction&&"look"!=this.drawerCtrlAction||this.changeRound()},methods:{trim:function(t){this.formData[t]=this.formData[t].replace(/(^\s*)|(\s*$)/g,"")},selectedTime:function(){this.timeDiff=(0,m.default)(this.formData.endTime).diff((0,m.default)(this.formData.startTime),"days")+1,this.formData.cycleDays>this.timeDiff&&1==this.formData.cycleMode?(this.$refs.cycleDays.style.borderColor="#ff4949",this.showHint.cycleDays=!0):(this.$refs.cycleDays.style.borderColor="#BFCBD9",this.showHint.cycleDays=!1)},autoFocus:function(t,e){t.currentTarget.checked||(this.showHint[e]=!1,this.$refs[e].style.borderColor="#BFCBD9",this.formData[e]="")},clearNum:function(t){this.formData[t].length&&(this.formData[t]=this.formData[t].replace(/^0/g,""),this.formData[t]=this.formData[t].replace(/[^0-9]/g,""))},clearAwardAmount:function(){this.formData.awardAmount.length&&(this.formData.awardAmount=this.formData.awardAmount.replace(/[^\d.]/g,""),this.formData.awardAmount=this.formData.awardAmount.replace(/\.{2,}/g,"."),this.formData.awardAmount=this.formData.awardAmount.replace(".","$#$").replace(/\./g,"").replace("$#$","."))},changeRound:function(){if(""!=this.formData.awardAmount){var t=Math.round(100*this.formData.awardAmount)/100,e=t.toString(),a=e.indexOf(".");for(a<0&&(a=e.length,e+=".");e.length<=a+2;)e+="0";this.formData.awardAmount=e}},changeBorderColor:function(t,e){t.currentTarget.style.borderColor=e},awardFocus:function(t,e){this.timeDiff=(0,m.default)(this.formData.endTime).diff((0,m.default)(this.formData.startTime),"days")+1,""==this.formData[e]?(this.changeBorderColor(t,"#ff4949"),this.showHint[e]=!0):this.formData[e]>99999999?(this.changeBorderColor(t,"#ff4949"),this.showHint[e]=!0):"cycleDays"==e&&this.formData[e]>this.timeDiff?(this.changeBorderColor(t,"#ff4949"),this.showHint[e]=!0):(this.changeBorderColor(t,"#BFCBD9"),this.showHint[e]=!1)},saveHint:function(t){this.showHint[t]=!0,this.$refs[t].style.borderColor="#ff4949"},saveJudge:function(){this.resultCount=[],this.timeDiff=(0,m.default)(this.formData.endTime).diff((0,m.default)(this.formData.startTime),"days")+1;for(var t=0;t<this.index.length;t++)if("totalCount"==this.index[t]||"awardAmount"==this.index[t])""==this.formData[this.index[t]]||this.formData[this.index[t]]>99999999?(this.saveHint(this.index[t]),this.resultCount.push(0)):this.resultCount.push(1);else if("cycleDays"==this.index[t])(this.formData[this.index[t]]>99999999||""==this.formData[this.index[t]]||this.formData[this.index[t]]>this.timeDiff)&&1==this.formData.cycleMode?(this.saveHint(this.index[t]),this.resultCount.push(0)):this.resultCount.push(1);else{var e=this.index[t].replace("Count","");(this.formData[this.index[t]]>99999999||""==this.formData[this.index[t]])&&1==this.formData[e]?(this.saveHint(this.index[t]),this.resultCount.push(0)):this.resultCount.push(1)}for(var a=!0,s=0;s<this.resultCount.length;s++)0==this.resultCount[s]&&(a=!1);return a},timeClearHours:function(t){var e=new Date(t);return e.setHours(0,0,0),e.getTime()},setTimeHours:function(t){var e=new Date(t);return e.setHours(23,59,59),e.getTime()}},mounted:function(){var t=this;n.default.$off("mission-save"),n.default.$on("mission-save",function(){t.$refs.formData.validate(function(e){var a={name:t.formData.name,totalCount:t.formData.totalCount,startTime:t.timeClearHours(t.formData.startTime),endTime:t.setTimeHours(t.formData.endTime),cycleMode:t.formData.cycleMode,cycleDays:""==t.formData.cycleDays?0:t.formData.cycleDays,typeUpVote:t.formData.typeUpVote,typeUpVoteCount:""==t.formData.typeUpVoteCount?0:t.formData.typeUpVoteCount,typeShare:t.formData.typeShare,typeShareCount:""==t.formData.typeShareCount?0:t.formData.typeShareCount,typeResearch:t.formData.typeResearch,typeResearchCount:""==t.formData.typeResearchCount?0:t.formData.typeResearchCount,typeWatch:t.formData.typeWatch,typeWatchCount:""==t.formData.typeWatchCount?0:t.formData.typeWatchCount,awardAmount:100*t.formData.awardAmount,description:t.formData.description},s=(0,p.mixin)({missionId:t.formData.missionId},a);t.saveJudge(),0==t.formData.typeUpVote&&0==t.formData.typeShare&&0==t.formData.typeResearch&&0==t.formData.typeWatch?t.$message({message:"至少选择一种任务类型",type:"warning",duration:3e3}):e&&t.saveJudge()?"modify"==t.drawerCtrlAction&&1==t.formData.missionStatus?n.default.$emit("missionModify",s):(0,d.default)({url:"/api/mission",method:t.httpMethodMap[t.drawerCtrlAction],data:"modify"===t.drawerCtrlAction?(0,p.mixin)({missionId:t.formData.missionId},a):a}).then(function(e){e.data.iserror?n.default.$emit("mission-save-result",{error:1,res:null}):n.default.$emit("mission-save-result",{error:0,res:e.data,isRebate:t.formData.isRebate})}).catch(function(t){n.default.$emit("mission-save-result",{error:1,res:null})}):n.default.$emit("mission-save-result",{error:1,res:null})})})},watch:{"formData.cycleMode":function(){var t=this;1!=t.formData.cycleMode&&(t.showHint.cycleDays=!1,t.formData.cycleDays="")}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(6),n=(s(i),a(7)),o=(s(n),a(4)),r=s(o),l=a(5),c=(s(l),a(1)),d=s(c),u=a(25),m=s(u),p=a(23);e.default={name:"mission-report",data:function(){return{searchDateRange:"",datePickOptions:{shortcuts:[{text:"今天",onClick:function(t){var e=new Date,a=new Date;t.$emit("pick",[e,a])}},{text:"最近3天",onClick:function(t){var e=new Date,a=new Date;e.setTime(e.getTime()-1728e5),t.$emit("pick",[e,a])}},{text:"最近7天",onClick:function(t){var e=new Date,a=new Date;e.setTime(e.getTime()-5184e5),t.$emit("pick",[e,a])}},{text:"最近15天",onClick:function(t){var e=new Date,a=new Date;e.setTime(e.getTime()-12096e5),t.$emit("pick",[e,a])}},{text:"全部",onClick:function(t){t.$emit("pick",[null,null])}}]},formData:{startTime:"",endTime:""},breadcrumbConfig:{data:[{msg:"用户任务",link:"/#/app/consumer/missionManage"},{msg:"数据报表",link:"/#"+this.$route.path}]},page:{totalCount:0,currentPage:1,pageSizes:[20,30,50],pageSize:20},so:{keyword:"",status:{options:[{label:"全部",value:"0"},{label:"有效",value:"1"},{label:"过期",value:"2"}],value:"0"},list:[]}}},components:{"m-breadcrumb":m.default},created:function(){this.getList()},mounted:function(){(0,p.initWindowResize)("con-table-change",!1,3)},updated:function(){0==this.so.list.length?(0,p.tableHandler)("con-table-change",!1,0):(0,p.tableHandler)("con-table-change",!1,3)},destroyed:function(){(0,p.offWindowEvent)("con-table-change")},computed:{getExportUrl:function(){var t=(0,d.default)(this.formData.startTime).valueOf()?(0,d.default)(this.formData.startTime).valueOf():"",e=(0,d.default)(this.formData.endTime).valueOf()?(0,d.default)(this.formData.endTime).valueOf():"";return $CONFIG.domain+"/api/report/mission/export?keyword="+this.so.keyword+"&startTime="+t+"&endTime="+e+"&status="+this.so.status.value+"&page="+this.page.currentPage+"&number="+this.page.pageSize}},methods:{getList:function(){var t=this;r.default.get("/api/report/mission",{params:{keyword:t.so.keyword,startTime:t.formData.startTime?t.formData.startTime:"",endTime:t.formData.endTime?t.formData.endTime:"",status:t.so.status.value,page:t.page.currentPage,number:t.page.pageSize}}).then(function(e){200==e.data.code&&(t.so.list=e.data.data.list,t.page.totalCount=e.data.data.totalCount)}).catch(function(t){console.log(t)})},pageSizeChange:function(t){this.page.pageSize=t,this.getList()},currentPageChange:function(t){this.page.currentPage=t,this.getList()},timeClearHours:function(t){var e=new Date(t);return e.setHours(0,0,0),e.getTime()},setTimeHours:function(t){var e=new Date(t);return e.setHours(23,59,59),e.getTime()}},watch:{searchDateRange:{handler:function(t){if(t[0]||t[1]){var e=new Date(t[0]),a=new Date(t[1]);this.formData.startTime=this.timeClearHours(e),this.formData.endTime=this.setTimeHours(a)}else this.formData.startTime="",this.formData.endTime=""},deep:!0}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app-main"}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(610),n=s(i);e.default={name:"app-main",components:{"m-head":n.default}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(6),n=(s(i),a(7)),o=s(n),r=a(22),l=(s(r),a(12)),c=(s(l),a(4)),d=s(c),u=a(5),m=s(u),p=a(25),f=s(p),h=a(23);e.default={name:"app-resource-advertForm",data:function(){return{nowDate:(new Date).getTime(),breadcrumbConfig:{data:[{msg:"资源位",link:"/#/app/resource/"},{msg:"广告形式",link:"/#"+this.$route.path}]},so:{keyword:"",list:[],showCM:!1,status:{options:[{label:"全部",value:"-2"},{label:"上线",value:"1"},{label:"下线",value:"0"}],value:"-2"}},dialogVisible:!1,title:"提示",body_html:"",btn_state:"",id:"",status:"",offline_time:"",page:{totalCount:0,currentPage:1,pageSizes:[20,30,50],pageSize:20}}},components:{"m-breadcrumb":f.default},created:function(){this.getList();var t=this;m.default.$off("media-save-success"),m.default.$on("media-save-success",function(){t.getList()})},updated:function(){(0,h.tableHandler)("con-table-change",!0,0)},destroyed:function(){(0,h.offWindowEvent)("con-table-change")},methods:{pageSizeChange:function(t){this.page.pageSize=t,this.getList()},currentPageChange:function(t){this.page.currentPage=t,this.getList()},getList:function(){var t=this.so,e=this;d.default.get("/api/formats",{params:{keyword:this.so.keyword,status:this.so.status.value,page:this.page.currentPage,number:this.page.pageSize}}).then(function(a){if(console.log(a),200==a.data.code){var s=a.data.data;t.list=s.list,e.page.totalCount=a.data.data.totalCount}}).catch(function(t){console.log(t)})},newForm:function(){o.default.controlDrawer(this.$store,{show:!0,action:"new",type:"format",config:{name:"",adElement:{image:[],video:[],text:[]}}})},sureFn:function(){var t=this;"delete"==this.btn_state?d.default.get("/api/format/status",{params:{formatId:t.id}}).then(function(e){if(200==e.data.code){var a=e.data.data.status;1==a?(t.dialogVisible=!0,t.body_html="<h3>无法删除</h3><p>(只有下线的广告形式才能被删除)</p>",t.btn_state="noCan"):d.default.delete("/api/format",{data:{formatId:t.id}}).then(function(e){200==e.data.code&&(t.getList(),t.$message({message:e.data.msg,type:"success",duration:3e3}))}).catch(function(t){alert("fail")})}}).catch(function(t){console.log(t)}):"up"==this.btn_state?d.default.put("/api/format/status",{formatId:t.id,status:1==t.status?0:1}).then(function(e){200==e.data.code&&(t.getList(),t.$message({message:e.data.msg,type:"success",duration:3e3}))}).catch(function(t){alert("fail")}):"noCan"==this.btn_state?this.dialogVisible=!1:"change"==this.btn_state&&d.default.get("/api/format/checkOfflineConditon",{params:{formatId:t.id}}).then(function(e){200==e.data.code&&e.data.data.result?(d.default.put("/api/format/status",{formatId:t.id,status:t.status,offline_time:t.offline_time}).then(function(e){200==e.data.code&&(t.getList(),t.$message({message:e.data.msg,type:"success",duration:3e3}))}).catch(function(t){alert("fail")}),o.default.controlDrawer(t.$store,{show:!1})):(t.dialogVisible=!0,t.body_html="<h3>该广告形式无法下线</h3><p>请先解除与该广告形式绑定的广告的关联关系</p>",t.btn_state="noCan")}).catch(function(t){alert("fail")}),this.dialogVisible=!1},getData:function(t,e){d.default.get("/api/format",{params:{formatId:t}}).then(function(t){200==t.data.code&&e(t.data.data)}).catch(function(t){console.log(t)})},modify:function(t,e){var a=this;1!=e&&this.getData(t,function(t){t.adElement.image||(t.adElement.image=[]),t.adElement.video||(t.adElement.video=[]),t.adElement.text||(t.adElement.text=[]),o.default.controlDrawer(a.$store,{show:!0,action:"modify",type:"format",config:t})})},del:function(t,e){this.dialogVisible=!0,this.body_html="<h3>您确定要删除该广告形式吗？</h3>",this.btn_state="delete",this.id=t},changeStatus:function(t,e){var a=this;1==e?this.getData(t,function(t){t.summary=a.summary,o.default.controlDrawer(a.$store,{show:!0,action:"change",type:"advertFormChange",config:t})}):(this.dialogVisible=!0,this.body_html="<h3>您确定要上线该广告形式吗？</h3>",this.btn_state="up",this.id=t)}},mounted:function(){var t=this;m.default.$on("changeStatus",function(e){2==e.status&&(t.dialogVisible=!0,t.body_html="<h3>您确定要将该广告下线吗？</h3>"),t.btn_state="change",t.id=e.formatId,t.status=e.status,t.offline_time=e.offline_time}),(0,h.initWindowResize)("con-table-change",!0,0)}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),n=s(i),o=a(7),r=(s(o),a(9)),l=s(r),c=a(4),d=(s(c),a(8));e.default={name:"app-resource-advertising-drawer-changestatus",data:function(){return{pickerOptions0:{disabledDate:function(t){return t.getTime()<Date.now()-864e5}},formData:{},offline_time:new Date,showTime:!1,compare:"",dialogVisible:!1,title:"提示",body_html:"",btn_state:""}},computed:{drawerData:function(){return l.default.state.drawerCtrl.config},drawerCtrlAction:function(){return l.default.state.drawerCtrl.action},config:function(){return l.default.state.drawerCtrl}},created:function(){if(this.formData=(0,d.copyObj)(this.drawerData),this.compare=this.formData.status,this.formData.adElement.image)for(var t=this.formData.adElement.image,e=0;e<t.length;e++)t[e].suffix=t[e].suffix.split(",")},methods:{changeStatus:function(t){2==t?this.showTime=!0:this.showTime=!1}},mounted:function(){var t=this;n.default.$off("media-save"),n.default.$on("media-save",function(){var e={formatId:t.formData.formatId,status:t.formData.status,offline_time:t.offline_time};n.default.$emit("changeStatus",e)})}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),n=s(i),o=a(7),r=(s(o),a(9)),l=s(r),c=a(4),d=s(c),u=a(8);e.default={name:"app-resource-advertForm",data:function(){return{showImage:!1,showText:!1,showVideo:!1,formData:{},rules:{name:[{required:!0,message:"请输入广告形式名称",trigger:"blur"},{max:60,message:"最大长度不超过60个字符",trigger:"blur"}],imageName:[{required:!0,message:"请输入元素名称",trigger:"blur"},{max:60,message:"最大长度不超过60个字符",trigger:"blur"}],textName:[{required:!0,message:"请输入元素名称",trigger:"blur"},{max:60,message:"最大长度不超过60个字符",trigger:"blur"}],videoName:[{required:!0,message:"请输入元素名称",trigger:"blur"},{max:60,message:"最大长度不超过60个字符",trigger:"blur"}]},httpMethodMap:{new:"post",modify:"put"},showSlot:[]}},computed:{drawerData:function(){return l.default.state.drawerCtrl.config},drawerCtrlAction:function(){return l.default.state.drawerCtrl.action},config:function(){return l.default.state.drawerCtrl}},created:function(){if(this.formData=(0,u.copyObj)(this.drawerData),"modify"==this.drawerCtrlAction)for(var t=this.formData.adElement.image,e=0;e<t.length;e++)t[e].suffix=t[e].suffix.split(",")},methods:{jugeMax:function(t,e){if(Number(t)<Number(e)){var a=document.getElementById("errorMax"),s=document.getElementById("errorMax").className;s=s.replace(" none",""),a.setAttribute("class",s)}else{var a=document.getElementById("errorMax"),s=document.getElementById("errorMax").className;s.indexOf("none")==-1&&(s=s.concat(" none"),a.setAttribute("class",s));var i=document.getElementById("errorMin");i.className.indexOf("none")==-1&&(i.className=i.className.concat(" none"),a.setAttribute("class",i.className))}},jugeMin:function(t,e){if(Number(e)>Number(t)){var a=document.getElementById("errorMin"),s=document.getElementById("errorMin").className;s=s.replace(" none",""),a.setAttribute("class",s)}else{var a=document.getElementById("errorMin"),s=document.getElementById("errorMin").className;s.indexOf("none")==-1&&(s=s.concat(" none"),a.setAttribute("class",s));var i=document.getElementById("errorMax");i.className.indexOf("none")==-1&&(i.className=i.className.concat(" none"),a.setAttribute("class",i.className))}},handleCommand:function(t){var e={name:"",width:"",height:"",maxVolume:"",suffix:[]},a={name:"",bitrate:"",size:"",time:""},s={name:"",max:"",min:""};"image"==t?this.formData.adElement.image.push(e):"video"==t?this.formData.adElement.video.push(a):"text"==t&&this.formData.adElement.text.push(s)},close:function(t,e){Array.prototype.del=function(t){return!(isNaN(t)||t>this.length)&&void this.splice(t,1)},"image"==t?this.formData.adElement.image.del(e):"video"==t?this.formData.adElement.video.del(e):"text"==t&&this.formData.adElement.text.del(e)}},mounted:function(){var t=this;n.default.$off("media-save"),n.default.$on("media-save",function(){t.$refs.formData.validate(function(e){if(e){for(var a=t.formData.adElement.image,s=0;s<a.length;s++)a[s].suffix=a[s].suffix.join(",");var i=t.formData;(0,d.default)({url:"/api/format",method:t.httpMethodMap[t.drawerCtrlAction],data:i}).then(function(t){console.log(t),t.data.iserror?n.default.$emit("media-save-result",{error:1,res:null}):n.default.$emit("media-save-result",{error:0,res:t.data})}).catch(function(t){n.default.$emit("media-save-result",{error:1,res:null})})}else n.default.$emit("media-save-result",{error:1,res:null})})})}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(6),n=(s(i),a(7)),o=s(n),r=a(22),l=(s(r),a(12)),c=(s(l),a(4)),d=s(c),u=a(5),m=s(u),p=a(25),f=s(p),h=a(596),v=s(h),g=a(595),_=s(g),w=a(8),b=a(23);e.default={name:"resource-advert",data:function(){return{nowDate:(new Date).getTime(),page:{totalCount:0,currentPage:1,pageSizes:[20,30,50],pageSize:20},channelId:"",publisherId:"",advertisementId:"",saleMode:"",summary:{mediaName:"",advertisingState:"",levelone:"",leveltwo:"",advertisingName:""},so:{keyword:"",list:[],paidState:{options:[{label:"全部",value:"-1"},{label:"CPD",value:"5"},{label:"定价CPC",value:"1"},{label:"竞价CPC",value:"0"},{label:"定价CPM(合约)",value:"3"},{label:"定价CPM(非合约)",value:"4"},{label:"竞价CPM",value:"2"},{label:"CPS",value:"6"}],value:"-1"},status:{options:[{label:"全部",value:"-2"},{label:"上线",value:"1"},{label:"下线",value:"0"}],value:"-2"}},dialogVisible:!1,title:"提示",body_html:"",btn_state:"",id:"",status:"",effectTime:"",compare:"",showChildComponents:{showPrice:!1,showCpcPrice:!1}}},computed:{breadcrumbConfig:function t(){var t={data:[{msg:"资源位",link:"/#/app/resource/"},{msg:"媒体",link:"/#/app/resource/publisher"},{msg:"频道列表",link:"/#/app/resource/channel/"+this.publisherId},{msg:"广告位列表",link:"/#/app/resource/advertisingList/"+this.channelId},{msg:"广告",link:"/#"+this.$route.path}]};return t}},components:{"m-breadcrumb":f.default,"m-price":v.default,"m-cpcPrice":_.default},created:function(){this.getSummary(),this.getList();var t=this;m.default.$off("media-save-success"),m.default.$on("media-save-success",function(){t.getList()})},updated:function(){(0,b.tableHandler)("con-table-change",!0,0)},destroyed:function(){(0,b.offWindowEvent)("con-table-change")},methods:{changeLength:function(){console.log(1)},price:function(t,e){0!=e&&2!=e&&1!=e?(this.showChildComponents.showPrice=!0,this.advertisementId=t,this.saleMode=e):1==e&&(this.showChildComponents.showCpcPrice=!0,this.advertisementId=t)},showAdvert:function(){0!=this.summary.advertisingState&&o.default.controlDrawer(this.$store,{show:!0,action:"new",type:"advert",config:{name:"",saleMode:"",formatName:"",generalizeType:"",templateName:"",summary:this.summary,slotId:this.$route.params.id}})},pageSizeChange:function(t){this.page.pageSize=t,this.getList()},currentPageChange:function(t){this.page.currentPage=t,this.getList()},getList:function(){var t=this.so,e=this;d.default.get("/api/advertisements",{params:{slotId:e.$route.params.id,keyword:t.keyword,saleMode:t.paidState.value,status:t.status.value,page:this.page.currentPage,number:this.page.pageSize}}).then(function(a){if(200==a.data.code){var s=a.data.data;t.list=s.list,e.page.totalCount=a.data.data.totalCount}}).catch(function(t){alert("list fail")})},getSummary:function(){var t=this.summary,e=this;d.default.get("/api/slot",{params:{slotId:this.$route.params.id}}).then(function(a){if(200==a.data.code){var s=a.data.data;t.advertisingState=s.status,t.advertisingName=s.name,e.publisherId=s.publisherId,e.channelId=s.channelId,localStorage.setItem("publisherId",s.publisherId),localStorage.setItem("channelId",s.channelId),d.default.get("/api/channel",{params:{channelId:e.channelId}}).then(function(e){if(200==e.data.code){var a=e.data.data;t.levelone=a.parentName?a.parentName:a.name,t.leveltwo=a.parentName?a.name:"--"}}).catch(function(t){console.log(t)}),d.default.get("/api/publisher",{params:{publisherId:e.publisherId}}).then(function(e){if(200==e.data.code){var a=e.data.data;t.mediaName=a.name}}).catch(function(t){console.log(t)})}}).catch(function(t){console.log(t)})},getData:function(t,e){d.default.get("/api/advertisement",{params:{advertisementId:t}}).then(function(t){200===t.data.code&&e(t.data.data)}).catch(function(t){console.log(t)})},sureFn:function(){var t=this;"delete"==this.btn_state?d.default.get("/api/advertisement/status",{params:{advertisementId:t.id}}).then(function(e){if(200==e.data.code){var a=e.data.data.status;1==a?(t.dialogVisible=!0,t.body_html="<h3>处于上线状态的广告无法删除！</h3>",t.btn_state="noCan"):d.default.delete("/api/advertisement",{data:{advertisementId:t.id}}).then(function(e){console.log(e),200==e.data.code&&(t.getList(),t.$message({message:e.data.msg,type:"success",duration:3e3}))}).catch(function(t){alert("fail")})}}).catch(function(t){console.log(t)}):"change"==t.btn_state?1==t.compare&&0==t.status?d.default.get("/api/advertisement/checkOfflineCondition",{params:{advertisementId:t.id,status:t.status,effectiveTime:(0,w.formatDate)(t.effectTime,"yyyy-MM-dd")}}).then(function(e){200==e.data.code&&e.data.data.result?(d.default.put("/api/advertisement/status",{advertisementId:t.id,status:t.status,effectiveTime:(0,w.formatDate)(t.effectTime,"yyyy-MM-dd")}).then(function(e){200==e.data.code&&(t.getList(),t.$message({message:e.data.msg,type:"success",duration:3e3}))}).catch(function(t){alert("fail")}),o.default.controlDrawer(t.$store,{show:!1})):(t.dialogVisible=!0,t.body_html="<h3>该广告无法下线</h3><p>预期销售时间与广告销售排期冲突</p>",t.btn_state="noCan")}).catch(function(t){alert("fail")}):(d.default.put("/api/advertisement/status",{advertisementId:t.id,status:t.status}).then(function(e){200==e.data.code&&(t.getList(),t.$message({message:e.data.msg,type:"success",duration:3e3}))}).catch(function(t){alert("fail")}),o.default.controlDrawer(t.$store,{show:!1})):"noCan"==this.btn_state&&(this.dialogVisible=!1),this.dialogVisible=!1},modify:function(t,e){var a=this;1!=e&&this.getData(t,function(t){t.summary=a.summary,console.log(t),o.default.controlDrawer(a.$store,{show:!0,action:"modify",type:"advert",config:t})})},del:function(t,e){this.dialogVisible=!0,this.body_html="<h3>您确定要删除该广告吗？</h3>",this.btn_state="delete",this.id=t},changeStatus:function(t,e){var a=this;0!=this.summary.advertisingState&&this.getData(t,function(t){t.summary=a.summary,o.default.controlDrawer(a.$store,{show:!0,action:"change",type:"advertChange",config:t})})}},mounted:function(){var t=this,e=this;m.default.$on("changeStatus",function(e){1==e.compare&&0==e.status?(t.dialogVisible=!0,t.body_html="<h3>您确定要将该广告下线吗？</h3>"):0==e.compare&&1==e.status&&(t.dialogVisible=!0,t.body_html="<h3>您确定要将该广告上线吗？</h3>"),t.btn_state="change",t.id=e.advertisementId,t.status=e.status,t.effectTime=e.effectTime,t.compare=e.compare}),m.default.$on("close-price",function(){e.showChildComponents.showPrice=!1}),m.default.$on("close-Cpc-price",function(){e.showChildComponents.showCpcPrice=!1}),(0,b.initWindowResize)("con-table-change",!0,0)}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),n=s(i),o=a(7),r=(s(o),a(9)),l=s(r),c=a(4),d=s(c),u=a(8);e.default={name:"app-resource-advert-drawerAdvert",data:function(){return{formData:{},rules:{name:[{required:!0,message:"请输入广告位名称",trigger:"blur"},{max:60,message:"最大长度不超过60个字符",trigger:"blur"}],saleMode:[{validator:function(t,e,a){""===e?a(new Error("请选择计费模式")):a()},trigger:"change"}],formatName:[{validator:function(t,e,a){""===e?a(new Error("请选择广告形式")):a()},trigger:"change"}],generalizeType:[{validator:function(t,e,a){""===e?a(new Error("请选择推广形式")):a()},trigger:"change"}],templateName:[{validator:function(t,e,a){""===e?a(new Error("请选择模板")):a()},trigger:"change"}]},saleMode:{options:[{label:"CPD",value:5},{label:"定价CPC",value:1},{label:"竞价CPC",value:0},{label:"定价CPM(合约)",value:3},{label:"定价CPM(非合约)",value:4},{label:"竞价CPM",value:2},{label:"CPS",value:6}]},formatName:{options:[]},generalizeType:{options:[{label:"商品广告",value:0},{label:"活动广告",value:1},{label:"店铺广告",value:2}]},templateName:{options:[]},httpMethodMap:{new:"post",modify:"put"}}},computed:{drawerData:function(){return l.default.state.drawerCtrl.config},drawerCtrlAction:function(){return l.default.state.drawerCtrl.action},config:function(){return l.default.state.drawerCtrl}},created:function(){this.formData=(0,u.copyObj)(this.drawerData),this.getTemplateList(),this.formatList(),"modify"==this.drawerCtrlAction&&(this.formData.formatName=this.formData.formatId,this.formData.templateName=this.formData.templateId)},methods:{getTemplateList:function(){var t=this;d.default.get("/api/templates",{params:{status:1}}).then(function(e){if(200==e.data.code){var a=e.data.data;for(var s in a.list)t.templateName.options.push(a.list[s])}}).catch(function(t){console.log(t)})},formatList:function(){var t=this;d.default.get("/api/formats",{params:{status:1}}).then(function(e){if(200==e.data.code){var a=e.data.data;for(var s in a.list)t.formatName.options.push(a.list[s])}}).catch(function(t){console.log(t)})}},mounted:function(){var t=this;n.default.$off("media-save"),n.default.$on("media-save",function(){t.$refs.formData.validate(function(e){var a={name:t.formData.name,slotId:t.formData.slotId,saleMode:t.formData.saleMode,formatId:t.formData.formatName,generalizeType:t.formData.generalizeType,templateId:t.formData.templateName};console.log(a),e?(0,d.default)({url:"/api/advertisement",method:t.httpMethodMap[t.drawerCtrlAction],data:"modify"===t.drawerCtrlAction?(0,u.mixin)({advertisementId:t.formData.advertisementId},a):a}).then(function(t){console.log(t),t.data.iserror?n.default.$emit("media-save-result",{error:1,res:null}):n.default.$emit("media-save-result",{error:0,res:t.data})}).catch(function(t){n.default.$emit("media-save-result",{error:1,res:null})}):n.default.$emit("media-save-result",{error:1,res:null})})})}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),n=s(i),o=a(7),r=(s(o),a(9)),l=s(r),c=a(4),d=(s(c),a(8));e.default={name:"app-resource-advertising-drawer-changestatus",data:function(){return{pickerOptions0:{disabledDate:function(t){return t.getTime()<Date.now()-864e5}},formData:{},effectTime:new Date,showTime:!1,compare:""}},computed:{drawerData:function(){return l.default.state.drawerCtrl.config},drawerCtrlAction:function(){return l.default.state.drawerCtrl.action},config:function(){return l.default.state.drawerCtrl}},created:function(){this.formData=(0,d.copyObj)(this.drawerData),this.compare=this.formData.status,1==this.formData.status?this.showTime=!1:this.showTime=!0},methods:{changeStatus:function(t){1==t?this.showTime=!1:this.showTime=!0}},mounted:function(){var t=this;n.default.$off("media-save"),n.default.$on("media-save",function(){var e={advertisementId:t.formData.advertisementId,status:t.formData.status,effectTime:t.effectTime,compare:t.compare};n.default.$emit("changeStatus",e)})}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),n=s(i),o=a(4),r=s(o),l=a(12);s(l);
e.default={name:"app-advert-stock",props:["showCpcPrice","advertisementId"],data:function(){return{rules:{cpcPrice:[{validator:function(t,e,a){/^$|^\d+$/.test(e)?a():a(new Error("只能输入正整数"))},trigger:"blur"}]},Data:{cpcPrice:""},summary:{name:""}}},methods:{closeView:function(){n.default.$emit("close-Cpc-price")},getSummary:function(){var t=this.summary;r.default.get("/api/advertisement",{params:{advertisementId:this.advertisementId}}).then(function(e){200==e.data.code&&(t.name=e.data.data.name)}).catch(function(t){console.log(t)})},submit:function(){var t=this;r.default.post("/api/price/cpc",{advertisementId:t.advertisementId,cpcPriceFloat:Number(t.Data.cpcPrice)}).then(function(e){200==e.data.code&&(t.$message({message:e.data.msg,type:"success",duration:3e3}),t.Data.cpcPrice="")}).catch(function(t){console.log(t)})}},watch:{showCpcPrice:function(){this.showCpcPrice&&this.getSummary()}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),n=s(i),o=a(4),r=s(o),l=a(12),c=(s(l),a(1)),d=s(c);e.default={name:"app-advert-stock",props:["showPrice","advertisementId","saleMode"],data:function(){return{summary:{name:""},monthTable:"",formData:[],Data:{cpdPrice:"",cpmPrice:""},time:(0,d.default)(),rules:{},allTime:[],list:[],rowNum:"",monthLeftArr:[],monthTitle:[],dayWeekDay:[1,2,3,4,5,6,7],monthAll:[],selectedDateRangeArray:[]}},created:function(){this.buildCalendar("init",this.time)},methods:{closeView:function(){n.default.$emit("close-price"),this.clearAll()},clearNum:function(t){"cpd"==t?this.Data.cpdPrice.length&&(this.Data.cpdPrice=this.Data.cpdPrice.replace(/[^\d.]/g,""),this.Data.cpdPrice=this.Data.cpdPrice.replace(/\.{2,}/g,"."),this.Data.cpdPrice=this.Data.cpdPrice.replace(".","$#$").replace(/\./g,"").replace("$#$","."),this.Data.cpdPrice=this.Data.cpdPrice.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),this.Data.cpdPrice.indexOf(".")<0&&""!=this.Data.cpdPrice&&(this.Data.cpdPrice=parseFloat(this.Data.cpdPrice))):this.Data.cpmPrice.length&&(this.Data.cpmPrice=this.Data.cpmPrice.replace(/[^\d.]/g,""),this.Data.cpmPrice=this.Data.cpmPrice.replace(/\.{2,}/g,"."),this.Data.cpmPrice=this.Data.cpmPrice.replace(".","$#$").replace(/\./g,"").replace("$#$","."),this.Data.cpmPrice=this.Data.cpmPrice.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),this.Data.cpmPrice.indexOf(".")<0&&""!=this.Data.cpmPrice&&(this.Data.cpmPrice=parseFloat(this.Data.cpmPrice)))},getSummary:function(){var t=this.summary;r.default.get("/api/advertisement",{params:{advertisementId:this.advertisementId}}).then(function(e){200==e.data.code&&(t.name=e.data.data.name)}).catch(function(t){console.log(t)})},submit:function(){var t=this;this.$refs.Data.validate(function(e){if(e){var a=t,s=[];a.selectedDateRangeArray=[];var i=document.querySelectorAll('[class="month-item selected"]');console.log(i);for(var n=0;n<i.length;n++)s.push(i[n].getAttribute("id"));if(t.getDates(s),""==a.Data.cpdPrice&&""==a.Data.cpmPrice)a.$message({message:" 添加广告价格失败,请填写有效的CPD或CPM的价格!",type:"warning"});else if(0==a.selectedDateRangeArray.length)a.$message({message:"添加广告价格失败！请选择时间!",type:"warning"});else{console.log(a.Data.cpdPrice),5==a.saleMode?r.default.post("/api/price",{advertisementId:a.advertisementId,dates:a.selectedDateRangeArray,cpdPriceFloat:Number(a.Data.cpdPrice),cpmPriceFloat:0}).then(function(t){200==t.data.code&&(a.$message({message:"添加广告价格成功",type:"success",duration:3e3}),a.Data.cpdPrice="",a.getList())}).catch(function(t){console.log(t)}):4!=a.saleMode&&3!=a.saleMode||r.default.post("/api/price",{advertisementId:a.advertisementId,dates:a.selectedDateRangeArray,cpmPriceFloat:Number(a.Data.cpmPrice),cpdPriceFloat:0}).then(function(t){200==t.data.code&&(a.$message({message:"添加广告价格成功",type:"success",duration:3e3}),a.Data.cpmPrice="",a.getList())}).catch(function(t){console.log(t)});for(var o=document.querySelectorAll('[data-item="1"]'),n=0;n<o.length;n++)o[n].className=o[n].className.replace(" selected",""),o[n].setAttribute("class",o[n].className)}}})},getDates:function(t){for(var e=t.sort(),a=new Array,s=0,i=0;s<e.length;s++)(0,d.default)(e[s]).add(1,"days").isSame((0,d.default)(e[s+1]))||((0,d.default)(e[s]).subtract(1,"days").isSame((0,d.default)(e[s-1]))?(a.push(e[i]+"~"+e[s]),i=s+1):(a.push(e[s]),i=s+1));this.selectedDateRangeArray=a},getList:function(){var t,e=this,a=(0,d.default)(new Date(new Date(e.allTime[3]).getTime()-864e5)).format("MM"),s=(0,d.default)(new Date(new Date(e.allTime[3]).getTime())).format("MM");a==s&&(t=s),console.log(t),r.default.get("/api/prices",{params:{advertisementId:e.advertisementId,startTime:new Date(e.allTime[0]).getTime(),endTime:new Date(e.allTime[3]).getTime()-864e5}}).then(function(a){if(200==a.data.code){var s=a.data.data;e.list=s;for(var i in e.list)(0,d.default)(new Date(e.list[i].time)).format("MM")!=t&&(document.getElementById("cpd-"+(0,d.default)(new Date(e.list[i].time)).format("YYYY-MM-DD")).innerHTML=0==e.list[i].cpdPrice?"":e.list[i].cpdPrice,document.getElementById("cpm-"+(0,d.default)(new Date(e.list[i].time)).format("YYYY-MM-DD")).innerHTML=0==e.list[i].cpmPrice?"":e.list[i].cpmPrice)}}).catch(function(t){console.log(t)})},prev:function(){this.clearAll(),this.buildCalendar("prev",this.time),this.getList()},next:function(){this.clearAll(),this.buildCalendar("next",this.time),this.getList()},clearAll:function(){var t=document.querySelectorAll('[data-item="1"]'),e=document.querySelectorAll('[date-number="1"]');this.Data.cpdPrice="",this.Data.cpmPrice="";for(var a=0;a<e.length;a++)e[a].innerHTML="";for(var a=0;a<t.length;a++)t[a].className=t[a].className.replace(" selected",""),t[a].setAttribute("class",t[a].className)},allCheck:function(t){var e=t.currentTarget.getAttribute("data-month");this.monthAll=document.querySelectorAll('[data-month="'+e+'"][class="month-item selected"]');var a=document.querySelectorAll('[data-month="'+e+'"][class="month-item-disable"]');if(this.monthAll.length+a.length>=35&&this.monthAll.length>0){var s=document.querySelectorAll('[data-month="'+e+'"][id="monthTop"]')[0];s.className=s.className.concat(" selected"),s.setAttribute("class",s.className),this.monthAll=[]}else{var s=document.querySelectorAll('[data-month="'+e+'"][id="monthTop"]')[0];s.className=s.className.replace(" selected",""),s.setAttribute("class",s.className)}},rowCheck:function(t){var e=t.currentTarget.getAttribute("data-week"),a=t.currentTarget.getAttribute("data-month");this.monthLeftArr[e]=document.querySelectorAll('[data-month="'+a+'"][data-week="'+e+'"][class="month-item selected"]');var s=document.querySelectorAll('[data-month="'+a+'"][data-week="'+e+'"][class="month-item-disable"]');if(this.monthLeftArr[e].length+s.length==7&&this.monthLeftArr[e].length>0){var i=document.querySelectorAll('[data-month="'+a+'"][data-week="'+e+'"][id="monthLeft"]')[0];i.className=i.className.concat(" selected"),i.setAttribute("class",i.className),this.monthLeftArr[e]=[]}else{var i=document.querySelectorAll('[data-month="'+a+'"][data-week="'+e+'"][id="monthLeft"]')[0];i.className=i.className.replace(" selected",""),i.setAttribute("class",i.className)}},lineRowCheck:function(t){for(var e=t.currentTarget.getAttribute("data-week"),a=e.split(","),s=0;s<a.length;s++){var i=t.currentTarget.getAttribute("data-month");this.monthLeftArr[a[s]]=document.querySelectorAll('[data-month="'+i+'"][data-week="'+a[s]+'"][class="month-item selected"]');var n=document.querySelectorAll('[data-month="'+i+'"][data-week="'+a[s]+'"][class="month-item-disable"]');if(this.monthLeftArr[a[s]].length+n.length==7&&this.monthLeftArr[a[s]].length>0){var o=document.querySelectorAll('[data-month="'+i+'"][data-week="'+a[s]+'"][id="monthLeft"]')[0];o.className.indexOf("selected")==-1&&(o.className=o.className.concat(" selected"),o.setAttribute("class",o.className),this.monthLeftArr[a[s]]=[])}else{var o=document.querySelectorAll('[data-month="'+i+'"][data-week="'+a[s]+'"][id="monthLeft"]')[0];o.className=o.className.replace(" selected",""),o.setAttribute("class",o.className)}}},lineCheck:function(t){var e=t.currentTarget.getAttribute("data-weekday"),a=t.currentTarget.getAttribute("data-month");this.monthTitle[e]=document.querySelectorAll('[data-month="'+a+'"][data-weekday="'+e+'"][class="month-item selected"]');var s=document.querySelectorAll('[data-month="'+a+'"][data-weekday="'+e+'"][class="month-item-disable"]');if(this.monthTitle[e].length+s.length>=5&&this.monthTitle[e].length>0){var i=document.querySelectorAll('[data-month="'+a+'"][data-weekday="'+e+'"][id="monthTitle"]')[0];i.className=i.className.concat(" selected"),i.setAttribute("class",i.className),this.monthTitle[e]=[]}else{var i=document.querySelectorAll('[data-month="'+a+'"][data-weekday="'+e+'"][id="monthTitle"]')[0];i.className=i.className.replace(" selected",""),i.setAttribute("class",i.className)}},rowLineCheck:function(t){for(var e=t.currentTarget.getAttribute("data-weekday"),a=e.split(","),s=0;s<a.length;s++){var i=t.currentTarget.getAttribute("data-month");this.monthTitle[a[s]]=document.querySelectorAll('[data-month="'+i+'"][data-weekday="'+a[s]+'"][class="month-item selected"]');var n=document.querySelectorAll('[data-month="'+i+'"][data-weekday="'+a[s]+'"][class="month-item-disable"]');if(this.monthTitle[a[s]].length+n.length>=5&&this.monthTitle[a[s]].length>0){var o=document.querySelectorAll('[data-month="'+i+'"][data-weekday="'+a[s]+'"][id="monthTitle"]')[0];o.className.indexOf("selected")==-1&&(o.className=o.className.concat(" selected"),o.setAttribute("class",o.className),this.monthTitle[a[s]]=[])}else{var o=document.querySelectorAll('[data-month="'+i+'"][data-weekday="'+a[s]+'"][id="monthTitle"]')[0];o.className=o.className.replace(" selected",""),o.setAttribute("class",o.className)}}},monthOne:function(t){var e=t.currentTarget.className;"month-item"!=e&&"month-item selected"!=e||("month-item"==e?(e=e.concat(" selected"),t.currentTarget.setAttribute("class",e)):(e=e.replace(" selected",""),t.currentTarget.setAttribute("class",e))),this.rowCheck(t),this.lineCheck(t),this.allCheck(t)},monthLeft:function(t){for(var e=t.currentTarget.getAttribute("data-week"),a=t.currentTarget.getAttribute("data-month"),s=document.querySelectorAll('[data-month="'+a+'"][data-week="'+e+'"]'),i=document.querySelectorAll('[data-month="'+a+'"][data-week="'+e+'"][class="month-item-disable"]'),n=t.currentTarget.className.indexOf("selected"),o=0;o<s.length;o++)n==-1?s[o].className.indexOf("selected")==-1&&s[o].className.indexOf("month-item-disable")==-1&&7!=i.length&&(s[o].className=s[o].className.concat(" selected"),s[o].setAttribute("class",s[o].className)):(s[o].className=s[o].className.replace(" selected",""),s[o].setAttribute("class",s[o].className));this.rowLineCheck(t),this.allCheck(t)},monthTitleClick:function(t,e,a){for(var s=document.querySelectorAll('[data-month="'+e+'"][data-weekday="'+t+'"]'),i=document.querySelectorAll('[data-month="'+e+'"][data-weekday="'+t+'"][class="month-item-disable"]'),n=s[0].className.indexOf("selected"),o=0;o<s.length;o++)n==-1?s[o].className.indexOf("selected")==-1&&s[o].className.indexOf("month-item-disable")==-1&&i.length<5&&(s[o].className=s[o].className.concat(" selected"),s[o].setAttribute("class",s[o].className)):(s[o].className=s[o].className.replace(" selected",""),s[o].setAttribute("class",s[o].className));this.lineRowCheck(a),this.allCheck(a)},selectAll:function(t){for(var e=document.querySelectorAll('[data-month="'+t+'"]'),a=e[0].className.indexOf("selected"),s=document.querySelectorAll('[data-month="'+t+'"][class="month-item-disable"]'),i=0;i<e.length;i++)a==-1?e[i].className.indexOf("selected")==-1&&e[i].className.indexOf("month-item-disable")==-1&&s.length<35&&(e[i].className=e[i].className.concat(" selected"),e[i].setAttribute("class",e[i].className)):(e[i].className=e[i].className.replace(" selected",""),e[i].setAttribute("class",e[i].className))},buildCalendar:function(t,e){if(this.formData=[],this.allTime=[],"init"==t){this.drawMonth(e);for(var a=0;a<1;a++)this.drawMonth(e.add(1,"M"))}else if("next"==t)this.drawMonth(e),this.drawMonth(e.add(1,"M"));else if("prev"==t){this.drawMonth(e.subtract(2,"M"));for(var a=0;a<1;a++)this.drawMonth(e.add(1,"M"))}this.time=e},drawMonth:function(t){var e={thisYear:"",thisMonth:"",weekOfYear:[],dayOfMonth:[],month:[],dayMonthBefore:[],jugeCursorHead:!0};e.thisYear=t.format("YYYY"),e.thisMonth=t.format("MM"),e.jugeCursorHead=t.isBefore((0,d.default)(),"month");var a=(t.format("YYYY"),t.format("MM"),(0,d.default)(t).startOf("month").startOf("isoWeek"));this.allTime.push((0,d.default)(a).format("YYYY-MM-DD"));var s=(0,d.default)(t).endOf("month").endOf("isoWeek").add(1,"d");this.allTime.push((0,d.default)(s).format("YYYY-MM-DD"));for(var i=(0,d.default)(a),n="",o="",r="";i.isBefore(s,"day");){var l=(i.format("YYYY"),i.format("MM"),i.format("DD"),i.format("E")),c=(i.format("W"),(0,d.default)().isAfter(i));1==l&&(e.weekOfYear.push(i.format("W")),n+="",o+="",r+=""),n+=i.format("DD")+".",o+=i.format("MM")+".",r+=c+".",7==l&&(n+=",",o+=",",r+=","),i.add(1,"d")}for(var u,m,p,f=0;f<n.split(",").length;f++)u=n.split(",")[f].split("."),u.pop(),f!=n.split(",").length-1&&e.dayOfMonth.push(u);for(var f=0;f<o.split(",").length;f++)m=o.split(",")[f].split("."),m.pop(),f!=o.split(",").length-1&&e.month.push(m);for(var f=0;f<r.split(",").length;f++)p=r.split(",")[f].split("."),p.pop(),f!=r.split(",").length-1&&e.dayMonthBefore.push(p);this.formData.push(e)}},mounted:function(){},watch:{showPrice:function(){this.showPrice&&(this.getSummary(),this.getList())}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),n=s(i),o=a(4),r=s(o),l=a(12),c=(s(l),a(1)),d=s(c);e.default={name:"app-advert-stock",props:["showStock","slotId"],data:function(){return{summary:{name:"",carouselNum:"",saleMode:""},monthTable:"",formData:[],Data:{cpdAmount:"",cpmAmount:"",limitedCpdAmount:""},time:(0,d.default)(),rules:{cpdAmount:[{validator:function(t,e,a){/^$|^\d+$/.test(e)?a():a(new Error("只能输入正整数"))},trigger:"blur"}],cpmAmount:[{validator:function(t,e,a){/^$|^\d+$/.test(e)?a():a(new Error("只能输入正整数"))},trigger:"blur"}]},allTime:[],list:[],rowNum:"",monthLeftArr:[],monthTitle:[],dayWeekDay:[1,2,3,4,5,6,7],monthAll:[],selectedDateRangeArray:[]}},created:function(){this.buildCalendar("init",this.time)},methods:{closeView:function(){n.default.$emit("close-stock"),this.clearAll()},getSummary:function(){var t=this.summary;r.default.get("/api/slot",{params:{slotId:this.slotId}}).then(function(e){200==e.data.code&&(t.name=e.data.data.name,t.carouselNum=e.data.data.rotators)}).catch(function(t){console.log(t)})},submit:function(){var t=this;this.$refs.Data.validate(function(e){if(e){var a=t,s=[];a.selectedDateRangeArray=[];for(var i=document.querySelectorAll('[class="month-item selected"]'),n=0;n<i.length;n++)s.push(i[n].getAttribute("id"));t.getDates(s),0==a.Data.cpdAmount&&0==a.Data.cpmAmount&&0==a.Data.limitedCpdAmount?a.$message({message:"添加库存失败,请填写有效的CPD和CPM的库存!",type:"warning"}):0==a.selectedDateRangeArray.length?a.$message({message:"添加库存失败！请选择时间!",type:"warning"}):r.default.post("/api/inventory",{slotId:a.slotId,dates:a.selectedDateRangeArray,cpdAmount:""==a.Data.cpdAmount?0:Number(a.Data.cpdAmount),cpmAmount:""==a.Data.cpmAmount?0:Number(a.Data.cpmAmount),limitedCpdAmount:""==a.Data.limitedCpdAmount?0:Number(a.Data.limitedCpdAmount)}).then(function(t){if(200==t.data.code){a.$message({message:"添加库存成功",type:"success",duration:3e3}),a.Data.cpdAmount="",a.Data.cpmAmount="",a.Data.limitedCpdAmount="";for(var e=document.querySelectorAll('[data-item="1"]'),s=0;s<e.length;s++)e[s].className=e[s].className.replace(" selected",""),e[s].setAttribute("class",e[s].className);a.getList()}}).catch(function(t){alert("fail")})}})},getDates:function(t){for(var e=t.sort(),a=new Array,s=0,i=0;s<e.length;s++)(0,d.default)(e[s]).add(1,"days").isSame((0,d.default)(e[s+1]))||((0,d.default)(e[s]).subtract(1,"days").isSame((0,d.default)(e[s-1]))?(a.push(e[i]+"~"+e[s]),i=s+1):(a.push(e[s]),i=s+1));this.selectedDateRangeArray=a},getList:function(){var t,e=this,a=(0,d.default)(new Date(new Date(e.allTime[3]).getTime()-864e5)).format("MM"),s=(0,d.default)(new Date(new Date(e.allTime[3]).getTime())).format("MM");a==s&&(t=s),console.log(t),r.default.get("/api/inventories",{params:{slotId:e.slotId,startTime:new Date(e.allTime[0]).getTime(),endTime:new Date(e.allTime[3]).getTime()-864e5}}).then(function(a){if(200==a.data.code){var s=a.data.data;e.list=s;for(var i in e.list)(0,d.default)(new Date(e.list[i].time)).format("MM")!=t&&(document.getElementById("cpd-"+(0,d.default)(new Date(e.list[i].time)).format("YYYY-MM-DD")).innerHTML=e.list[i].limitedCpdAmount+"/"+e.list[i].cpdAmount,document.getElementById("cpm-"+(0,d.default)(new Date(e.list[i].time)).format("YYYY-MM-DD")).innerHTML=e.list[i].cpmAmount)}}).catch(function(t){console.log(t)})},prev:function(){this.clearAll(),this.buildCalendar("prev",this.time),this.getList()},next:function(){this.clearAll(),this.buildCalendar("next",this.time),this.getList()},clearAll:function(){var t=document.querySelectorAll('[data-item="1"]'),e=document.querySelectorAll('[date-number="1"]');this.Data.cpdAmount="",this.Data.cpmAmount="",this.Data.limitedCpdAmount="";for(var a=0;a<e.length;a++)e[a].innerHTML="";for(var a=0;a<t.length;a++)t[a].className=t[a].className.replace(" selected",""),t[a].setAttribute("class",t[a].className)},allCheck:function(t){var e=t.currentTarget.getAttribute("data-month");this.monthAll=document.querySelectorAll('[data-month="'+e+'"][class="month-item selected"]');var a=document.querySelectorAll('[data-month="'+e+'"][class="month-item-disable"]');if(this.monthAll.length+a.length>=35&&this.monthAll.length>0){var s=document.querySelectorAll('[data-month="'+e+'"][id="monthTop"]')[0];s.className=s.className.concat(" selected"),s.setAttribute("class",s.className),this.monthAll=[]}else{var s=document.querySelectorAll('[data-month="'+e+'"][id="monthTop"]')[0];s.className=s.className.replace(" selected",""),s.setAttribute("class",s.className)}},rowCheck:function(t){var e=t.currentTarget.getAttribute("data-week"),a=t.currentTarget.getAttribute("data-month");this.monthLeftArr[e]=document.querySelectorAll('[data-month="'+a+'"][data-week="'+e+'"][class="month-item selected"]');var s=document.querySelectorAll('[data-month="'+a+'"][data-week="'+e+'"][class="month-item-disable"]');if(this.monthLeftArr[e].length+s.length==7&&this.monthLeftArr[e].length>0){var i=document.querySelectorAll('[data-month="'+a+'"][data-week="'+e+'"][id="monthLeft"]')[0];i.className=i.className.concat(" selected"),i.setAttribute("class",i.className),this.monthLeftArr[e]=[]}else{var i=document.querySelectorAll('[data-month="'+a+'"][data-week="'+e+'"][id="monthLeft"]')[0];i.className=i.className.replace(" selected",""),i.setAttribute("class",i.className)}},lineRowCheck:function(t){for(var e=t.currentTarget.getAttribute("data-week"),a=e.split(","),s=0;s<a.length;s++){var i=t.currentTarget.getAttribute("data-month");this.monthLeftArr[a[s]]=document.querySelectorAll('[data-month="'+i+'"][data-week="'+a[s]+'"][class="month-item selected"]');var n=document.querySelectorAll('[data-month="'+i+'"][data-week="'+a[s]+'"][class="month-item-disable"]');if(this.monthLeftArr[a[s]].length+n.length==7&&this.monthLeftArr[a[s]].length>0){var o=document.querySelectorAll('[data-month="'+i+'"][data-week="'+a[s]+'"][id="monthLeft"]')[0];o.className.indexOf("selected")==-1&&(o.className=o.className.concat(" selected"),o.setAttribute("class",o.className),this.monthLeftArr[a[s]]=[])}else{var o=document.querySelectorAll('[data-month="'+i+'"][data-week="'+a[s]+'"][id="monthLeft"]')[0];o.className=o.className.replace(" selected",""),o.setAttribute("class",o.className)}}},lineCheck:function(t){var e=t.currentTarget.getAttribute("data-weekday"),a=t.currentTarget.getAttribute("data-month");this.monthTitle[e]=document.querySelectorAll('[data-month="'+a+'"][data-weekday="'+e+'"][class="month-item selected"]');var s=document.querySelectorAll('[data-month="'+a+'"][data-weekday="'+e+'"][class="month-item-disable"]');if(this.monthTitle[e].length+s.length>=5&&this.monthTitle[e].length>0){var i=document.querySelectorAll('[data-month="'+a+'"][data-weekday="'+e+'"][id="monthTitle"]')[0];i.className=i.className.concat(" selected"),i.setAttribute("class",i.className),this.monthTitle[e]=[]}else{var i=document.querySelectorAll('[data-month="'+a+'"][data-weekday="'+e+'"][id="monthTitle"]')[0];i.className=i.className.replace(" selected",""),i.setAttribute("class",i.className)}},rowLineCheck:function(t){for(var e=t.currentTarget.getAttribute("data-weekday"),a=e.split(","),s=0;s<a.length;s++){var i=t.currentTarget.getAttribute("data-month");this.monthTitle[a[s]]=document.querySelectorAll('[data-month="'+i+'"][data-weekday="'+a[s]+'"][class="month-item selected"]');var n=document.querySelectorAll('[data-month="'+i+'"][data-weekday="'+a[s]+'"][class="month-item-disable"]');if(this.monthTitle[a[s]].length+n.length>=5&&this.monthTitle[a[s]].length>0){var o=document.querySelectorAll('[data-month="'+i+'"][data-weekday="'+a[s]+'"][id="monthTitle"]')[0];o.className.indexOf("selected")==-1&&(o.className=o.className.concat(" selected"),o.setAttribute("class",o.className),this.monthTitle[a[s]]=[])}else{var o=document.querySelectorAll('[data-month="'+i+'"][data-weekday="'+a[s]+'"][id="monthTitle"]')[0];o.className=o.className.replace(" selected",""),o.setAttribute("class",o.className)}}},monthOne:function(t){var e=t.currentTarget.className;"month-item"!=e&&"month-item selected"!=e||("month-item"==e?(e=e.concat(" selected"),t.currentTarget.setAttribute("class",e)):(e=e.replace(" selected",""),t.currentTarget.setAttribute("class",e))),this.rowCheck(t),this.lineCheck(t),this.allCheck(t)},monthLeft:function(t){for(var e=t.currentTarget.getAttribute("data-week"),a=t.currentTarget.getAttribute("data-month"),s=document.querySelectorAll('[data-month="'+a+'"][data-week="'+e+'"]'),i=document.querySelectorAll('[data-month="'+a+'"][data-week="'+e+'"][class="month-item-disable"]'),n=t.currentTarget.className.indexOf("selected"),o=0;o<s.length;o++)n==-1?s[o].className.indexOf("selected")==-1&&s[o].className.indexOf("month-item-disable")==-1&&7!=i.length&&(s[o].className=s[o].className.concat(" selected"),s[o].setAttribute("class",s[o].className)):(s[o].className=s[o].className.replace(" selected",""),s[o].setAttribute("class",s[o].className));this.rowLineCheck(t),this.allCheck(t)},monthTitleClick:function(t,e,a){for(var s=document.querySelectorAll('[data-month="'+e+'"][data-weekday="'+t+'"]'),i=document.querySelectorAll('[data-month="'+e+'"][data-weekday="'+t+'"][class="month-item-disable"]'),n=s[0].className.indexOf("selected"),o=0;o<s.length;o++)n==-1?s[o].className.indexOf("selected")==-1&&s[o].className.indexOf("month-item-disable")==-1&&i.length<5&&(s[o].className=s[o].className.concat(" selected"),s[o].setAttribute("class",s[o].className)):(s[o].className=s[o].className.replace(" selected",""),s[o].setAttribute("class",s[o].className));this.lineRowCheck(a),this.allCheck(a)},selectAll:function(t){for(var e=document.querySelectorAll('[data-month="'+t+'"]'),a=document.querySelectorAll('[data-month="'+t+'"][class="month-item-disable"]'),s=e[0].className.indexOf("selected"),i=0;i<e.length;i++)s==-1?e[i].className.indexOf("selected")==-1&&e[i].className.indexOf("month-item-disable")==-1&&a.length<35&&(e[i].className=e[i].className.concat(" selected"),e[i].setAttribute("class",e[i].className)):(e[i].className=e[i].className.replace(" selected",""),e[i].setAttribute("class",e[i].className))},buildCalendar:function(t,e){if(this.formData=[],this.allTime=[],"init"==t){this.drawMonth(e);for(var a=0;a<1;a++)this.drawMonth(e.add(1,"M"))}else if("next"==t)this.drawMonth(e),this.drawMonth(e.add(1,"M"));else if("prev"==t){this.drawMonth(e.subtract(2,"M"));for(var a=0;a<1;a++)this.drawMonth(e.add(1,"M"))}this.time=e},drawMonth:function(t){var e={thisYear:"",thisMonth:"",weekOfYear:[],dayOfMonth:[],month:[],dayMonthBefore:[],jugeCursorHead:!0};e.thisYear=t.format("YYYY"),e.thisMonth=t.format("MM"),e.jugeCursorHead=t.isBefore((0,d.default)(),"month");var a=(t.format("YYYY"),t.format("MM"),(0,d.default)(t).startOf("month").startOf("isoWeek"));this.allTime.push((0,d.default)(a).format("YYYY-MM-DD"));var s=(0,d.default)(t).endOf("month").endOf("isoWeek").add(1,"d");this.allTime.push((0,d.default)(s).format("YYYY-MM-DD"));for(var i=(0,d.default)(a),n="",o="",r="";i.isBefore(s,"day");){var l=(i.format("YYYY"),i.format("MM"),i.format("DD"),i.format("E")),c=(i.format("W"),(0,d.default)().isAfter(i));1==l&&(e.weekOfYear.push(i.format("W")),n+="",o+="",r+=""),n+=i.format("DD")+".",o+=i.format("MM")+".",r+=c+".",7==l&&(n+=",",o+=",",r+=","),i.add(1,"d")}for(var u,m,p,f=0;f<n.split(",").length;f++)u=n.split(",")[f].split("."),u.pop(),f!=n.split(",").length-1&&e.dayOfMonth.push(u);for(var f=0;f<o.split(",").length;f++)m=o.split(",")[f].split("."),m.pop(),f!=o.split(",").length-1&&e.month.push(m);for(var f=0;f<r.split(",").length;f++)p=r.split(",")[f].split("."),p.pop(),f!=r.split(",").length-1&&e.dayMonthBefore.push(p);this.formData.push(e)}},mounted:function(){},watch:{showStock:function(){this.showStock&&(this.getSummary(),this.getList())}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(6),n=(s(i),a(7)),o=s(n),r=a(22),l=(s(r),a(12)),c=(s(l),a(4)),d=s(c),u=a(5),m=s(u),p=a(25),f=s(p),h=a(251),v=s(h),g=a(8),_=a(23);e.default={name:"resource-advertisingList",data:function(){return{page:{totalCount:0,currentPage:1,pageSizes:[20,30,50],pageSize:20},showChildComponents:{showStock:!1},nowDate:(new Date).getTime(),publisherId:localStorage.getItem("publisherId"),id:"",slotId:"",status:"",compare:"",effectTime:"",breadcrumbConfig:{data:[{msg:"资源位",link:"/#/app/resource/"},{msg:"媒体",link:"/#/app/resource/publisher"},{msg:"频道列表",link:"/#/app/resource/channel/"+localStorage.getItem("publisherId")},{msg:"广告位列表",link:"/#"+this.$route.path}]},summary:{state:"",levelone:"",leveltwo:"",name:"",platform:""},so:{keyword:"",list:[],showCM:!1,state:{options:[{label:"全部",value:"-2"},{label:"售卖",value:"1"},{label:"非售卖",value:"2"},{label:"下线",value:"0"}],value:"-2"}},dialogVisible:!1,title:"提示",body_html:"",btn_state:""}},components:{"m-breadcrumb":f.default,"m-stock":v.default},created:function(){localStorage.setItem("channelId",this.$route.params.id),this.getSummary(),this.getList();var t=this;m.default.$off("media-save-success"),m.default.$on("media-save-success",function(){t.getList()})},updated:function(){(0,_.tableHandler)("con-table-change",!0,0)},destroyed:function(){(0,_.offWindowEvent)("con-table-change")},methods:{stock:function(t){this.showChildComponents.showStock=!0,this.slotId=t},showAdertising:function(){1==this.summary.state&&(o.default.controlDrawer(this.$store,{show:!0,action:"new",type:"advertisingList",config:{name:"",width:"",height:"",rotators:"",outSourceFlow:0,materialNumber:"",approveFlowId:1,department:"",state:0,controlRadio:!0,summary:this.summary,publisherId:this.publisherId,channelId:this.$route.params.id,description:""}}),console.log(this.$store))},pageSizeChange:function(t){this.page.pageSize=t,this.getList()},currentPageChange:function(t){this.page.currentPage=t,this.getList()},getList:function(){var t=this.so,e=this;d.default.get("/api/slots",{params:{channelId:e.$route.params.id,keyword:t.keyword,status:t.state.value,page:this.page.currentPage,number:this.page.pageSize}}).then(function(a){if(200==a.data.code){var s=a.data.data;t.list=s.list,e.page.totalCount=a.data.data.totalCount}}).catch(function(t){alert("list fail")})},getSummary:function(){var t=this.summary;d.default.get("/api/channel",{params:{channelId:this.$route.params.id}}).then(function(e){if(200==e.data.code){var a=e.data.data;t.state=a.status,t.levelone=a.parentName?a.parentName:a.name,t.leveltwo=a.parentName?a.name:"--",console.log(t)}}).catch(function(t){console.log(t)}),d.default.get("/api/publisher",{params:{publisherId:this.publisherId}}).then(function(e){if(200==e.data.code){var a=e.data.data;t.name=a.name,t.platform=1==a.platform?"APP":2==a.platform?"WAP":3==a.platform?"PC":"其它"}}).catch(function(t){console.log(t)})},commonStatus:function(){var t=this;d.default.put("/api/slot/status",{slotId:t.id,status:t.status,effectiveTime:(0,g.formatDate)(t.effectTime,"yyyy-MM-dd")}).then(function(e){200==e.data.code&&(t.getList(),t.$message({message:e.data.msg,type:"success",duration:3e3}))}).catch(function(t){alert("fail")}),o.default.controlDrawer(t.$store,{show:!1})},sureFn:function(){var t=this;if("change"==t.btn_state)1==t.compare&&2==t.status?d.default.get("/api/slot/onsale",{params:{slotId:t.id,status:t.status,effectiveTime:(0,g.formatDate)(t.effectTime,"yyyy-MM-dd")}}).then(function(e){200==e.data.code&&e.data.data.result?t.commonStatus():(t.dialogVisible=!0,t.body_html="<h3>无法按生效时间将该广告位设为非售卖类型</h3><p>该广告位状态改变生效时间与该广告位下的广告的售卖排期冲突</p>",t.btn_state="noCan")}).catch(function(t){alert("fail")}):1==t.compare&&0==t.status?d.default.get("/api/slot/onsale",{params:{slotId:t.id,status:t.status,effectiveTime:(0,g.formatDate)(t.effectTime,"yyyy-MM-dd")}}).then(function(e){200==e.data.code&&e.data.data.result?t.commonStatus():(t.dialogVisible=!0,t.body_html="<h3>无法按生效时间将该广告位下线</h3><p>该广告位状态改变生效时间与该广告位下的广告的售卖排期冲突</p>",t.btn_state="noCan")}).catch(function(t){alert("fail")}):t.commonStatus();else if("delete"==this.btn_state){var t=this;this.so.list;d.default.get("/api/slot/status",{params:{slotId:t.id}}).then(function(e){if(200==e.data.code){var a=e.data.data.status;1==a?(t.dialogVisible=!0,t.body_html="<h3>无法删除该广告位</h3><p>(该广告位仍处于上线状态)</p>",t.btn_state="noCan"):d.default.delete("/api/slot",{data:{slotId:t.id}}).then(function(e){200==e.data.code&&(t.getList(),t.$message({message:e.data.msg,type:"success",duration:3e3}))}).catch(function(t){alert("fail")})}}).catch(function(t){console.log(t)})}else"noCan"==this.btn_state&&(this.dialogVisible=!1);this.dialogVisible=!1},modify:function(t,e){var a=this;1!=e&&2!=e&&this.getData(t,function(t){t.summary=a.summary,o.default.controlDrawer(a.$store,{show:!0,action:"modify",type:"advertisingList",config:t})})},newAdvert:function(t,e,a){0!=a&&(this.summary.advertisingName=e,o.default.controlDrawer(this.$store,{show:!0,action:"new",type:"advert",config:{name:"",saleMode:"",formatName:"",promotion:"",templateName:"",summary:this.summary,slotId:t}}))},del:function(t,e){this.dialogVisible=!0,this.body_html="<h3>您确定要删除该广告位吗？</h3>",this.btn_state="delete",this.id=t},getData:function(t,e){d.default.get("/api/slot",{params:{slotId:t}}).then(function(t){200===t.data.code&&e(t.data.data)}).catch(function(t){console.log(t)})},changeStatus:function(t){var e=this;1==this.summary.state&&this.getData(t,function(t){t.summary=e.summary,o.default.controlDrawer(e.$store,{show:!0,action:"change",type:"advertisingChange",config:t})})}},mounted:function(){var t=this,e=this;m.default.$on("changeStatus",function(e){1==e.compare&&2==e.status?(t.dialogVisible=!0,t.body_html="<h3>您确定要将该广告位设为非售卖类型么？</h3><p>(将广告位设为非售卖类型将会导致该广告位下的所有广告无法售卖！)</p>"):1==e.compare&&0==e.status?(t.dialogVisible=!0,t.body_html="<h3>您确定要将该广告位下线么？</h3><p>(将广告位设下线将会导致该广告位下的所有广告无法展示！)</p>"):2==e.compare&&1==e.status?(t.dialogVisible=!0,t.body_html="<h3>您确定要将该广告位设为售卖类型么？</h3>"):2==e.compare&&0==e.status?(t.dialogVisible=!0,t.body_html="<h3>您确定要将该广告位下线么？</h3><p>(将广告位设下线将会导致该广告位下的所有广告无法展示！)</p>"):0==e.compare&&1==e.status?(t.dialogVisible=!0,t.body_html="<h3>您确定要将该广告位设为售卖类型么？</h3>"):0==e.compare&&2==e.status&&(t.dialogVisible=!0,t.body_html="<h3>您确定要将该广告位设为非售卖类型么？</h3>"),t.btn_state="change",t.id=e.slotId,t.status=e.status,t.compare=e.compare,t.effectTime=e.effectTime}),m.default.$on("close-stock",function(){e.showChildComponents.showStock=!1}),(0,_.initWindowResize)("con-table-change",!0,0)}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{
default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),n=s(i),o=a(7),r=(s(o),a(9)),l=s(r),c=a(4),d=s(c),u=a(8);e.default={name:"app-resource-advertising-drawerAdvertising",data:function(){return{formData:{},isApprovePhaseOpened:!1,approveOptions:[{value:1,label:"平台-广告二级审核"}],approvePhaseName:"",rules:{name:[{required:!0,message:"请输入广告位名称",trigger:"blur"},{max:60,message:"最大长度不超过60个字符",trigger:"blur"}],height:[{validator:function(t,e,a){/^$|^\d+$/.test(e)?a():a(new Error("只能输入正整数"))},trigger:"blur"}],width:[{validator:function(t,e,a){/^$|^\d+$/.test(e)?a():a(new Error("只能输入正整数"))},trigger:"blur"}],rotators:[{validator:function(t,e,a){""===e?a(new Error("请输入轮播的次数")):"Number"!==(0,u.objType)(e)?a(new Error("只能为数字")):e<0?a(new Error("不能为负数")):e>10?a(new Error("轮播数不能大于10")):a()},trigger:"blur"}],materialNumber:[{validator:function(t,e,a){""===e?a(new Error("请输入单次返回素材的数量")):"Number"!==(0,u.objType)(e)?a(new Error("只能为数字")):e<1||e>20?a(new Error("只能输入1-20的数字")):a()},trigger:"blur"}],description:[{max:200,message:"最大长度不超过200个字符",trigger:"blur"}]},department:[{label:"一级部门A",children:[{label:"二级部门A"},{label:"二级部门B"},{label:"二级部门C"}]},{label:"一级部门B",children:[{label:"二级部门D"},{label:"二级部门E"}]}],defaultProps:{children:"children",label:"label"},httpMethodMap:{new:"post",modify:"put"}}},computed:{drawerData:function(){return l.default.state.drawerCtrl.config},drawerCtrlAction:function(){return l.default.state.drawerCtrl.action},config:function(){return l.default.state.drawerCtrl}},created:function(){this.formData=(0,u.copyObj)(this.drawerData),this.isApprovePhaseOpened=2===this.formData.approveFlowId,this.isApprovePhaseOpened&&(this.approvePhaseName=1),console.log(this.formData),console.log(this.drawerData)},methods:{approvePhase:function(){this.isApprovePhaseOpened=!this.isApprovePhaseOpened,this.isApprovePhaseOpened&&(this.approvePhaseName=1)},selectDepartment:function(t){this.formData.department=t.label}},mounted:function(){var t=this;n.default.$off("media-save"),n.default.$on("media-save",function(){t.$refs.formData.validate(function(e){var a={name:t.formData.name,publisherId:t.formData.publisherId,channelId:t.formData.channelId,width:t.formData.width,height:t.formData.height,rotators:t.formData.rotators,outSourceFlow:t.formData.outSourceFlow,materialNumber:t.formData.materialNumber,approveFlowId:t.formData.approveFlowId,description:t.formData.description};console.log(a),e?(0,d.default)({url:"/api/slot",method:t.httpMethodMap[t.drawerCtrlAction],data:"modify"===t.drawerCtrlAction?(0,u.mixin)({slotId:t.formData.slotId},a):a}).then(function(t){console.log(t),t.data.iserror?n.default.$emit("media-save-result",{error:1,res:null}):n.default.$emit("media-save-result",{error:0,res:t.data})}).catch(function(t){n.default.$emit("media-save-result",{error:1,res:null})}):n.default.$emit("media-save-result",{error:1,res:null})})})}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),n=s(i),o=a(7),r=(s(o),a(9)),l=s(r),c=a(4),d=(s(c),a(8));e.default={name:"app-resource-advertising-drawer-changestatus",data:function(){return{pickerOptions0:{disabledDate:function(t){return t.getTime()<Date.now()-864e5}},formData:{},effectTime:new Date,showTime:!1,compare:"",dialogVisible:!1,title:"提示",body_html:"",btn_state:""}},computed:{drawerData:function(){return l.default.state.drawerCtrl.config},drawerCtrlAction:function(){return l.default.state.drawerCtrl.action},config:function(){return l.default.state.drawerCtrl}},created:function(){this.formData=(0,d.copyObj)(this.drawerData),this.compare=this.formData.status},methods:{changeStatus:function(t){this.showTime=!0}},mounted:function(){var t=this;n.default.$off("media-save"),n.default.$on("media-save",function(){var e={slotId:t.formData.slotId,status:t.formData.status,compare:t.compare,effectTime:t.effectTime};n.default.$emit("changeStatus",e)})}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(6),n=(s(i),a(7)),o=s(n),r=a(22),l=(s(r),a(12)),c=(s(l),a(4)),d=s(c),u=a(5),m=s(u),p=a(25),f=s(p),h=a(251),v=s(h),g=a(8),_=a(23);e.default={name:"resource-advertisingList",data:function(){return{nowDate:(new Date).getTime(),channelId:"",publisherId:"",id:"",status:"",showChildComponents:{showStock:!1},breadcrumbConfig:{data:[{msg:"资源位",link:"/#/app/resource/"},{msg:"广告位",link:"/#"+this.$route.path}]},page:{totalCount:0,currentPage:1,pageSizes:[20,30,50],pageSize:20},summary:{state:"",levelone:"",leveltwo:"",name:"",platform:""},so:{keyword:"",list:[],showCM:!1,state:{options:[{label:"全部",value:"-2"},{label:"售卖",value:"1"},{label:"非售卖",value:"2"},{label:"下线",value:"0"}],value:"-2"},media:{options:[{label:"全部",value:"-1"},{label:"媒体A",value:"1"},{label:"媒体B",value:"2"}],value:"-1"},channelName:{},mediaName:{options:[{name:"全部",publisherId:"0"}],publisherId:"0"},twoChannelName:{}},dialogVisible:!1,title:"提示",body_html:"",btn_state:"",isActived:!1,slotId:""}},computed:{},updated:function(){(0,_.tableHandler)("con-table-change",!0,0)},destroyed:function(){(0,_.offWindowEvent)("con-table-change")},components:{"m-breadcrumb":f.default,"m-stock":v.default},created:function(){this.getList(),this.mediaList();var t=this;m.default.$off("media-save-success"),m.default.$on("media-save-success",function(){t.getList()})},methods:{stock:function(t){this.showChildComponents.showStock=!0,this.slotId=t},newAdvertising:function(){o.default.controlDrawer(this.$store,{show:!0,action:"new",type:"advertisingOut",config:{name:"",mediaName:"",channelName:"",twoChannelName:"",width:"",height:"",rotators:"",outSourceFlow:0,materialNumber:"",approveFlowId:1,department:"",state:0,controlRadio:!0,description:""}})},channelChange:function(t){if(0!=t){var e=this.so;e.twoChannelName={options:[{name:"全部",channelId:"0"}],channelId:"0"},d.default.get("/api/allChannels",{params:{channelId:t}}).then(function(t){if(200==t.data.code){var a=t.data.data;for(var s in a)e.twoChannelName.options.push(a[s])}}).catch(function(t){console.log(t)})}},mediaChange:function(t){var e=this.so;e.channelName={options:[{name:"全部",channelId:"0"}],channelId:"0"},d.default.get("/api/allChannels",{params:{publisherId:t}}).then(function(t){if(200==t.data.code){var a=t.data.data;for(var s in a)e.channelName.options.push(a[s])}}).catch(function(t){console.log(t)})},mediaList:function(){var t=this.so;d.default.get("/api/publishers").then(function(e){if(console.log(e),200===e.status&&200===e.data.code){var a=e.data.data;for(var s in a.list)t.mediaName.options.push(a.list[s])}}).catch(function(t){console.log(t)})},pageSizeChange:function(t){this.page.pageSize=t,this.getList()},currentPageChange:function(t){this.page.currentPage=t,this.getList()},getList:function(){var t=this.so,e=this;t.channelName.channelId&&0!=t.channelName.channelId?(e.channelId=t.channelName.channelId,t.twoChannelName.channelId&&0!=t.twoChannelName.channelId&&(e.channelId=t.twoChannelName.channelId)):e.channelId=0,console.log(e.channelId),d.default.get("/api/slots",{params:{channelId:e.channelId,publisherId:t.mediaName.publisherId,keyword:t.keyword,status:t.state.value,page:this.page.currentPage,number:this.page.pageSize}}).then(function(a){if(200==a.data.code){var s=a.data.data;t.list=s.list,e.page.totalCount=a.data.data.totalCount}}).catch(function(t){alert("list fail")})},commonStatus:function(){var t=this;d.default.put("/api/slot/status",{slotId:t.id,status:t.status,effectiveTime:(0,g.formatDate)(t.effectTime,"yyyy-MM-dd")}).then(function(e){200==e.data.code&&(t.getList(),t.$message({message:e.data.msg,type:"success",duration:3e3}))}).catch(function(t){alert("fail")}),o.default.controlDrawer(t.$store,{show:!1})},sureFn:function(){var t=this;if("change"==t.btn_state)1==t.compare&&2==t.status?d.default.get("/api/slot/onsale",{params:{slotId:t.id,status:t.status,effectiveTime:(0,g.formatDate)(t.effectTime,"yyyy-MM-dd")}}).then(function(e){200==e.data.code&&e.data.data.result?t.commonStatus():(t.dialogVisible=!0,t.body_html="<h3>无法按生效时间将该广告位设为非售卖类型</h3><p>该广告位状态改变生效时间与该广告位下的广告的售卖排期冲突</p>",t.btn_state="noCan")}).catch(function(t){alert("fail")}):1==t.compare&&0==t.status?d.default.get("/api/slot/onsale",{params:{slotId:t.id,status:t.status,effectiveTime:(0,g.formatDate)(t.effectTime,"yyyy-MM-dd")}}).then(function(e){200==e.data.code&&e.data.data.result?t.commonStatus():(t.dialogVisible=!0,t.body_html="<h3>无法按生效时间将该广告位下线</h3><p>该广告位状态改变生效时间与该广告位下的广告的售卖排期冲突</p>",t.btn_state="noCan")}).catch(function(t){alert("fail")}):t.commonStatus();else if("delete"==this.btn_state){var t=this;this.so.list;d.default.get("/api/slot/status",{params:{slotId:t.id}}).then(function(e){if(200==e.data.code){var a=e.data.data.status;1==a?(t.dialogVisible=!0,t.body_html="<h3>无法删除该广告位</h3><p>(该广告位仍处于上线状态)</p>",t.btn_state="noCan"):d.default.delete("/api/slot",{data:{slotId:t.id}}).then(function(e){200==e.data.code&&(t.getList(),t.$message({message:e.data.msg,type:"success",duration:3e3}))}).catch(function(t){alert("fail")})}}).catch(function(t){console.log(t)})}this.dialogVisible=!1},modify:function(t,e){var a=this;1!=e&&2!=e&&this.getData(t,function(t){o.default.controlDrawer(a.$store,{show:!0,action:"modify",type:"advertisingOut",config:t})})},newAdvert:function(t,e,a){0!=e&&(this.summary.advertisingName=a,o.default.controlDrawer(this.$store,{show:!0,action:"new",type:"advert",config:{name:"",saleMode:"",formatName:"",promotion:"",templateName:"",summary:this.summary,slotId:t}}))},del:function(t,e){this.dialogVisible=!0,this.body_html="<h3>您确定要删除该广告位吗？</h3>",this.btn_state="delete",this.id=t},getData:function(t,e){d.default.get("/api/slot",{params:{slotId:t}}).then(function(t){200===t.data.code&&e(t.data.data)}).catch(function(t){console.log(t)})},getSummary:function(t){var e=this;d.default.get("/api/slot",{params:{slotId:t}}).then(function(a){if(200==a.data.code){var s=a.data.data;e.channelId=s.channelId,e.publisherId=s.publisherId,e.getPublihser(t)}}).catch(function(t){console.log(t)})},getChannel:function(t){var e=this.summary,a=this;d.default.get("/api/channel",{params:{channelId:this.channelId}}).then(function(s){if(200==s.data.code){var i=s.data.data;e.levelone=i.parentName?i.parentName:i.name,e.leveltwo=i.parentName?i.name:"--",a.getData(t,function(t){t.summary=a.summary,o.default.controlDrawer(a.$store,{show:!0,action:"change",type:"advertisingChange",config:t})})}}).catch(function(t){console.log(t)})},getPublihser:function(t){var e=this.summary,a=this;d.default.get("/api/publisher",{params:{publisherId:this.publisherId}}).then(function(s){if(200==s.data.code){var i=s.data.data;e.name=i.name,a.getChannel(t)}}).catch(function(t){console.log(t)})},changeStatus:function(t){this.getSummary(t)},checkall:function(){this.isActived=!this.isActived}},mounted:function(){var t=this,e=this;m.default.$on("changeStatus",function(e){1==e.compare&&2==e.status?(t.dialogVisible=!0,t.body_html="<h3>您确定要将该广告位设为非售卖类型么？</h3><p>(将广告位设为非售卖类型将会导致该广告位下的所有广告无法售卖！)</p>"):1==e.compare&&0==e.status?(t.dialogVisible=!0,t.body_html="<h3>您确定要将该广告位下线么？</h3><p>(将广告位设下线将会导致该广告位下的所有广告无法展示！)</p>"):2==e.compare&&1==e.status?(t.dialogVisible=!0,t.body_html="<h3>您确定要将该广告位设为售卖类型么？</h3>"):2==e.compare&&0==e.status?(t.dialogVisible=!0,t.body_html="<h3>您确定要将该广告位下线么？</h3><p>(将广告位设下线将会导致该广告位下的所有广告无法展示！)</p>"):0==e.compare&&1==e.status?(t.dialogVisible=!0,t.body_html="<h3>您确定要将该广告位设为售卖类型么？</h3>"):0==e.compare&&2==e.status&&(t.dialogVisible=!0,t.body_html="<h3>您确定要将该广告位设为非售卖类型么？</h3>"),t.btn_state="change",t.id=e.slotId,t.status=e.status,t.compare=e.compare,t.effectTime=e.effectTime}),m.default.$on("close-stock",function(){e.showChildComponents.showStock=!1}),(0,_.initWindowResize)("con-table-change",!0,0)}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),n=s(i),o=a(7),r=(s(o),a(9)),l=s(r),c=a(4),d=s(c),u=a(8);e.default={name:"app-resource-advertising-drawerAdvertising",data:function(){return{formData:{},isApprovePhaseOpened:!1,approveOptions:[{value:1,label:"平台-广告二级审核"}],approvePhaseName:"",rules:{name:[{required:!0,message:"请输入广告位名称",trigger:"blur"},{max:60,message:"最大长度不超过60个字符",trigger:"blur"}],height:[{validator:function(t,e,a){/^$|^\d+$/.test(e)?a():a(new Error("只能输入正整数"))},trigger:"blur"}],width:[{validator:function(t,e,a){/^$|^\d+$/.test(e)?a():a(new Error("只能输入正整数"))},trigger:"blur"}],rotators:[{validator:function(t,e,a){""===e?a(new Error("请输入轮播的次数")):"Number"!==(0,u.objType)(e)?a(new Error("只能为数字")):e<0?a(new Error("不能为负数")):e>10?a(new Error("轮播数不能大于10")):a()},trigger:"blur"}],materialNumber:[{validator:function(t,e,a){""===e?a(new Error("请输入单次返回素材的数量")):"Number"!==(0,u.objType)(e)?a(new Error("只能为数字")):e<1||e>20?a(new Error("只能输入1-20的数字")):a()},trigger:"blur"}],description:[{max:200,message:"最大长度不超过200个字符",trigger:"blur"}],mediaName:[{validator:function(t,e,a){""===e?a(new Error("请选择媒体")):a()},trigger:"change"}],channelName:[{validator:function(t,e,a){""===e?a(new Error("请选择一级频道")):a()},trigger:"change"}],twoChannelName:[{validator:function(t,e,a){""===e?a(new Error("请选择二级频道")):a()},trigger:"change"}]},department:[{label:"一级部门A",children:[{label:"二级部门A"},{label:"二级部门B"},{label:"二级部门C"}]},{label:"一级部门B",children:[{label:"二级部门D"},{label:"二级部门E"}]}],defaultProps:{children:"children",label:"label"},httpMethodMap:{new:"post",modify:"put"},mediaName:{options:[]},channelName:{options:[]},twoChannelName:{options:[]},jugeTwoChannel:!0}},computed:{drawerData:function(){return l.default.state.drawerCtrl.config},drawerCtrlAction:function(){return l.default.state.drawerCtrl.action},config:function(){return l.default.state.drawerCtrl}},created:function(){this.formData=(0,u.copyObj)(this.drawerData),this.isApprovePhaseOpened=2===this.formData.approveFlowId,this.mediaList(),this.isApprovePhaseOpened&&(this.approvePhaseName=1)},methods:{approvePhase:function(){this.isApprovePhaseOpened=!this.isApprovePhaseOpened,this.isApprovePhaseOpened&&(this.approvePhaseName=1)},selectDepartment:function(t){this.formData.department=t.label},mediaChange:function(t){var e=this;e.formData.channelName="",e.formData.twoChannelName="",e.channelName={options:[]},e.twoChannelName={options:[]},d.default.get("/api/allChannels",{params:{publisherId:t}}).then(function(t){if(200==t.data.code){var a=t.data.data;for(var s in a)e.channelName.options.push(a[s]);console.log(e.formData.twoChannelName)}}).catch(function(t){console.log(t)})},channelChange:function(t){if(""!=t){var e=this;e.formData.twoChannelName="",e.twoChannelName.options=[],d.default.get("/api/allChannels",{params:{channelId:t}}).then(function(t){if(200==t.data.code){var a=t.data.data;for(var s in a)e.twoChannelName.options.push(a[s])}}).catch(function(t){console.log(t)})}},mediaList:function(){var t=this;d.default.get("/api/publishers",{params:{status:1}}).then(function(e){if(console.log(e),200===e.status&&200===e.data.code){var a=e.data.data;for(var s in a.list)t.mediaName.options.push(a.list[s])}}).catch(function(t){console.log(t)})}},mounted:function(){var t=this;n.default.$off("media-save"),n.default.$on("media-save",function(){t.$refs.formData.validate(function(e){"modify"==t.drawerCtrlAction&&(t.formData.mediaName=t.formData.publisherId,t.formData.twoChannelName=t.formData.channelId);var a={name:t.formData.name,publisherId:t.formData.mediaName,channelId:t.formData.twoChannelName?t.formData.twoChannelName:t.formData.channelName,width:t.formData.width,height:t.formData.height,rotators:t.formData.rotators,outSourceFlow:t.formData.outSourceFlow,materialNumber:t.formData.materialNumber,approveFlowId:t.formData.approveFlowId,description:t.formData.description};console.log(a),e?(0,d.default)({url:"/api/slot",method:t.httpMethodMap[t.drawerCtrlAction],data:"modify"===t.drawerCtrlAction?(0,u.mixin)({slotId:t.formData.slotId},a):a}).then(function(t){console.log(t),t.data.iserror?n.default.$emit("media-save-result",{error:1,res:null}):n.default.$emit("media-save-result",{error:0,res:t.data})}).catch(function(t){n.default.$emit("media-save-result",{error:1,res:null})}):n.default.$emit("media-save-result",{error:1,res:null})})})},watch:{"twoChannelName.options":function(){0!=this.twoChannelName.options.length?this.jugeTwoChannel=!1:this.jugeTwoChannel=!0}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(6),n=(s(i),a(7)),o=s(n),r=a(22),l=(s(r),a(12)),c=(s(l),a(4)),d=s(c),u=a(5),m=s(u),p=a(25),f=s(p),h=a(23);e.default={name:"resource-channel-channelList",data:function(){return{breadcrumbConfig:{data:[{msg:"资源位",link:"/#/app/resource/"},{msg:"媒体",link:"/#/app/resource/publisher"},{msg:"频道列表",link:"/#"+this.$route.path}]},page:{totalCount:0,currentPage:1,pageSizes:[20,30,50],pageSize:20},summary:{name:"",platform:"",state:1,levelone:"",leveltwo:""},so:{keyword:"",startTime:new Date,endTime:new Date,list:[],showCM:!1,parentName:{options:[{name:"全部",channelId:-1},{name:"无",channelId:0}],channelId:-1},status:{options:[{label:"全部",value:"-2"},{label:"上线",value:"1"},{label:"下线",value:"0"}],value:"-2"}},dialogVisible:!1,title:"提示",body_html:"",btn_state:"",channelId:"",status:""}},components:{"m-breadcrumb":f.default},mounted:function(){(0,h.initWindowResize)("con-table-change",!0,0)},updated:function(){(0,h.tableHandler)("con-table-change",!0,0)},destroyed:function(){(0,h.offWindowEvent)("con-table-change")},created:function(){localStorage.setItem("publisherId",this.$route.params.id),this.getSummary(),this.getList(),this.channelList(this.$route.params.id);var t=this;m.default.$off("media-save-success"),m.default.$on("media-save-success",function(){t.getList(),t.channelList(t.$route.params.id)})},methods:{channelList:function(t){var e=this;e.so.parentName={options:[{name:"全部",channelId:-1},{name:"无",channelId:0}],channelId:-1},d.default.get("/api/allChannels",{params:{publisherId:t}}).then(function(t){if(200==t.data.code){var a=t.data.data;for(var s in a)e.so.parentName.options.push(a[s])}console.log(e.so.parentName)}).catch(function(t){console.log(t)})},pageSizeChange:function(t){this.page.pageSize=t,this.getList()},currentPageChange:function(t){this.page.currentPage=t,this.getList()},getSummary:function(){var t=this.summary;d.default.get("/api/publisher",{params:{publisherId:this.$route.params.id}}).then(function(e){if(200==e.data.code){var a=e.data.data;t.name=a.name,t.platform=1==a.platform?"APP":2==a.platform?"WAP":3==a.platform?"PC":"其它",t.state=a.status,console.log(e)}}).catch(function(t){console.log(t)})},getList:function(){var t=this.so,e=this.so.parentName.channelId,a=this;console.log(e),d.default.get("/api/channels",{params:{publisherId:this.$route.params.id,keyword:this.so.keyword,parentId:e,status:this.so.status.value,page:this.page.currentPage,number:this.page.pageSize}}).then(function(e){if(200==e.data.code){var s=e.data.data;t.list=s.list,a.page.totalCount=e.data.data.totalCount}}).catch(function(t){alert("list fail")})},sureFn:function(){if("downUp"==this.btn_state){var t=this;this.so.list;d.default.put("/api/channel/status",{channelId:this.channelId,status:1==this.status?0:1}).then(function(e){200==e.data.code&&(t.getList(),t.$message({message:e.data.msg,type:"success",duration:3e3}),t.channelList(t.$route.params.id))}).catch(function(t){alert("fail")})}else if("delete"==this.btn_state){var t=this;this.list;if(1==this.status)return void(this.dialogVisible=!1);d.default.delete("/api/channel",{data:{channelId:this.channelId}}).then(function(e){200==e.data.code&&(t.getList(),t.$message({message:e.data.msg,type:"success",duration:3e3}))}).catch(function(t){alert("fail")})}else"noCan"==this.btn_state&&(this.dialogVisible=!1);this.dialogVisible=!1},showChannel:function(){1==this.summary.state&&o.default.controlDrawer(this.$store,{show:!0,action:"new",type:"channel",config:{name:"",publisherId:this.$route.params.id,media:this.summary,parentName:"",description:"",url:""}})},selectChannel:function(){this.getList()},getData:function(t,e){d.default.get("/api/channel",{params:{channelId:t}}).then(function(t){200===t.data.code&&e(t.data.data)}).catch(function(t){console.log(t)})},modify:function(t,e){var a=this;1!=e&&this.getData(t,function(e){e.publisherId=t,e.media=a.summary,o.default.controlDrawer(a.$store,{show:!0,action:"modify",type:"channel",config:e})})},changeStatus:function(t,e){var a=this;1==e?d.default.get("/api/channel/children",{params:{channelId:t}}).then(function(e){if(200==e.data.code){var s=e.data.data;0==s.result?d.default.get("/api/channel/offline",{params:{channelId:t}}).then(function(e){if(200==e.data.code){var s=e.data.data;0==s.result?(a.dialogVisible=!0,a.body_html="<h3>您确定要下线该频道么？</h3><p>(请确保该频道下无非下线状态的广告位)</p>",a.btn_state="downUp",a.channelId=t):(a.dialogVisible=!0,a.body_html="<h3>无法下线该频道</h3><p>(该频道下仍有非下线状态的广告位)</p>",a.btn_state="noCan",a.channelId=t)}}):d.default.get("/api/channel/offline",{params:{channelId:t}}).then(function(e){if(200==e.data.code){var s=e.data.data;0==s.result?(a.dialogVisible=!0,a.body_html="<h3>您确定要下线该频道及二级频道么？</h3><p>(请确保该频道下无非下线状态的广告位)</p>",a.btn_state="downUp",a.channelId=t):(a.dialogVisible=!0,a.body_html="<h3>无法下线该频道</h3><p>(该频道或二级频道下仍有非下线状态的广告位)</p>",a.btn_state="noCan",a.channelId=t)}})}}).catch(function(t){console.log(t)}):1==this.summary.state&&d.default.get("/api/channel/online",{params:{channelId:t}}).then(function(e){if(200==e.data.code){var s=e.data.data;0==s.result?(a.dialogVisible=!0,a.body_html="<h3>您确定要上线该频道么？</h3>",a.btn_state="downUp",a.channelId=t):(a.dialogVisible=!0,a.body_html="<h3>该频道无法上线，请先上线其父频道！</h3>",a.btn_state="noCan")}}).catch(function(t){console.log(t)}),a.status=e},del:function(t,e){var a=this;d.default.get("/api/channel/children",{params:{channelId:t}}).then(function(s){if(s.data.code){var i=s.data.data;if(0==i.result){var n=1==e?"无法删除该频道":"您确定要删除该频道么？",o=1==e?"(该频道未下线)":"(请确保该频道已下线)";a.dialogVisible=!0,a.body_html="<h3>"+n+"</h3><p>"+o+"</p>",a.btn_state="delete",a.channelId=t,a.status=e}else a.dialogVisible=!0,a.body_html="<h3>无法删除该频道！</h3><p>请确保该频道下的子频道是否存在！</p>",a.btn_state="noCan"}}).catch(function(t){console.log(t)})},newAdvertising:function(t,e){var a=this,s=this.summary;1==e&&d.default.get("/api/channel",{params:{channelId:t}}).then(function(e){if(200==e.data.code){var i=e.data.data;s.levelone=i.parentName?i.parentName:i.name,s.leveltwo=i.parentName?i.name:"--",o.default.controlDrawer(a.$store,{show:!0,action:"new",type:"advertisingList",config:{name:"",width:"",height:"",rotators:"",outSourceFlow:0,materialNumber:"",department:"",approveFlowId:1,state:0,controlRadio:!0,summary:a.summary,publisherId:a.$route.params.id,channelId:t,description:""}})}}).catch(function(t){console.log(t)})}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),n=s(i),o=a(7),r=(s(o),a(9)),l=s(r),c=a(4),d=s(c),u=a(8);e.default={name:"drawer-media",data:function(){return{changeUrl:!1,formData:{},parentName:{options:[{name:"无",channelId:0}]},rules:{name:[{required:!0,message:"请输入媒体名称",trigger:"blur"},{max:60,message:"最大长度不超过60个字符",trigger:"blur"}],description:[{max:200,message:"最大长度不超过200个字符",trigger:"blur"}],url:[{validator:function(t,e,a){""===e?a(new Error("请填写页面URL")):/(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&:\/~\+#]*[\w\-\@?^=%&\/~\+#])?/.test(e)?a():a(new Error("URL格式不对！"))},trigger:"change"}],parentName:[{validator:function(t,e,a){""===e?a(new Error("请选择父频道")):a()},trigger:"change"}]},httpMethodMap:{new:"post",modify:"put"}}},computed:{drawerData:function(){return l.default.state.drawerCtrl.config},drawerCtrlAction:function(){return l.default.state.drawerCtrl.action},config:function(){return l.default.state.drawerCtrl}},created:function(){this.formData=(0,u.copyObj)(this.drawerData),this.channelList(this.formData.publisherId),""==this.formData.parentName&&"modify"==this.drawerCtrlAction&&(this.formData.parentName="无"),console.log(this.formData.parentName)},methods:{channelList:function(t){console.log(t);var e=this;d.default.get("/api/allChannels",{params:{publisherId:t}}).then(function(t){if(200==t.data.code){var a=t.data.data;for(var s in a)e.parentName.options.push(a[s])}}).catch(function(t){console.log(t)})}},mounted:function(){var t=this;n.default.$off("media-save"),n.default.$on("media-save",function(){t.$refs.formData.validate(function(e){var a={name:t.formData.name,publisherId:t.formData.publisherId,parentId:"无"==t.formData.parentName?0:t.formData.parentName,description:t.formData.description,url:t.formData.url};console.log(a),e?(0,d.default)({url:"/api/channel",method:t.httpMethodMap[t.drawerCtrlAction],data:"modify"===t.drawerCtrlAction?(0,u.mixin)({channelId:t.formData.channelId},a):a}).then(function(t){t.data.iserror?n.default.$emit("media-save-result",{error:1,res:null}):n.default.$emit("media-save-result",{error:0,res:t.data})}).catch(function(t){n.default.$emit("media-save-result",{error:1,res:null})}):n.default.$emit("media-save-result",{error:1,res:null})})})}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(94),n=s(i),o=a(605),r=s(o);e.default={name:"app-material-main",data:function(){return{navMenu:[{msg:"媒体",link:"/#/app/resource/publisher",icon:"icon-media",checked:!0,sub:[]},{msg:"广告位",link:"/#/app/resource/advertising",icon:"icon-mediaAd",checked:!1,sub:[]},{msg:"广告形式",link:"/#/app/resource/advertForm",icon:"icon-mediaAdForm",checked:!1,sub:[]},{msg:"模板",link:"/#/app/resource/template",icon:"icon-mediaTemplate",checked:!1,sub:[]}]}},components:{"m-nav":n.default,"m-drawer":r.default}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(9),n=s(i),o=a(4),r=(s(o),a(7)),l=s(r),c=a(607),d=s(c),u=a(603),m=s(u),p=a(598),f=s(p),h=a(593),v=s(h),g=a(599),_=s(g),w=a(590),b=s(w),y=a(594),C=s(y),D=a(608),k=s(D),x=a(591),T=s(x),S=a(601),M=s(S),N=a(5),I=s(N);e.default={name:"newMedia",data:function(){return{typeMap:{media:"媒体",channel:"频道",advertisingList:"广告位",advertisingOut:"广告位",advert:"广告",advertisingChange:"切换",advertChange:"切换",advertFormChange:"切换",template:"模板",format:"广告形式"},actionMap:{new:"新增",modify:"修改",change:"状态"}}},components:{"m-media":d.default,"m-channel":m.default,"m-advertising":f.default,"m-advert":v.default,"m-advertisingChange":_.default,"m-advertFormChange":b.default,"m-advertChange":C.default,"m-template":k.default,"m-format":T.default,"m-advertisingOut":M.default},computed:{config:function(){return n.default.state.drawerCtrl}},methods:{closeView:function(){l.default.controlDrawer(this.$store,{show:!1})},save:function(t){var e=this;I.default.$off("media-save-result"),I.default.$once("media-save-result",function(a){console.log("return--------------------"),a.error||(I.default.$emit("media-save-success"),t&&"Function"===objType(t)?t(a):(console.log("success***********************"),l.default.controlDrawer(n.default,{show:!1})),e.$message({message:"保存成功",type:"success",duration:3e3}))}),I.default.$emit("media-save")}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(6),n=(s(i),a(7)),o=s(n),r=a(22),l=s(r),c=a(12),d=(s(c),a(4)),u=s(d),m=a(5),p=s(m),f=a(25),h=s(f),v=a(23);e.default={name:"app-resource-publisher-list",data:function(){return{breadcrumbConfig:{data:[{msg:"资源位",link:"/#/app/resource/"},{msg:"媒体",link:"/#"+this.$route.path}]},page:{totalCount:0,currentPage:1,pageSizes:[20,30,50],pageSize:20},so:{keyword:"",startTime:new Date,endTime:new Date,list:[],showCM:!1,deviceState:{options:[{label:"全部",value:"0"},{label:"APP",value:"1"},{label:"WAP",value:"2"},{label:"PC",value:"3"}],value:"0"},mediaState:{options:[{label:"全部",value:"-1"},{label:"站内",value:"1"},{label:"站外",value:"0"}],value:"-1"},status:{options:[{label:"全部",value:"-2"},{label:"上线",value:"1"},{label:"下线",value:"0"}],value:"-2"}},summary:{name:"",platform:""},dialogVisible:!1,title:"提示",body_html:"",btn_state:"",id:"",status:""}},components:{"m-breadcrumb":h.default},computed:{},created:function(){var t=this;this.getList(),p.default.$off("media-save-success"),p.default.$on("media-save-success",function(){t.getList()})},mounted:function(){(0,v.initWindowResize)("con-table-change",!0,0)},updated:function(){(0,v.tableHandler)("con-table-change",!0,0)},destroyed:function(){(0,v.offWindowEvent)("con-table-change")},methods:{getList:function(){var t=this.so,e=this;u.default.get("/api/publishers",{params:{keyword:t.keyword,platform:t.deviceState.value,isInternal:t.mediaState.value,status:t.status.value,page:this.page.currentPage,number:this.page.pageSize}}).then(function(t){console.log(t),200===t.status&&200===t.data.code&&(e.so.list=t.data.data.list,e.page.totalCount=t.data.data.totalCount)}).catch(function(t){console.log(t)})},getData:function(t,e){u.default.get("/api/publisher",{params:{publisherId:t}}).then(function(t){200===t.data.code&&e(t.data.data)}).catch(function(t){console.log(t)})},pageSizeChange:function(t){this.page.pageSize=t,this.getList()},currentPageChange:function(t){this.page.currentPage=t,this.getList()},sureFn:function(){if("down"==this.btn_state){var t=this;this.so.list;u.default.get("/api/publisher/offline",{params:{publisherId:t.id}}).then(function(e){if(200==e.data.code){var a=e.data.data.result;0!=a?(t.dialogVisible=!0,t.body_html="<h3>无法下线该媒体</h3><p>(该媒体下仍有处于上线状态的频道)</p>",t.btn_state="noCan"):u.default.put("/api/publisher/status",{publisherId:t.id,status:1==t.status?0:1}).then(function(e){200==e.data.code&&(t.getList(),t.$message({message:e.data.msg,type:"success",duration:3e3}))}).catch(function(t){alert("fail")})}}).catch(function(t){console.log(t)})}else if("up"==this.btn_state){var t=this;this.so.list;u.default.put("/api/publisher/status",{publisherId:t.id,status:1==t.status?0:1}).then(function(e){200==e.data.code&&(t.getList(),t.$message({message:e.data.msg,type:"success",duration:3e3}))}).catch(function(t){alert("fail")})}else if("delete"==this.btn_state){var t=this;this.so.list;u.default.get("/api/publisher/status",{params:{publisherId:t.id}}).then(function(e){if(200==e.data.code){var a=e.data.data.status;1==a?(t.dialogVisible=!0,t.body_html="<h3>无法删除该媒体</h3><p>(该媒体仍处于上线状态)</p>",t.btn_state="noCan"):u.default.delete("/api/publisher",{data:{publisherId:t.id}}).then(function(e){200==e.data.code&&(t.getList(),t.$message({message:e.data.msg,type:"success",duration:3e3}))}).catch(function(t){alert("fail")})}}).catch(function(t){console.log(t)})}else"noCan"==this.btn_state&&(this.dialogVisible=!1);this.dialogVisible=!1},showMedia:function(){o.default.controlDrawer(this.$store,{show:!0,action:"new",type:"media",config:l.default.DRAWERMEDIA})},modify:function(t,e){var a=this;1!=e&&this.getData(t,function(e){e.publisherId=t,o.default.controlDrawer(a.$store,{show:!0,action:"modify",type:"media",config:e})})},changeStatus:function(t,e){var a=this;1==e?(a.dialogVisible=!0,a.body_html="<h3>您确定要下线该媒体吗？</h3><p>(请确保该媒体下无处于上线状态的频道)</p>",a.btn_state="down",a.id=t,a.status=e):(a.dialogVisible=!0,a.body_html="<h3>您确定要上线该媒体吗？</h3>",a.btn_state="up",a.id=t,a.status=e)},del:function(t,e){this.dialogVisible=!0,this.body_html="<h3>您确定要删除该媒体吗？</h3>",this.btn_state="delete",this.id=t},newChannel:function(t,e,a,s){1==s&&(this.summary.name=e,this.summary.platform=1==a?"APP":2==a?"WAP":3==a?"PC":"其它",o.default.controlDrawer(this.$store,{show:!0,action:"new",type:"channel",config:{name:"",publisherId:t,media:this.summary,parentName:"",description:"",url:""}}))}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),n=s(i),o=a(7),r=(s(o),a(9)),l=s(r),c=a(4),d=s(c),u=a(8);e.default={name:"drawer-media",data:function(){return{changeUrl:!1,formData:{},rules:{name:[{required:!0,message:"请输入媒体名称",trigger:"blur"},{max:60,message:"最大长度不超过60个字符",
trigger:"blur"}],description:[{max:200,message:"最大长度不超过200个字符",trigger:"blur"}],url:[{validator:function(t,e,a){""===e?a(new Error("请填写页面URL")):/(http|ftp|https):\/\/[\w\-_]+(\.[\w\-_]+)+([\w\-\.,@?^=%&:\/~\+#]*[\w\-\@?^=%&\/~\+#])?/.test(e)?a():a(new Error("URL格式不对！"))},trigger:"change"}]},httpMethodMap:{new:"post",modify:"put"}}},computed:{drawerData:function(){return l.default.state.drawerCtrl.config},drawerCtrlAction:function(){return l.default.state.drawerCtrl.action},config:function(){return l.default.state.drawerCtrl}},created:function(){this.formData=(0,u.copyObj)(this.drawerData)},methods:{},mounted:function(){var t=this;n.default.$off("media-save"),n.default.$on("media-save",function(){t.$refs.formData.validate(function(e){console.log(e);var a={publisherId:t.formData.publisherId,name:t.formData.name,platform:t.formData.platform,isInternal:t.formData.isInternal,description:t.formData.description,url:t.formData.url};console.log(a),e?(0,d.default)({url:"/api/publisher",method:t.httpMethodMap[t.drawerCtrlAction],data:"modify"===t.drawerCtrlAction?(0,u.mixin)({publisherId:t.formData.publisherId},a):a}).then(function(e){e.data.iserror?n.default.$emit("media-save-result",{error:1,res:null}):n.default.$emit("media-save-result",{error:0,res:e.data,isRebate:t.formData.isRebate})}).catch(function(t){n.default.$emit("media-save-result",{error:1,res:null})}):n.default.$emit("media-save-result",{error:1,res:null})})})},watch:{"formData.platform":function(){1===this.formData.platform?(this.changeUrl=!1,this.formData.url=""):this.changeUrl=!0}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(5),n=s(i),o=a(7),r=(s(o),a(9)),l=s(r),c=a(4),d=s(c),u=a(8);e.default={name:"app-resource-template",data:function(){return{formData:{},rules:{name:[{required:!0,message:"请输入媒体名称",trigger:"blur"},{max:60,message:"最大长度不超过60个字符",trigger:"blur"}],height:[{validator:function(t,e,a){/^$|^\d+$/.test(e)?""===e?a(new Error("请输入高度")):a():a(new Error("只能输入正整数"))},trigger:"blur"}],width:[{validator:function(t,e,a){/^$|^\d+$/.test(e)?""===e?a(new Error("请输入宽度")):a():a(new Error("只能输入正整数"))},trigger:"blur"}],materialNumber:[{validator:function(t,e,a){""===e?a(new Error("请输入素材的个数")):"Number"!==(0,u.objType)(e)?a(new Error("只能为数字")):e<0?a(new Error("不能为负数")):a()},trigger:"blur"}]},httpMethodMap:{new:"post",modify:"put"}}},computed:{drawerData:function(){return l.default.state.drawerCtrl.config},drawerCtrlAction:function(){return l.default.state.drawerCtrl.action},config:function(){return l.default.state.drawerCtrl}},created:function(){this.formData=(0,u.copyObj)(this.drawerData),console.log(this.formData)},mounted:function(){var t=this;n.default.$off("media-save"),n.default.$on("media-save",function(){t.$refs.formData.validate(function(e){var a={name:t.formData.name,width:t.formData.width,height:t.formData.height,materialNumber:t.formData.materialNumber,type:t.formData.type,content:t.formData.content};console.log(a),e?(0,d.default)({url:"/api/template",method:t.httpMethodMap[t.drawerCtrlAction],data:"modify"===t.drawerCtrlAction?(0,u.mixin)({templateId:t.formData.templateId},a):a}).then(function(t){console.log(t),t.data.iserror?n.default.$emit("media-save-result",{error:1,res:null}):n.default.$emit("media-save-result",{error:0,res:t.data})}).catch(function(t){n.default.$emit("media-save-result",{error:1,res:null})}):n.default.$emit("media-save-result",{error:1,res:null})})})}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(6),n=(s(i),a(7)),o=s(n),r=a(22),l=(s(r),a(12)),c=(s(l),a(4)),d=s(c),u=a(5),m=s(u),p=a(25),f=s(p),h=a(23);e.default={name:"app-resource-advertForm",data:function(){return{breadcrumbConfig:{data:[{msg:"资源位",link:"/#/app/resource/"},{msg:"模板",link:"/#"+this.$route.path}]},page:{totalCount:0,currentPage:1,pageSizes:[20,30,50],pageSize:20},so:{keyword:"",list:[],showCM:!1,status:{options:[{label:"全部",value:"-2"},{label:"上线",value:"1"},{label:"下线",value:"0"}],value:"-2"}},dialogVisible:!1,title:"提示",body_html:"",btn_state:"",id:"",status:""}},components:{"m-breadcrumb":f.default},created:function(){this.getList();var t=this;m.default.$off("media-save-success"),m.default.$on("media-save-success",function(){t.getList()})},mounted:function(){(0,h.initWindowResize)("con-table-change",!0,0)},updated:function(){(0,h.tableHandler)("con-table-change",!0,0)},destroyed:function(){(0,h.offWindowEvent)("con-table-change")},methods:{getList:function(){var t=this.so,e=this;d.default.get("/api/templates",{params:{keyword:t.keyword,status:t.status.value,page:this.page.currentPage,number:this.page.pageSize}}).then(function(a){if(console.log(a),200==a.data.code){var s=a.data.data;t.list=s.list,e.page.totalCount=a.data.data.totalCount}}).catch(function(t){console.log(t)})},pageSizeChange:function(t){this.page.pageSize=t,this.getList()},currentPageChange:function(t){this.page.currentPage=t,this.getList()},showTemplate:function(){o.default.controlDrawer(this.$store,{show:!0,action:"new",type:"template",config:{name:"",width:"",height:"",materialNumber:"",type:1,content:""}})},sureFn:function(){var t=this;"delete"==this.btn_state?d.default.get("/api/template/status",{params:{templateId:t.id}}).then(function(e){if(200==e.data.code){var a=e.data.data.status;1==a?(t.dialogVisible=!0,t.body_html="<h3>无法删除</h3><p>(上线状态的模板无法删除)</p>",t.btn_state="noCan"):d.default.delete("/api/template",{data:{templateId:t.id}}).then(function(e){200==e.data.code&&(t.getList(),t.$message({message:e.data.msg,type:"success",duration:3e3}))}).catch(function(t){alert("fail")})}}).catch(function(t){console.log(t)}):"change"==this.btn_state?1==t.status&&d.default.get("/api/template/checkOfflineConditon",{params:{templateId:t.id}}).then(function(e){200==e.data.code&&e.data.data.result?d.default.put("/api/template/status",{templateId:t.id,status:1==t.status?0:1}).then(function(e){200==e.data.code&&(t.getList(),t.$message({message:e.data.msg,type:"success",duration:3e3}))}).catch(function(t){alert("fail")}):(t.dialogVisible=!0,t.body_html="<h3>无法下线该模板</h3><p>请先解除与该模板绑定的广告的关联关系</p>",t.btn_state="noCan")}).catch(function(t){alert("fail")}):"up"==this.btn_state?d.default.put("/api/template/status",{templateId:t.id,status:1==t.status?0:1}).then(function(e){200==e.data.code&&(t.getList(),t.$message({message:e.data.msg,type:"success",duration:3e3}))}).catch(function(t){alert("fail")}):"noCan"==this.btn_state&&(this.dialogVisible=!1),this.dialogVisible=!1},getData:function(t,e){d.default.get("/api/template",{params:{templateId:t}}).then(function(t){200==t.data.code&&e(t.data.data)}).catch(function(t){console.log(t)})},modify:function(t,e){var a=this;1!=e&&this.getData(t,function(t){o.default.controlDrawer(a.$store,{show:!0,action:"modify",type:"template",config:t})})},del:function(t,e){this.dialogVisible=!0,this.body_html="<h3>您确定要删除该模板吗？</h3>",this.btn_state="delete",this.id=t,this.status=e},changeStatus:function(t,e){1==e?(this.dialogVisible=!0,this.body_html="<h3>您确定要下线该模板吗？</h3>",this.btn_state="change",this.id=t,this.status=e):(this.dialogVisible=!0,this.body_html="<h3>您确定要将该模板上线吗？</h3>",this.btn_state="up",this.id=t,this.status=e)}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"breadcrumb",props:["config"]}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(387),n=s(i),o=a(4),r=s(o),l=a(9),c=s(l),d=a(7),u=s(d),m=a(49),p=(s(m),a(12)),f=s(p);e.default={name:"head",data:function(){return{logoutStatus:!1,avatar:a(564)}},computed:{userInfo:function(){return c.default.state.userInfo}},mounted:function(){var t=this;document.body.addEventListener("click",function(e){for(var a=e||window.event,s=a.target||a.srcElement;s;){if(s.classList&&[].concat((0,n.default)(s.classList)).indexOf("header-login")!==-1)return;s=s.parentNode}t.logoutStatus=!1})},methods:{controlLogoutStatus:function(){this.logoutStatus=!this.logoutStatus},logout:function(){var t=this;r.default.post("api/logout").then(function(e){e.data.iserror||(u.default.setUserInfo(t.$store,{}),window.location.href=f.default.production)})}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(6),n=(s(i),a(9)),o=s(n);e.default={name:"loading",computed:{loading:function(){return o.default.state.loading}},methods:{beforeEnter:function(t){},enter:function(t,e){setTimeout(function(){t.style.opacity=1},0),setTimeout(function(){e()},300)},afterEnter:function(t){},enterCancelled:function(t){},beforeLeave:function(t){},leave:function(t,e){setTimeout(function(){t.style.opacity=0},300),setTimeout(function(){e()},600)},afterLeave:function(t){},leaveCancelled:function(t){}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(383),n=s(i),o=a(8);e.default={name:"app-accout-nav",props:["config"],data:function(){return{routeConfig:[]}},mounted:function(){this.routeConfig=(0,o.copyObj)(this.config)},methods:{emitRoute:function(t){this.routeConfig.forEach(function(t){t.checked=!1}),this.routeConfig[t].checked=!0},checkIsActive:function(t){var e=this.$route.matched[this.$route.matched.length-1].path;return(0,n.default)(this.$route.params).forEach(function(t){var a=new RegExp("/:"+t,"g");e=e.replace(a,"")}),t===e},sliceUrl:function(t){return t.indexOf("/#")>-1?t.slice(1):t}}}},function(t,e,a){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=a(49),n=s(i),o=a(9),r=s(o);e.default={name:"error",data:function(){return{msg:""}},computed:{type:function(){return r.default.state.errorCode},errorClass:function(){return 403===r.default.state.errorCode?"error-403":"error-500"}},methods:{goBack:function(){n.default.go(-1)},refresh:function(){window.location.reload()}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e,a){function s(t){return a(i(t))}function i(t){return n[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var n={"./af":135,"./af.js":135,"./ar":142,"./ar-dz":136,"./ar-dz.js":136,"./ar-kw":137,"./ar-kw.js":137,"./ar-ly":138,"./ar-ly.js":138,"./ar-ma":139,"./ar-ma.js":139,"./ar-sa":140,"./ar-sa.js":140,"./ar-tn":141,"./ar-tn.js":141,"./ar.js":142,"./az":143,"./az.js":143,"./be":144,"./be.js":144,"./bg":145,"./bg.js":145,"./bn":146,"./bn.js":146,"./bo":147,"./bo.js":147,"./br":148,"./br.js":148,"./bs":149,"./bs.js":149,"./ca":150,"./ca.js":150,"./cs":151,"./cs.js":151,"./cv":152,"./cv.js":152,"./cy":153,"./cy.js":153,"./da":154,"./da.js":154,"./de":157,"./de-at":155,"./de-at.js":155,"./de-ch":156,"./de-ch.js":156,"./de.js":157,"./dv":158,"./dv.js":158,"./el":159,"./el.js":159,"./en-au":160,"./en-au.js":160,"./en-ca":161,"./en-ca.js":161,"./en-gb":162,"./en-gb.js":162,"./en-ie":163,"./en-ie.js":163,"./en-nz":164,"./en-nz.js":164,"./eo":165,"./eo.js":165,"./es":167,"./es-do":166,"./es-do.js":166,"./es.js":167,"./et":168,"./et.js":168,"./eu":169,"./eu.js":169,"./fa":170,"./fa.js":170,"./fi":171,"./fi.js":171,"./fo":172,"./fo.js":172,"./fr":175,"./fr-ca":173,"./fr-ca.js":173,"./fr-ch":174,"./fr-ch.js":174,"./fr.js":175,"./fy":176,"./fy.js":176,"./gd":177,"./gd.js":177,"./gl":178,"./gl.js":178,"./gom-latn":179,"./gom-latn.js":179,"./he":180,"./he.js":180,"./hi":181,"./hi.js":181,"./hr":182,"./hr.js":182,"./hu":183,"./hu.js":183,"./hy-am":184,"./hy-am.js":184,"./id":185,"./id.js":185,"./is":186,"./is.js":186,"./it":187,"./it.js":187,"./ja":188,"./ja.js":188,"./jv":189,"./jv.js":189,"./ka":190,"./ka.js":190,"./kk":191,"./kk.js":191,"./km":192,"./km.js":192,"./kn":193,"./kn.js":193,"./ko":194,"./ko.js":194,"./ky":195,"./ky.js":195,"./lb":196,"./lb.js":196,"./lo":197,"./lo.js":197,"./lt":198,"./lt.js":198,"./lv":199,"./lv.js":199,"./me":200,"./me.js":200,"./mi":201,"./mi.js":201,"./mk":202,"./mk.js":202,"./ml":203,"./ml.js":203,"./mr":204,"./mr.js":204,"./ms":206,"./ms-my":205,"./ms-my.js":205,"./ms.js":206,"./my":207,"./my.js":207,"./nb":208,"./nb.js":208,"./ne":209,"./ne.js":209,"./nl":211,"./nl-be":210,"./nl-be.js":210,"./nl.js":211,"./nn":212,"./nn.js":212,"./pa-in":213,"./pa-in.js":213,"./pl":214,"./pl.js":214,"./pt":216,"./pt-br":215,"./pt-br.js":215,"./pt.js":216,"./ro":217,"./ro.js":217,"./ru":218,"./ru.js":218,"./sd":219,"./sd.js":219,"./se":220,"./se.js":220,"./si":221,"./si.js":221,"./sk":222,"./sk.js":222,"./sl":223,"./sl.js":223,"./sq":224,"./sq.js":224,"./sr":226,"./sr-cyrl":225,"./sr-cyrl.js":225,"./sr.js":226,"./ss":227,"./ss.js":227,"./sv":228,"./sv.js":228,"./sw":229,"./sw.js":229,"./ta":230,"./ta.js":230,"./te":231,"./te.js":231,"./tet":232,"./tet.js":232,"./th":233,"./th.js":233,"./tl-ph":234,"./tl-ph.js":234,"./tlh":235,"./tlh.js":235,"./tr":236,"./tr.js":236,"./tzl":237,"./tzl.js":237,"./tzm":239,"./tzm-latn":238,"./tzm-latn.js":238,"./tzm.js":239,"./uk":240,"./uk.js":240,"./ur":241,"./ur.js":241,"./uz":243,"./uz-latn":242,"./uz-latn.js":242,"./uz.js":243,"./vi":244,"./vi.js":244,"./x-pseudo":245,"./x-pseudo.js":245,"./yo":246,"./yo.js":246,"./zh-cn":247,"./zh-cn.js":247,"./zh-hk":248,"./zh-hk.js":248,"./zh-tw":249,"./zh-tw.js":249};s.keys=function(){return Object.keys(n)},s.resolve=i,t.exports=s,s.id=562},,function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpBRTI5M0VGNzM1NzQxMUU3QjE0QkU1NDg5NDdBRkU5QyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpBRTI5M0VGODM1NzQxMUU3QjE0QkU1NDg5NDdBRkU5QyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkFFMjkzRUY1MzU3NDExRTdCMTRCRTU0ODk0N0FGRTlDIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkFFMjkzRUY2MzU3NDExRTdCMTRCRTU0ODk0N0FGRTlDIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+4ceHXgAABI1JREFUeNrsW0tPFEEQ7h1ZFhAEXOThEpSgATEQojFi5CaJetBE0cQDF2PizZ/k3USRxJNXEhMQogkQUTREDPIQdeUlsrDsWgU1ZpzMsD091Tvj40u+C2xX9zfdXV1dUxPJZrNCE6LASmA5sAxYAiwGFhARaeIG8DtwFbgM/Abc0jGoCLPgImACWEtiI4p2siR6ATgH/BE2wXFgE7Dah8i9xC8Cp4BfgxaMQluAB0V+kAS+8SNcVTAu3VZavkFgFjhBe1+74MPAdnJKQQKd2hjtcS2CDZrVRhEuvKfZznAKxmPkDLBKhBO4p0dkjjIZwYXATjpPw4wV4CBwM9cyzRU8/AliEQdorFHVGcaHcZZ5GePWqKegRFBw8ZGiLS58AT5329N7CW4DHmUaBAq8RN49ZvtfirztU3oAHJgGjnsRjEfPaabOTwFvWeJnN+AsPwC+ZOr3hdORZbgEFe1MnZ4H9kqINZd7L7XhQDtpySm4jSmoOAK8rtAO2zQw3dbacgmuopsOB64pXiQiig/KCbV2p2sX3MzUUcLnLDUwxunNboLjjLee1pDYEKQp7iS4ifEsrGawcYhxPE12wTGmQZooYbCxn3kCYlbBCeZMxSaDjRTjeCKmTzAF1zHHtQsMNj4xj6nOFBy1xLZcmAiJDXt4GzWEv+yiG2YonvUTC88wjwk1Vhoar379slkIGzLUVgcqDLpH6gDOUJ9Cuz4Ns2uirIDpCHHDIHnbmw7XQiev/JDxtuR4XBpONwpmjAIHJH43QL/ViSK8D1+WvL6poIUuArJZE8xWPBa7yXYdSKPgKxoM4wO8CuxSbP8M+ETwpn5+DYx9nwDvCH/56y6KjO4D1xnHljGYn2Ip8J7gSdY3kq1SxvFtcwpG53cXWMM4wBqyyeVY0yh4g8EQ2rktdlOw3Kgn2waDrZTBtEcwBXtc43GCti8y2FlHwSs+jRwDXhD60U19+cEqCl72uZR7NFw+3IL/Hp9LewkbY7ZftQygk9lJyTixTsW2O3UjKHhLqL3iiNAyyze6FVfUTmWQuTzmFfduRQCCsU+VhOO8sOyHWYVl3SGCQ4fCcp61Csar2aJHI4kABXs97xdJ428eb0ohjAwKXvuesh4rJrBOIunByFqAgr30nRSWui77mTbpwdC7AAV76futPXCwX8Blc8p4Z90MQGyK+pYBavm8l2DEuJCrZF2m7ES+0S8ZHW4Jh7IHJ8F4exqT7HxY7GYZM3kQmqG+hiV/P+Z0E+QqasG3/Tc0HlV4hj4CfpD8/bTwWNRizj7GrXEPoSY+JKzYw5fQftNHaXKiIzR42cAIPfKQUChbQmAV3jnhPVmPGYoTtEKwIgizluUSPgGd5hzN0GuF5ETOajyZ0sMYzbTfNxQRChgKLb4jQ4Nb83Fjs4odEjles/4txaVJcmYsxaXWPX1S8FXncQGX/yvBXD5sRVgKxNGpjQqNBeJ2p/TPfAJgRRAfeUySN1fznP8/4/GHYtrjdZSK8fOh1hKlZUL5oZYTrJ/i4RleQmcw/n0f/WabjhI8i9fpLNX6Kd5PAQYA7AAurVH33dEAAAAASUVORK5CYII="},function(t,e,a){a(517);var s=a(3)(a(326),a(631),null,null);t.exports=s.exports},function(t,e,a){a(513);var s=a(3)(a(327),a(622),"data-v-285e2a51",null);t.exports=s.exports},function(t,e,a){a(523);var s=a(3)(a(328),a(645),"data-v-6b2c0cbc",null);t.exports=s.exports},function(t,e,a){a(531);var s=a(3)(a(330),a(666),null,null);t.exports=s.exports},function(t,e,a){a(529);var s=a(3)(a(331),a(664),"data-v-b9fc6718",null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(332),a(650),null,null);t.exports=s.exports},function(t,e,a){a(519);var s=a(3)(a(334),a(635),null,null);t.exports=s.exports},function(t,e,a){a(528);var s=a(3)(a(335),a(659),"data-v-7c080eaa",null);t.exports=s.exports},function(t,e,a){a(510);var s=a(3)(a(336),a(616),"data-v-11596b8e",null);t.exports=s.exports},function(t,e,a){a(527);var s=a(3)(a(337),a(656),"data-v-7a30b401",null);t.exports=s.exports},function(t,e,a){a(512);var s=a(3)(a(338),a(619),"data-v-1c90cc5e",null);t.exports=s.exports},function(t,e,a){a(521);var s=a(3)(a(339),a(639),"data-v-5b4d6dbc",null);t.exports=s.exports},function(t,e,a){a(518);var s=a(3)(a(340),a(633),"data-v-4d4165f0",null);t.exports=s.exports},function(t,e,a){a(511);var s=a(3)(a(342),a(617),null,null);t.exports=s.exports},function(t,e,a){a(524);var s=a(3)(a(343),a(648),"data-v-708d2771",null);t.exports=s.exports},function(t,e,a){a(526);var s=a(3)(a(344),a(652),null,null);t.exports=s.exports},function(t,e,a){a(514);var s=a(3)(a(345),a(623),"data-v-3314827c",null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(346),a(618),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(347),a(621),null,null);t.exports=s.exports},function(t,e,a){a(520);var s=a(3)(a(348),a(638),null,null);t.exports=s.exports},function(t,e,a){a(522);var s=a(3)(a(349),a(643),null,null);t.exports=s.exports},function(t,e,a){a(516);var s=a(3)(a(350),a(630),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(351),a(627),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(352),a(646),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(353),a(660),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(354),a(620),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(355),a(661),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(356),a(647),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(357),a(644),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(358),a(637),null,null);t.exports=s.exports},function(t,e,a){a(515);var s=a(3)(a(359),a(625),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(360),a(653),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(362),a(634),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(363),a(655),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(364),a(640),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(365),a(615),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(366),a(641),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(367),a(626),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(368),a(624),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(369),a(642),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(370),a(662),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(371),a(657),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(372),a(649),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(373),a(663),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(374),a(632),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(376),a(629),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(377),a(654),null,null);t.exports=s.exports},function(t,e,a){var s=a(3)(a(379),a(658),null,null);t.exports=s.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-menu"},[a("ul",t._l(t.routeConfig,function(e,s){return a("li",{directives:[{name:"privilege",rawName:"v-privilege",value:e.privilege,expression:"item.privilege"}],class:{actived:e.checked},on:{click:function(e){t.emitRoute(s)}}},[a("div",{staticClass:"menu-header"},[a("a",{attrs:{href:e.link,title:""}},[e.sub.length?a("em",{staticClass:"icon icon-arrow"}):t._e(),a("em",{staticClass:"icon",class:e.icon}),a("span",{staticClass:"header-text"},[t._v(t._s(e.msg))])])]),t._v(" "),a("div",{staticClass:"menu-second",class:{"menu-second-new":"用户协议"==e.msg}},t._l(e.sub,function(e,s){return a("a",{directives:[{name:"privilege",rawName:"v-privilege",value:e.privilege,expression:"subItem.privilege"}],class:{actived:t.checkIsActive(e.link.replace("/#",""))},attrs:{href:t.sliceUrl(e.link),title:""}},[t._v(t._s(e.msg))])}))])}))])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"account-set"},[0===t.approveStatus||t.approveStatus===-1?a("div",{staticClass:"set-fn"},[a("div",{staticClass:"fn-search"},[a("span",{staticClass:"btn btn-normal",on:{click:t.listHandle}},[t._v("批量通过")])])]):t._e(),t._v(" "),a("div",{staticClass:"set-fn"},[a("div",{staticClass:"fn-plan set-fn-new"},[a("span",{staticClass:"plan-title"},[t._v("广告位名称：")]),t._v(" "),a("el-input",{staticStyle:{width:"140px"},attrs:{maxlength:30,placeholder:"请输入广告位名称"},model:{value:t.search.advertisementName,callback:function(e){t.search.advertisementName=e},expression:"search.advertisementName"}},[t.isAdvertisementName?a("i",{staticClass:"el-input__icon el-icon-close",on:{click:function(e){t.handleClickIcon("advertisement")}},slot:"icon"}):t._e()])],1),t._v(" "),a("div",{staticClass:"fn-plan"},[a("span",{staticClass:"plan-title"},[t._v("广告主名称：")]),t._v(" "),a("el-input",{staticStyle:{width:"140px"},attrs:{maxlength:30,placeholder:"请输入广告主名称"},model:{value:t.search.advertiserName,callback:function(e){t.search.advertiserName=e},expression:"search.advertiserName"}},[t.isAdvertiserName?a("i",{staticClass:"el-input__icon el-icon-close",on:{click:function(e){t.handleClickIcon("advertiser")}},slot:"icon"}):t._e()])],1),t._v(" "),a("div",{staticClass:"fn-plan"},[a("span",{staticClass:"plan-title"},[t._v("送审时间：")]),t._v(" "),a("el-date-picker",{staticStyle:{width:"220px"},attrs:{type:"daterange",align:"right",placeholder:"选择日期范围","picker-options":t.datePickOptions,editable:!1},model:{value:t.searchDateRange,callback:function(e){t.searchDateRange=e},expression:"searchDateRange"}})],1),t._v(" "),a("div",{staticClass:"fn-plan"},[a("span",{staticClass:"plan-title"},[t._v("广告类型：")]),t._v(" "),a("el-select",{staticStyle:{width:"80px",display:"inline-block"},attrs:{placeholder:"请选择"},model:{value:t.search.advertisementType,callback:function(e){t.search.advertisementType=e},expression:"search.advertisementType"}},t._l(t.advertisementTypeOptions,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("div",{staticClass:"fn-plan"},[a("span",{staticClass:"plan-title"},[t._v("账号类型：")]),t._v(" "),a("el-select",{staticStyle:{width:"130px",display:"inline-block"},attrs:{placeholder:"请选择"},model:{value:t.search.accountType,callback:function(e){t.search.accountType=e},expression:"search.accountType"}},t._l(t.accountTypeOptions,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("div",{staticClass:"fn-search"},[a("span",{staticClass:"btn btn-primary",on:{click:t.searchHandle}},[t._v("查询")])])])]),t._v(" "),a("div",{staticClass:"amp-data"},[a("div",{staticClass:"data-table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,border:""},on:{"selection-change":t.handleSelectionChange,"sort-change":t.handleSortChange}},[0===t.approveStatus||t.approveStatus===-1?a("el-table-column",{attrs:{type:"selection",width:"48",resizable:!1}}):t._e(),t._v(" "),a("el-table-column",{attrs:{label:"素材来源ID/素材名称",width:"100",resizable:!1},scopedSlots:t._u([["default",function(e){return[a("span",{attrs:{title:e.row.materialId+"/"+e.row.name}},[a("i",{staticClass:"ellipsis"},[t._v(t._s(e.row.materialId)+"/"),a("br"),t._v(t._s(e.row.name))])])]}]])}),t._v(" "),a("el-table-column",{attrs:{label:"广告位ID/广告位名称",width:"120",resizable:!1},scopedSlots:t._u([["default",function(e){return[a("span",{attrs:{title:(0===e.row.advertisementId?"":e.row.advertisementId)+"/"+e.row.advertisementName}},[a("i",{staticClass:"ellipsis"},[t._v(t._s(e.row.advertisementId)+"/"),a("br"),t._v(t._s(e.row.advertisementName))])])]}]])}),t._v(" "),a("el-table-column",{attrs:{label:"素材预览",width:"110",resizable:!1},scopedSlots:t._u([["default",function(e){return[a("img",{attrs:{src:e.row.image},on:{click:function(a){t.handleImageClick(e.row.image)}}})]}]])}),t._v(" "),a("el-table-column",{attrs:{label:"着陆页类型/地址",width:"125",resizable:!1},scopedSlots:t._u([["default",function(e){return[a("span",{attrs:{title:e.row.linkTypeString+"/"+(2!==e.row.linkType?e.row.promotionId:e.row.landingPage)}},[a("i",{staticClass:"ellipsis"},[t._v(t._s(e.row.linkTypeString)+"/"),a("br"),t._v(t._s(2!==e.row.linkType?e.row.promotionId:e.row.landingPage))])])]}]])}),t._v(" "),a("el-table-column",{attrs:{label:"广告主名称/账号类型",width:"125",resizable:!1},scopedSlots:t._u([["default",function(e){return[a("span",{attrs:{title:e.row.companyName+"/"+e.row.companyNature}},[a("i",{staticClass:"ellipsis"},[t._v(t._s(e.row.companyName)+"/"),a("br"),t._v(t._s(e.row.companyNature))])])]}]])}),t._v(" "),a("el-table-column",{attrs:{label:"投放计划ID/计划有效期",width:"125",resizable:!1},scopedSlots:t._u([["default",function(e){return[a("span",{attrs:{title:(0===e.row.campaignId?"":e.row.campaignId)+"/"+e.row.startTime+"~"+e.row.endTime}},[a("i",{staticClass:"ellipsis"},[t._v(t._s(e.row.campaignId)+"/"),a("br"),t._v(t._s(e.row.startTime)+"~"+t._s(e.row.endTime))])])]}]])}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"送审时间",width:"125",resizable:!1,"render-header":t.renderHeader}}),t._v(" "),0===t.approveStatus&&"advertisement_approve"==t.approveRole?a("el-table-column",{attrs:{label:"目前状态",width:"125",resizable:!1,prop:"approvalStatus"}}):t._e(),t._v(" "),0!==t.approveStatus?a("el-table-column",{attrs:{prop:"approveTime",label:"操作时间",width:"125",resizable:!1,"render-header":t.renderHeader}}):t._e(),t._v(" "),0!==t.approveStatus?a("el-table-column",{attrs:{prop:"accountName",label:"操作人",width:"75",resizable:!1}}):t._e(),t._v(" "),a("el-table-column",{attrs:{label:"审核操作",width:"120",resizable:!1},scopedSlots:t._u([["default",function(e){return[a("i",{staticClass:"el-icon-search",staticStyle:{padding:"5px",cursor:"pointer"},on:{click:function(a){t.handleView(e.$index,e.row)}}}),t._v(" "),1!==t.approveStatus?a("i",{staticClass:"el-icon-check",staticStyle:{padding:"5px",cursor:"pointer"},on:{click:function(a){t.handlePass(e.$index,e.row)}}}):t._e(),t._v(" "),t.approveStatus!==-1?a("i",{staticClass:"el-icon-close",staticStyle:{padding:"5px",cursor:"pointer"},on:{click:function(a){t.handleRefuse(e.$index,e.row)}}}):t._e()]}]])})],1)],1)]),t._v(" "),a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:Math.floor(t.page.totalCount/t.page.pageSize)>0,expression:"Math.floor(page.totalCount/page.pageSize)>0"}],class:{"el-pagination-reset":!0},attrs:{"current-page":t.page.currentPage,"page-sizes":t.page.pageSizes,"page-size":t.page.pageSize,layout:"total, sizes, prev, pager, next",total:t.page.totalCount},on:{"size-change":t.pageSizeChange,"current-change":t.currentPageChange}}),t._v(" "),a("m-view",{attrs:{showView:t.showChildComponents.showMaterialView,materialId:t.viewMaterialId,userId:t.viewUserId,approveStatus:t.approveStatus,approveRole:t.approveRole}}),t._v(" "),a("m-dialog",{attrs:{showDialog:t.showChildComponents.showMaterialPassDialog,passType:t.passType,materialIds:t.materialIds}}),t._v(" "),a("m-refuse",{attrs:{showRefuse:t.showChildComponents.showMaterialRefuse,materialId:t.viewMaterialId}}),t._v(" "),a("m-image",{attrs:{showImage:t.showChildComponents.showViewImage,img:t.imageUrl}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("m-breadcrumb",{attrs:{config:t.breadcrumbConfig}}),t._v(" "),a("div",{staticClass:"media-set"},[a("div",{staticClass:"clearfix"},[a("div",{staticClass:"fn-media pt-20",staticStyle:{"margin-right":"10px"}},[a("div",{staticClass:"fn-media"},[a("button",{staticClass:"btn btn-normal",on:{click:function(e){e.preventDefault(),t.newAdvertising(e)}}},[t._v("新增广告位")])]),t._v(" "),a("div",{staticClass:"fn-media"},[a("span",{staticClass:"plan-title"},[t._v("广告位名称：")]),t._v(" "),a("div",{staticClass:"ele-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.so.keyword,expression:"so.keyword"}],staticClass:"w120",attrs:{placeholder:"请输入广告位名称",maxlength:"60"},domProps:{value:t.so.keyword},on:{input:function(e){e.target.composing||(t.so.keyword=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"fn-media fn-plan-new"},[a("span",{staticClass:"plan-title"},[t._v("媒体：")]),t._v(" "),a("el-select",{staticStyle:{width:"135px",display:"inline-block"},attrs:{placeholder:"全部"},on:{change:t.mediaChange},model:{value:t.so.mediaName.publisherId,callback:function(e){t.so.mediaName.publisherId=e},expression:"so.mediaName.publisherId"}},t._l(t.so.mediaName.options,function(t){return a("el-option",{attrs:{label:t.name,value:t.publisherId}})}))],1),t._v(" "),a("div",{staticClass:"fn-media fn-plan-new"},[a("span",{staticClass:"plan-title"},[t._v("频道：")]),t._v(" "),a("el-select",{staticStyle:{width:"120px",display:"inline-block"},attrs:{placeholder:"全部"},on:{change:t.channelChange},model:{value:t.so.channelName.channelId,callback:function(e){t.so.channelName.channelId=e},expression:"so.channelName.channelId"}},t._l(t.so.channelName.options,function(t){return a("el-option",{attrs:{label:t.name,value:t.channelId}})})),t._v(" "),a("el-select",{staticStyle:{width:"120px",display:"inline-block"},attrs:{placeholder:"全部"},on:{change:function(t){}},model:{value:t.so.twoChannelName.channelId,callback:function(e){t.so.twoChannelName.channelId=e},expression:"so.twoChannelName.channelId"}},t._l(t.so.twoChannelName.options,function(t){return a("el-option",{attrs:{label:t.name,value:t.channelId}})}))],1)]),t._v(" "),a("div",{staticClass:"fn-media mrt-20 pb-10"},[a("div",{staticClass:"fn-media fn-plan-new"},[a("span",{staticClass:"plan-title"},[t._v("状态：")]),t._v(" "),a("el-select",{staticStyle:{width:"95px",display:"inline-block"},attrs:{placeholder:"全部"},model:{value:t.so.state.value,callback:function(e){t.so.state.value=e},expression:"so.state.value"}},t._l(t.so.state.options,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("div",{staticClass:"fn-media",on:{click:function(e){t.getList()}}},[a("button",{staticClass:"btn media-btn-primary"},[t._v("查询")])])])]),t._v(" "),a("div",{staticClass:"amp-data"
},[a("div",{staticClass:"data-table",attrs:{id:"con-table-change"}},[a("div",{staticClass:"main-table-wapper"},[a("table",{staticClass:"table main-table"},[a("thead",[a("tr",{staticClass:"h45 list-header",class:{actived:t.isActived}},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6)])]),t._v(" "),a("tbody",t._l(t.so.list,function(e){return a("tr",{staticClass:"h50 body-row",class:{actived:t.isActived}},[a("td",[a("span",[t._v(t._s(e.slotId))])]),t._v(" "),a("td",[a("span",[a("router-link",{attrs:{to:{name:"advert",params:{id:e.slotId}},title:e.name}},[t._v(t._s(e.name))])],1)]),t._v(" "),a("td",[a("span",[t._v(t._s(e.publisherName))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.channelName))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.width+"*"+e.height))])]),t._v(" "),a("td",[a("span",[t._v(t._s(1==e.status?"售卖":2==e.status?"非售卖":0==e.status?"下线":"其它"))]),a("p",{directives:[{name:"show",rawName:"v-show",value:Math.floor((e.effectiveTime-t.nowDate)/864e5)>-1,expression:"Math.floor((item.effectiveTime-nowDate)/86400000)>-1"}],staticClass:"changeStatusTxt"},[t._v("("+t._s(0==Math.floor((e.effectiveTime-t.nowDate)/864e5)?Math.floor((e.effectiveTime-t.nowDate)/36e5):Math.floor((e.effectiveTime-t.nowDate)/864e5))+t._s(0==Math.floor((e.effectiveTime-t.nowDate)/864e5)?"小时"+Math.ceil(Math.floor((e.effectiveTime-t.nowDate)/1e3)%86400%3600/60)+"分后":"天后")+"变为"+t._s(1==e.effectiveStatus?"售卖":2==e.effectiveStatus?"非售卖":0==e.effectiveStatus?"下线":"其它")+"状态)")])]),t._v(" "),a("td",[a("span",{staticClass:"table-links"},[a("b",[a("a",{staticClass:"outAd",class:1==e.status||2==e.status?"modify-disabled":"",attrs:{href:"",title:1==e.status||2==e.status?"只有下线的频道才能被修改":""},on:{click:function(a){a.preventDefault(),t.modify(e.slotId,e.status)}}},[t._v("修改")]),t._v(" "),a("a",{staticClass:"outAd",class:0==e.status?"modify-disabled":"",attrs:{href:"",title:0==e.status?"只有上线的广告位才能新增广告":""},on:{click:function(a){a.preventDefault(),t.newAdvert(e.slotId,e.status,e.name)}}},[t._v("新增广告")]),t._v(" "),a("a",{staticClass:"outAd",attrs:{href:""},on:{click:function(a){a.preventDefault(),t.del(e.slotId,e.status)}}},[t._v("删除")]),t._v(" "),a("a",{staticClass:"outAd",attrs:{href:""},on:{click:function(a){a.preventDefault(),t.changeStatus(e.slotId)}}},[t._v("状态切换")]),t._v(" "),a("a",{staticClass:"outAd",attrs:{href:""},on:{click:function(a){a.preventDefault(),t.stock(e.slotId)}}},[t._v("库存")])])])])])}))])])])]),t._v(" "),a("m-stock",{attrs:{showStock:t.showChildComponents.showStock,slotId:t.slotId}})],1),t._v(" "),a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:Math.floor(t.page.totalCount/t.page.pageSize)>0,expression:"Math.floor(page.totalCount/page.pageSize)>0"}],class:{"el-pagination-reset":!0},attrs:{"current-page":t.page.currentPage,"page-sizes":t.page.pageSizes,"page-size":t.page.pageSize,layout:"total, sizes, prev, pager, next",total:t.page.totalCount},on:{"size-change":t.pageSizeChange,"current-change":t.currentPageChange}}),t._v(" "),a("el-dialog",{attrs:{title:t.title,size:"tiny"},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[a("span",{domProps:{innerHTML:t._s(t.body_html)}}),t._v(" "),a("span",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.sureFn}},[t._v("确 定")])],1)])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{staticClass:"w100"},[a("span",[t._v("广告位ID")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{staticClass:"w200"},[a("span",[t._v("广告位名称")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{staticClass:"w150"},[a("span",[t._v("媒体")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{staticClass:"w200"},[a("span",[t._v("一级频道 | 二级频道")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{staticClass:"w100"},[a("span",[t._v("广告位尺寸")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{staticClass:"w100"},[a("span",[t._v("状态")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("th",{staticClass:"w300"},[a("span",[t._v("操作")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._l(t.material.materialComponents,function(e,s){return"aos"==t.material.createFrom?a("div",{staticClass:"unfold-content",staticStyle:{"margin-bottom":"20px"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:0==s,expression:"index == 0"}],staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("素材名称：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(e.name))])])])]),t._v(" "),a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("链接类型：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(e.linkType))])])])]),t._v(" "),a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("链接地址：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[t.isHttpUrl(e.linkUrl)?a("span",{staticClass:"row-span"},[a("a",{attrs:{href:e.linkUrl,target:"_blank"}},[t._v(t._s(e.linkUrl))])]):a("span",{staticClass:"row-span"},[t._v(t._s(e.linkUrl))])])])]),t._v(" "),"1"==e.type?a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("文字：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(e.textWords))])])])]):t._e(),t._v(" "),"2"==e.type?a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("图片：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("div",{staticClass:"row-photo-l"},[a("div",{staticClass:"photo"},[a("img",{attrs:{src:e.url}})])])])])]):t._e(),t._v(" "),"2"==e.type?a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("图片尺寸：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(e.width)+"*"+t._s(e.height)+"（宽高比）")])])])]):t._e()]):t._e()}),t._v(" "),"amp"==t.material.createFrom?a("div",{staticClass:"unfold-content"},[a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("素材名称：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(t.material.name))])])])]),t._v(" "),a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("链接类型：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(t.material.linkType))])])])]),t._v(" "),a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("链接地址：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[t.material.isHttpUrl?a("span",{staticClass:"row-span"},[a("a",{attrs:{href:t.material.landingPage,target:"_blank"}},[t._v(t._s(t.material.landingPage))])]):a("span",{staticClass:"row-span"},[t._v(t._s(t.material.landingPage))])])])]),t._v(" "),a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("广告标题：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(t.material.title))])])])]),t._v(" "),a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("广告文案：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(t.material.description))])])])]),t._v(" "),t._l(t.material.images,function(e,s){return[a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("图片"+t._s(s+1)+"：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("div",{staticClass:"row-photo-l"},[a("div",{staticClass:"photo"},[a("img",{attrs:{src:e.url}})])])])])]),t._v(" "),a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("图片"+t._s(s+1)+"尺寸：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(e.width)+"*"+t._s(e.height)+"（宽高比）")])])])])]})],2):t._e()],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("div",{staticClass:"questionPreviewBg"},[a("iframe",{staticClass:"questioniframe",attrs:{srcdoc:t.dataHtml.html,width:"280",height:"483",frameborder:"0"}})],1)])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"amp-content"},[a("m-nav",{attrs:{config:t.navMenu}}),t._v(" "),a("div",{staticClass:"content-main"},[a("div",{staticClass:"amp-account"},[a("m-drawer"),t._v(" "),a("router-view")],1)])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.showRefuse,expression:"showRefuse"}],staticClass:"master",staticStyle:{"z-index":"1200"},on:{click:t.closeView}},[t._v(">")])]),t._v(" "),a("transition",{attrs:{name:"drawer"}},[t.showRefuse?a("div",{staticClass:"amp-drawer"},[a("div",{staticClass:"drawer-part"},[a("h2",{staticClass:"part-header",staticStyle:{"margin-bottom":"10px"}},[a("span",{staticClass:"header-text"},[t._v("审核拒绝")]),t._v(" "),a("span",{staticClass:"header-fn",on:{click:t.closeView}},[a("em",{staticClass:"icon icon-close"})])]),t._v(" "),a("div",{staticClass:"shop-cont"},[a("div",[t._v("审核拒绝原因(请至少选择一项)：")]),t._v(" "),a("br"),t._v(" "),a("el-checkbox-group",{model:{value:t.checkList,callback:function(e){t.checkList=e},expression:"checkList"}},[a("el-checkbox",{attrs:{label:"资质审核未通过"}}),t._v(" "),a("el-checkbox",{attrs:{label:"广告内容审核未通过"}}),t._v(" "),a("br"),t._v(" "),a("el-checkbox",{attrs:{label:"广告链接不合格"}}),t._v(" "),a("el-checkbox",{attrs:{label:"其他"}})],1),t._v(" "),t.isOtherSelected?a("el-input",{attrs:{type:"textarea",placeholder:"请输入审核未通过的原因，不超过200个字符"},on:{change:t.handleIpnutChange},model:{value:t.textarea,callback:function(e){t.textarea=e},expression:"textarea"}}):t._e(),t._v(" "),"empty"===t.reasonType?a("span",{staticStyle:{color:"red"}},[t._v("请输入审核未通过的原因")]):"maxLength"===t.reasonType?a("span",{staticStyle:{color:"red"}},[t._v("审核原因，不超过200个字符")]):"space"===t.reasonType?a("span",{staticStyle:{color:"red"}},[t._v("未包含汉字、字母、数字其中之一")]):t._e(),t._v(" "),a("br"),t._v(" "),a("span",[t._v("附件:")]),t._v(" "),a("el-upload",{attrs:{action:t.imageUrl,accept:t.fileType,"on-success":t.upSuccess,"on-remove":t.upRemove,"before-upload":t.imageSize,multiple:!0,"default-file-list":t.images.list}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("选择文件")]),t._v(" "),a("span",{staticClass:"form-gray-text"},[t._v("可以上传png、jpg、jpeg、gif文件，且不超过500kb")])],1)],1)]),t._v(" "),a("div",{staticClass:"drawer-btn"},[a("span",{staticClass:"btn btn-primary",on:{click:t.materialRefuseAction}},[t._v("确定")]),t._v(" "),a("span",{staticClass:"btn btn-gray",on:{click:t.closeView}},[t._v("取消")])])]):t._e()])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"media-form"},[a("el-form",{attrs:{model:t.formData,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"广告形式名称：",prop:"name"}},[a("span",[t._v(t._s(t.formData.name))])]),t._v(" "),a("el-form-item",{attrs:{label:"广告元素：",prop:"name"}},[t._l(t.formData.adElement.image,function(e,s){return a("div",[a("div",{staticClass:"media-form-detail"},[a("el-form-item",{staticClass:"mrb-10",attrs:{label:"元素类型："}},[a("span",[t._v("图片")])]),t._v(" "),a("el-form-item",{staticClass:"mrb-10",attrs:{label:"元素名称："}},[a("span",[t._v(t._s(e.name))])]),t._v(" "),a("el-form-item",{staticClass:"mrb-10",attrs:{label:"图片宽度："}},[a("span",[t._v(t._s(e.width))]),t._v("  px\n\t\t\t\t\t")]),t._v(" "),a("el-form-item",{staticClass:"mrb-10",attrs:{label:"图片高度："}},[a("span",[t._v(t._s(e.height))]),t._v("  px\n\t\t\t\t\t")]),t._v(" "),a("el-form-item",{staticClass:"mrb-10",attrs:{label:"最大体积："}},[a("span",[t._v(t._s(e.maxVolume))]),t._v("  kb\n\t\t\t\t\t")]),t._v(" "),a("el-form-item",{staticClass:"mrb-10",attrs:{label:"格式："}},[a("el-checkbox-group",{model:{value:e.suffix,callback:function(t){e.suffix=t},expression:"item.suffix"}},[a("el-checkbox",{attrs:{label:"jpg"}},[t._v("jpg")]),t._v(" "),a("el-checkbox",{attrs:{label:"jpeg"}},[t._v("jpeg")]),t._v(" "),a("el-checkbox",{attrs:{label:"png"}},[t._v("png")]),t._v(" "),a("el-checkbox",{attrs:{label:"gif"}},[t._v("gif")])],1)],1)],1)])}),t._v(" "),t._l(t.formData.adElement.text,function(e,s){return a("div",[a("div",{staticClass:"media-form-detail"},[a("el-form-item",{staticClass:"mrb-10",attrs:{label:"元素类型："}},[a("span",[t._v("文字")])]),t._v(" "),a("el-form-item",{staticClass:"mrb-10",attrs:{label:"元素名称："}},[a("span",[t._v(t._s(e.name))])]),t._v(" "),a("el-form-item",{staticClass:"mrb-10",attrs:{label:"最大字符："}},[a("span",[t._v(t._s(e.max))]),t._v("  字符\n\t\t\t\t\t")]),t._v(" "),a("el-form-item",{staticClass:"mrb-10",attrs:{label:"最小字符："}},[a("span",[t._v(t._s(e.min))]),t._v("  字符\n\t\t\t\t\t")])],1)])}),t._v(" "),t._l(t.formData.adElement.video,function(e,s){return a("div",[a("div",{staticClass:"media-form-detail"},[a("el-form-item",{staticClass:"mrb-10",attrs:{label:"元素类型："}},[a("span",[t._v("视频")])]),t._v(" "),a("el-form-item",{staticClass:"mrb-10",attrs:{label:"元素名称："}},[a("span",[t._v(t._s(e.name))])]),t._v(" "),a("el-form-item",{staticClass:"mrb-10",attrs:{label:"码率："}},[a("span",[t._v(t._s(e.bitrate))]),t._v("  kbps\n\t\t\t\t\t")]),t._v(" "),a("el-form-item",{staticClass:"mrb-10",attrs:{label:"大小："}},[a("span",[t._v(t._s(e.size))]),t._v("  MB\n\t\t\t\t\t")]),t._v(" "),a("el-form-item",{staticClass:"mrb-10",attrs:{label:"时长："}},[a("span",[t._v(t._s(e.time))]),t._v("  s\n\t\t\t\t\t")])],1)])})],2),t._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{on:{change:t.changeStatus},model:{value:t.formData.status,callback:function(e){t.formData.status=e},expression:"formData.status"}},[a("el-radio",{attrs:{label:2}},[t._v("下线")]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("上线")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"预期下线时间："}},[a("el-date-picker",{directives:[{name:"show",rawName:"v-show",value:t.showTime,expression:"showTime"}],attrs:{type:"date",editable:!1,"picker-options":t.pickerOptions0,placeholder:"选择日期时间"},model:{value:t.offline_time,callback:function(e){t.offline_time=e},expression:"offline_time"}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.config.show,expression:"config.show"}],staticClass:"master",staticStyle:{"z-index":"1200"},on:{click:t.closeView}})]),t._v(" "),a("transition",{attrs:{name:"drawer"}},[t.config.show?a("div",{staticClass:"amp-drawer"},[a("div",{staticClass:"drawer-part"},[a("h2",{staticClass:"part-header",staticStyle:{"margin-bottom":"10px"}},[a("span",{staticClass:"header-text"},[t._v(t._s(t.actionMap[t.config.action]+t.typeMap[t.config.type]))]),t._v(" "),a("span",{staticClass:"header-fn",on:{click:t.closeView}},[a("em",{staticClass:"icon icon-close"})])]),t._v(" "),t.config.show&&"mission"===t.config.type?a("m-mission"):t._e()],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"look"!=t.config.action,expression:'config.action!="look"'}],staticClass:"drawer-btn"},[a("button",{staticClass:"btn media-btn-primary",staticStyle:{height:"40px",padding:"0px 44px"},on:{click:function(e){t.save()}}},[t._v("保存")]),t._v(" "),a("button",{staticClass:"btn btn-gray",on:{click:function(e){t.closeView()}}},[t._v("取消")])])]):t._e()])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.showRefuse,expression:"showRefuse"}],staticClass:"master",staticStyle:{"z-index":"1200"},on:{click:t.closeView}},[t._v(">")])]),t._v(" "),a("transition",{attrs:{name:"drawer"}},[t.showRefuse?a("div",{staticClass:"amp-drawer"},[a("div",{staticClass:"drawer-part"},[a("h2",{staticClass:"part-header",staticStyle:{"margin-bottom":"10px"}},[a("span",{staticClass:"header-text"},[t._v("审核拒绝")]),t._v(" "),a("span",{staticClass:"header-fn",on:{click:t.closeView}},[a("em",{staticClass:"icon icon-close"})])]),t._v(" "),a("div",{staticClass:"shop-cont"},[a("div",[t._v("审核拒绝原因(请至少选择一项)：")]),t._v(" "),a("br"),t._v(" "),a("el-checkbox-group",{model:{value:t.checkList,callback:function(e){t.checkList=e},expression:"checkList"}},[a("el-checkbox",{attrs:{label:"证件信息错误"}}),t._v(" "),a("el-checkbox",{attrs:{label:"证件已过期"}}),t._v(" "),a("br"),t._v(" "),a("el-checkbox",{attrs:{label:"证件图片不清晰"}}),t._v(" "),a("el-checkbox",{attrs:{label:"其他"}})],1),t._v(" "),t.isOtherSelected?a("el-input",{attrs:{type:"textarea",placeholder:"请输入审核未通过的原因，不超过200个字符",maxlength:200},on:{change:t.handleIpnutChange},model:{value:t.textarea,callback:function(e){t.textarea=e},expression:"textarea"}}):t._e(),t._v(" "),"empty"===t.reasonType?a("span",{staticStyle:{color:"red"}},[t._v("请输入审核未通过的原因")]):"maxLength"===t.reasonType?a("span",{staticStyle:{color:"red"}},[t._v("审核原因，不超过200个字符")]):"space"===t.reasonType?a("span",{staticStyle:{color:"red"}},[t._v("未包含汉字、字母、数字其中之一")]):t._e(),t._v(" "),a("br")],1)]),t._v(" "),a("div",{staticClass:"drawer-btn"},[a("span",{staticClass:"btn btn-primary",on:{click:t.advertiserRefuseAction}},[t._v("确定")]),t._v(" "),a("span",{staticClass:"btn btn-gray",on:{click:t.closeView}},[t._v("取消")])])]):t._e()])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.showView,expression:"showView"}],staticClass:"master",staticStyle:{"z-index":"1200"}})]),t._v(" "),a("transition",{attrs:{name:"drawer"}},[t.showView?a("div",{staticClass:"amp-drawer"},[a("div",{staticClass:"drawer-part"},[a("h2",{staticClass:"part-header",staticStyle:{"margin-bottom":"10px"}},[a("span",{staticClass:"header-text"},[t._v("查看问卷")]),t._v(" "),a("span",{staticClass:"header-fn",on:{click:t.closeView}},[a("em",{staticClass:"icon icon-close"})])]),t._v(" "),a("div",{staticClass:"dialog-tab"},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"问卷详情",name:"first"}},[a("m-detail",{attrs:{surveyId:t.surveyId}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:"审核规范",name:"second"}})],1)],1)]),t._v(" "),a("div",{staticClass:"drawer-btn"},[1!==t.approveStatus?a("span",{staticClass:"btn btn-primary",on:{click:t.passDialogHandler}},[t._v("通过")]):t._e(),t._v(" "),0===t.approveStatus?a("span",{staticClass:"btn btn-gray",on:{click:t.viewRefuseHandler}},[t._v("拒绝")]):t._e(),t._v(" "),a("span",{staticClass:"btn btn-gray",on:{click:t.closeView}},[t._v("取消")])])]):t._e()])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"media-form"},[a("el-form",{ref:"formData",attrs:{model:t.formData,rules:t.rules,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"频道名称：",prop:"name"}},[a("el-input",{model:{value:t.formData.name,callback:function(e){t.formData.name=e},expression:"formData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"媒体："}},[a("span",[t._v(t._s(t.formData.media.name))])]),t._v(" "),a("el-form-item",{attrs:{label:"父频道：",prop:"parentName"}},[a("el-select",{staticStyle:{width:"152px",display:"inline-block"},attrs:{placeholder:"请选择"},model:{value:t.formData.parentName,callback:function(e){t.formData.parentName=e},expression:"formData.parentName"}},t._l(t.parentName.options,function(t){return a("el-option",{attrs:{label:t.name,value:t.channelId}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"描述：",prop:"description"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.formData.description,callback:function(e){t.formData.description=e},expression:"formData.description"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"页面URL：",prop:"APP"===t.formData.media.platform?"":"url"}},[a("el-input",{attrs:{disabled:"APP"===t.formData.media.platform||"modify"==t.drawerCtrlAction},model:{value:t.formData.url,callback:function(e){t.formData.url=e},expression:"formData.url"}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.showCpcPrice,expression:"showCpcPrice"}],staticClass:"master",staticStyle:{"z-index":"1200"},on:{click:t.closeView}},[t._v(">")])]),t._v(" "),a("transition",{attrs:{name:"drawer"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.showCpcPrice,expression:"showCpcPrice"}],staticClass:"ams-stock"},[a("div",{staticClass:"drawer-part"},[a("h2",{staticClass:"part-header",staticStyle:{"margin-bottom":"10px"}},[a("span",{staticClass:"header-text"},[t._v("价格")]),t._v(" "),a("span",{staticClass:"header-fn",on:{click:t.closeView}},[a("em",{staticClass:"icon icon-close"})])]),t._v(" "),a("div",{staticClass:"shop-cont"},[a("el-form",{ref:"Data",attrs:{model:t.Data,rules:t.rules,"label-width":"166px"}},[a("el-form-item",{attrs:{label:"广告名称："}},[a("span",[t._v(t._s(t.summary.name))])]),t._v(" "),a("el-form-item",{attrs:{label:"定价CPC价格：",prop:"cpcPrice"}},[a("el-input",{staticClass:"w200",attrs:{placeholder:"定价CPC价格"},model:{value:t.Data.cpcPrice,callback:function(e){t.Data.cpcPrice=e},expression:"Data.cpcPrice"}}),t._v("   次/点击\n\t\t\t\t\t\t")],1),t._v(" "),a("el-form-item",{staticStyle:{background:"#f5f5f5",height:"80px","padding-top":"20px"}},[a("el-button",{staticStyle:{background:"#32c5d2",color:"white"},attrs:{size:"large"},on:{click:function(e){t.submit()}}},[t._v("提交")])],1)],1)],1)])])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("m-breadcrumb",{attrs:{config:t.breadcrumbConfig}}),t._v(" "),a("div",{staticClass:"amp-path pb-10"},[a("span",{staticClass:"path-col"},[t._v("媒体名称："),a("b",[t._v(t._s(t.summary.name))])]),t._v(" "),a("span",{staticClass:"path-col"},[t._v("设备类型："),a("b",[t._v(t._s(t.summary.platform))])]),t._v(" "),a("span",{staticClass:"path-col"},[t._v("状态："),a("b",[t._v(t._s(1==t.summary.state?"上线":"下线"))])])]),t._v(" "),a("div",{staticClass:"media-set"},[a("div",{staticClass:"clearfix mrb-20"},[a("div",{staticClass:"fn-media"},[a("router-link",{staticClass:"btn btn-normal btn-back-up",attrs:{to:"/app/resource/publisher"}},[a("em",{staticClass:"icon icon-prev"}),t._v("返回")])],1),t._v(" "),a("div",{staticClass:"fn-media"},[a("button",{staticClass:"btn btn-normal",class:0==t.summary.state?"modify-disabled":"",attrs:{title:0==t.summary.state?"只有上线的媒体才能新增频道":""},on:{click:function(e){e.preventDefault(),t.showChannel(e)}}},[t._v("新增频道")])])]),t._v(" "),a("div",{staticClass:"clearfix pb-10"},[a("div",{staticClass:"fn-media"},[a("span",{staticClass:"plan-title"},[t._v("频道名称：")]),t._v(" "),a("div",{staticClass:"ele-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.so.keyword,expression:"so.keyword"}],attrs:{placeholder:"请输入频道名称",maxlength:"60"},domProps:{value:t.so.keyword},on:{input:function(e){e.target.composing||(t.so.keyword=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"fn-media fn-plan-new"},[a("span",{staticClass:"plan-title"},[t._v("父频道：")]),t._v(" "),a("el-select",{staticStyle:{width:"152px",display:"inline-block"},attrs:{placeholder:"全部"},model:{value:t.so.parentName.channelId,callback:function(e){t.so.parentName.channelId=e},expression:"so.parentName.channelId"}},t._l(t.so.parentName.options,function(t){return a("el-option",{attrs:{label:t.name,value:t.channelId}})}))],1),t._v(" "),a("div",{staticClass:"fn-media fn-plan-new"},[a("span",{staticClass:"plan-title"},[t._v("状态：")]),t._v(" "),a("el-select",{staticStyle:{width:"100px",display:"inline-block"},attrs:{placeholder:"全部"},model:{value:t.so.status.value,callback:function(e){t.so.status.value=e},expression:"so.status.value"}},t._l(t.so.status.options,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("div",{staticClass:"fn-media",on:{click:t.selectChannel}},[a("button",{staticClass:"btn media-btn-primary"},[t._v("查询")])])]),t._v(" "),a("div",{staticClass:"amp-data"},[a("div",{staticClass:"data-table",attrs:{id:"con-table-change"}},[a("div",{staticClass:"main-table-wapper"},[a("table",{staticClass:"table main-table"},[t._m(0),t._v(" "),a("tbody",t._l(t.so.list,function(e){return a("tr",{staticClass:"h50 body-row"},[a("td",[a("span",[t._v(t._s(e.channelId))])]),t._v(" "),a("td",[a("span",[a("router-link",{attrs:{to:{name:"advertisingList",params:{id:e.channelId}},title:e.name}},[t._v(t._s(e.name))])],1)]),t._v(" "),a("td",[a("span",[t._v(t._s(e.parentName))])]),t._v(" "),a("td",[a("span",[t._v(t._s("APP"==t.summary.platform?"-":e.url))])]),t._v(" "),a("td",[a("span",[t._v(t._s(1==e.status?"上线":"下线"))])]),t._v(" "),a("td",[a("span",{staticClass:"table-links"},[a("b",[a("a",{class:1==e.status?"modify-disabled":"",attrs:{href:"",title:1==e.status?"只有下线的频道才能被修改":""},on:{click:function(a){a.preventDefault(),t.modify(e.channelId,e.status)}}},[t._v("修改")]),t._v(" "),a("a",{class:0==t.summary.state&&0==e.status?"modify-disabled":"",attrs:{href:"",title:0==t.summary.state&&0==e.status?"只有上线媒体才能上线":""},on:{click:function(a){a.preventDefault(),t.changeStatus(e.channelId,e.status)}}},[t._v(t._s(1==e.status?"下线":"上线"))]),t._v(" "),a("a",{class:0==e.status?"modify-disabled":"",attrs:{href:"",title:0==e.status?"只有上线的频道才能新增广告位":""},on:{click:function(a){a.preventDefault(),t.newAdvertising(e.channelId,e.status)}}},[t._v("新增广告位")]),t._v(" "),a("a",{attrs:{href:""},on:{click:function(a){a.preventDefault(),t.del(e.channelId,e.status)}}},[t._v("删除")])])])])])}))])])])])]),t._v(" "),a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:Math.floor(t.page.totalCount/t.page.pageSize)>0,expression:"Math.floor(page.totalCount/page.pageSize)>0"}],class:{"el-pagination-reset":!0},attrs:{"current-page":t.page.currentPage,"page-sizes":t.page.pageSizes,"page-size":t.page.pageSize,layout:"total, sizes, prev, pager, next",total:t.page.totalCount},on:{"size-change":t.pageSizeChange,"current-change":t.currentPageChange}}),t._v(" "),a("el-dialog",{attrs:{title:t.title,size:"tiny"},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[a("span",{domProps:{innerHTML:t._s(t.body_html)}}),t._v(" "),a("span",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.sureFn}},[t._v("确 定")])],1)])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticClass:"h45 list-header"},[a("th",{staticClass:"w100"},[a("span",[t._v("频道ID")])]),t._v(" "),a("th",{staticClass:"w200"},[a("span",[t._v("频道名称")])]),t._v(" "),a("th",{staticClass:"w150"},[a("span",[t._v("父频道")])]),t._v(" "),a("th",{staticClass:"w200"},[a("span",[t._v("页面URL")])]),t._v(" "),a("th",{staticClass:"w100"},[a("span",[t._v("状态")])]),t._v(" "),a("th",{staticClass:"w300"},[a("span",[t._v("操作")])])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c||e;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"amp-content"},[a("div",{staticClass:"ams-index"},[a("div",{staticClass:"media-set"},[a("div",{staticClass:"clearfix"},[a("h2",{staticStyle:{"font-size":"24px","text-align":"center"}},[t._v("欢迎使用国美Plus Advertisement Management System")])]),t._v(" "),a("div",{staticClass:"table-content",staticStyle:{"margin-top":"40px"}},[a("table",{staticClass:"table table-media"},[a("thead",[a("tr",{staticClass:"media-tr"},[a("th",[a("span",[t._v("事宜")])]),t._v(" "),a("th",[a("span",[t._v("联络人")])]),t._v(" "),a("th",[a("span",[t._v("邮箱")])]),t._v(" "),a("th",[a("span",[t._v("电话")])])])]),t._v(" "),a("tbody",[a("tr",{staticClass:"media-list-tr"},[a("td",[a("span",[t._v("产品需求")])]),t._v(" "),a("td",[a("span",[t._v("凌云")])]),t._v(" "),a("td",[a("span",[t._v("lingyun@gomeplus.com")])]),t._v(" "),a("td",[a("span",[t._v("18601247515")])])]),t._v(" "),a("tr",{staticClass:"media-list-tr"},[a("td",[a("span",[t._v("技术反馈")])]),t._v(" "),a("td",[a("span",[t._v("白珅")])]),t._v(" "),a("td",[a("span",[t._v("baishen@gomeplus.com")])]),t._v(" "),a("td",[a("span",[t._v("18612595283")])])])])])])])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.showStock,expression:"showStock"}],staticClass:"master",staticStyle:{"z-index":"1200"},on:{click:t.closeView}},[t._v(">")])]),t._v(" "),a("transition",{attrs:{name:"drawer"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.showStock,expression:"showStock"}],staticClass:"ams-stock"},[a("div",{staticClass:"drawer-part"},[a("h2",{staticClass:"part-header",staticStyle:{"margin-bottom":"10px"}},[a("span",{staticClass:"header-text"},[t._v("库存")]),t._v(" "),a("span",{staticClass:"header-fn",on:{click:t.closeView}},[a("em",{staticClass:"icon icon-close"})])]),t._v(" "),a("div",{staticClass:"shop-cont"},[a("el-form",{ref:"Data",attrs:{model:t.Data,rules:t.rules,"label-width":"166px"}},[a("el-form-item",{attrs:{label:"广告位名称："}},[a("span",[t._v(t._s(t.summary.name))])]),t._v(" "),a("el-form-item",{attrs:{label:"轮播数："}},[a("span",[t._v(t._s(t.summary.carouselNum))])]),t._v(" "),a("el-form-item",{attrs:{label:"CPD库存："}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.Data.cpdAmount,expression:"Data.cpdAmount"}],staticClass:"w200 jugeInput",attrs:{placeholder:"CPD库存",onblur:"this.style.borderColor = '#BFCBD9'",onfocus:"this.style.borderColor = '#20A0FF'"},domProps:{value:t.Data.cpdAmount},on:{keyup:function(e){1==t.Data.cpdAmount.length?t.Data.cpdAmount=t.Data.cpdAmount.replace(/[^1-9]/g,""):t.Data.cpdAmount=t.Data.cpdAmount.replace(/\D/g,"")},input:function(e){e.target.composing||(t.Data.cpdAmount=e.target.value)}}})]),t._v(" "),a("el-form-item",{attrs:{label:"运营CPD库存："}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.Data.limitedCpdAmount,expression:"Data.limitedCpdAmount"}],staticClass:"w200 jugeInput",attrs:{placeholder:"运营CPD库存",onblur:"this.style.borderColor = '#BFCBD9'",onfocus:"this.style.borderColor = '#20A0FF'"},domProps:{value:t.Data.limitedCpdAmount},on:{keyup:function(e){1==t.Data.limitedCpdAmount.length?t.Data.limitedCpdAmount=t.Data.limitedCpdAmount.replace(/[^1-9]/g,""):t.Data.limitedCpdAmount=t.Data.limitedCpdAmount.replace(/\D/g,"")},input:function(e){e.target.composing||(t.Data.limitedCpdAmount=e.target.value)}}})]),t._v(" "),a("el-form-item",{attrs:{label:"CPM库存："}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.Data.cpmAmount,expression:"Data.cpmAmount"}],staticClass:"w200 jugeInput",attrs:{placeholder:"CPM库存",onblur:"this.style.borderColor = '#BFCBD9'",
onfocus:"this.style.borderColor = '#20A0FF'"},domProps:{value:t.Data.cpmAmount},on:{keyup:function(e){1==t.Data.cpmAmount.length?t.Data.cpmAmount=t.Data.cpmAmount.replace(/[^1-9]/g,""):t.Data.cpmAmount=t.Data.cpmAmount.replace(/\D/g,"")},input:function(e){e.target.composing||(t.Data.cpmAmount=e.target.value)}}})]),t._v(" "),a("el-form-item",{staticStyle:{background:"#f5f5f5",height:"80px","padding-top":"20px"}},[a("el-button",{staticStyle:{background:"#32c5d2",color:"white"},attrs:{size:"large"},on:{click:function(e){t.submit()}}},[t._v("提交")])],1)],1),t._v(" "),a("div",{staticStyle:{padding:"20px 20px 0 90px"}},[a("el-button",{staticClass:"w80",attrs:{type:"default",icon:"arrow-left"},on:{click:t.prev}}),t._v(" "),a("el-button",{staticClass:"w80",attrs:{type:"default"},on:{click:t.next}},[a("i",{staticClass:"el-icon-arrow-right el-icon--right"})]),t._v(" "),a("p",{staticStyle:{color:"#ed6b75",display:"inline-block",float:"right","margin-left":"20px"}},[t._v("CPM")]),a("p",{staticStyle:{color:"#337ab7",display:"inline-block",float:"right"}},[t._v("CPD")])],1),t._v(" "),a("div",{staticClass:"pt-20",attrs:{id:"calendar"}},t._l(t.formData,function(e,s){return a("div",[a("div",{staticStyle:{width:"430px",height:"450px",display:"inline-block",margin:"0px 0px 0px 20px",float:"left"}},[a("table",{attrs:{border:"0",cellpadding:"0",cellspacing:"0"}},[a("thead",[a("tr",[a("td",{staticClass:"month-title",class:e.jugeCursorHead?"":"cursor-pointer",attrs:{id:"monthTop","data-item":"1",colspan:"8",align:"center","data-year":e.thisYear,"data-month":e.thisMonth},on:{click:function(a){t.selectAll(e.thisMonth)}}},[t._v(t._s(e.thisYear)+"年"+t._s(e.thisMonth)+"月")])]),t._v(" "),a("tr",[a("td",{staticStyle:{border:"1px solid #ccc"}}),a("td",{staticClass:"month-header",class:e.jugeCursorHead?"":"cursor-pointer",attrs:{"data-item":"1",id:"monthTitle","data-week":e.weekOfYear,"data-year":"","data-month":e.thisMonth,"data-weekday":"1"},on:{click:function(a){t.monthTitleClick(1,e.thisMonth,a)}}},[t._v("一")]),t._v(" "),a("td",{staticClass:"month-header",class:e.jugeCursorHead?"":"cursor-pointer",attrs:{"data-item":"1",id:"monthTitle","data-week":e.weekOfYear,"data-year":e.thisYear,"data-month":e.thisMonth,"data-weekday":"2"},on:{click:function(a){t.monthTitleClick(2,e.thisMonth,a)}}},[t._v("二")]),t._v(" "),a("td",{staticClass:"month-header",class:e.jugeCursorHead?"":"cursor-pointer",attrs:{"data-item":"1",id:"monthTitle","data-week":e.weekOfYear,"data-year":e.thisYear,"data-month":e.thisMonth,"data-weekday":"3"},on:{click:function(a){t.monthTitleClick(3,e.thisMonth,a)}}},[t._v("三")]),t._v(" "),a("td",{staticClass:"month-header",class:e.jugeCursorHead?"":"cursor-pointer",attrs:{"data-item":"1",id:"monthTitle","data-week":e.weekOfYear,"data-year":e.thisYear,"data-month":e.thisMonth,"data-weekday":"4"},on:{click:function(a){t.monthTitleClick(4,e.thisMonth,a)}}},[t._v("四")]),t._v(" "),a("td",{staticClass:"month-header",class:e.jugeCursorHead?"":"cursor-pointer",attrs:{"data-item":"1",id:"monthTitle","data-week":e.weekOfYear,"data-year":e.thisYear,"data-month":e.thisMonth,"data-weekday":"5"},on:{click:function(a){t.monthTitleClick(5,e.thisMonth,a)}}},[t._v("五")]),t._v(" "),a("td",{staticClass:"month-header",class:e.jugeCursorHead?"":"cursor-pointer",attrs:{"data-item":"1",id:"monthTitle","data-week":e.weekOfYear,"data-year":e.thisYear,"data-month":e.thisMonth,"data-weekday":"6"},on:{click:function(a){t.monthTitleClick(6,e.thisMonth,a)}}},[t._v("六")]),t._v(" "),a("td",{staticClass:"month-header",class:e.jugeCursorHead?"":"cursor-pointer",attrs:{"data-item":"1",id:"monthTitle","data-week":e.weekOfYear,"data-year":e.thisYear,"data-month":e.thisMonth,"data-weekday":"7"},on:{click:function(a){t.monthTitleClick(7,e.thisMonth,a)}}},[t._v("日")])])]),t._v(" "),a("tbody",t._l(e.dayOfMonth,function(s,i){return a("tr",[a("td",{staticClass:"month-left cursor-pointer",attrs:{"data-weekday":t.dayWeekDay,"data-item":"1",id:"monthLeft","data-year":e.thisYear,"data-month":e.thisMonth,"data-week":e.weekOfYear[i]},on:{click:function(e){t.monthLeft(e)}}},[t._v(t._s(e.weekOfYear[i]))]),t._v(" "),t._l(s,function(s,n){return a("td",{class:e.month[i][n]!=e.thisMonth||"true"==e.dayMonthBefore[i][n]?"month-item-disable":"month-item",attrs:{"data-year":e.thisYear,"data-month":e.thisMonth,"data-day":e.dayOfMonth[i][n],"data-week":e.weekOfYear[i],"data-weekday":n+1,"data-item":"1",id:e.thisYear+"-"+e.month[i][n]+"-"+e.dayOfMonth[i][n]},on:{click:function(e){t.monthOne(e)}}},[a("div",{staticClass:"date-content"},[a("span",{staticStyle:{float:"right"}},[t._v(t._s(s))]),a("br"),t._v(" "),a("span",{staticClass:"date-number date-cpd",attrs:{"date-number":"1",id:e.month[i][n]==e.thisMonth?"cpd-"+e.thisYear+"-"+e.month[i][n]+"-"+e.dayOfMonth[i][n]:""}}),a("br"),t._v(" "),a("span",{staticClass:"date-number date-cpm",attrs:{"date-number":"1",id:e.month[i][n]==e.thisMonth?"cpm-"+e.thisYear+"-"+e.month[i][n]+"-"+e.dayOfMonth[i][n]:""}})])])})],2)}))])])])}))],1)])])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"amp-header"},[a("div",{staticClass:"header-logo"},[a("router-link",{attrs:{to:"/app"}},[t._v("gomeplus")])],1),t._v(" "),a("div",{staticClass:"header-nav"},[a("ul",[a("li",{directives:[{name:"privilege",rawName:"v-privilege",value:"resource",expression:"'resource'"}],class:{actived:/^\/app\/resource\/|^\/app\/resource$/.test(t.$route.path)}},[a("a",{attrs:{href:"/#/app/resource/publisher"}},[t._v(" 资源位 ")])]),t._v(" "),a("li",{directives:[{name:"privilege",rawName:"v-privilege",value:"approval",expression:"'approval'"}],class:{actived:/^\/app\/approval\/|^\/app\/approval/.test(t.$route.path)}},[a("a",{attrs:{href:"/#/app/approval/material/not"}},[t._v(" 审核 ")])]),t._v(" "),a("li",{class:{actived:/^\/app\/consumer\/|^\/app\/consumer/.test(t.$route.path)}},[a("a",{attrs:{href:"/#/app/consumer/missionManage"}},[t._v(" 用户激励 ")])])])]),t._v(" "),a("div",{staticClass:"header-login",on:{click:function(e){t.controlLogoutStatus()}}},[a("a",{staticClass:"login-after",attrs:{href:"javascript:void(0)",title:""}},[a("span",{staticClass:"after-face"},[a("img",{attrs:{src:null!==t.userInfo.avatar?t.userInfo.avatar:t.avatar,width:"30",height:"30",alt:""}})]),t._v(" "),a("span",{staticClass:"after-username"},[t._v(t._s(t.userInfo.name))]),t._v(" "),a("em",{staticClass:"icon icon-arrow"})]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.logoutStatus,expression:"logoutStatus"}],staticClass:"dialog dialog-black arrow arrow-black"},[a("ul",[a("li",{on:{click:function(e){t.logout()}}},[a("a",{attrs:{href:"javascript:void(0)",title:""}},[t._v("退出")])])])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("m-breadcrumb",{attrs:{config:t.breadcrumbConfig}}),t._v(" "),a("div",{staticClass:"media-set"},[a("div",{staticClass:"clearfix",staticStyle:{position:"relative"}},[a("div",{staticClass:"fn-media pt-10"},[a("div",{staticClass:"fn-media"},[a("span",{staticClass:"plan-title"},[t._v("任务名称：")]),t._v(" "),a("div",{staticClass:"ele-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.so.keyword,expression:"so.keyword"}],attrs:{placeholder:"请输入任务名称",maxlength:"60"},domProps:{value:t.so.keyword},on:{input:function(e){e.target.composing||(t.so.keyword=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"fn-media"},[a("span",{staticClass:"plan-title"},[t._v("起止时间：")]),t._v(" "),a("el-date-picker",{staticStyle:{width:"240px"},attrs:{type:"daterange",align:"right",placeholder:"选择日期范围","picker-options":t.datePickOptions,editable:!1},model:{value:t.searchDateRange,callback:function(e){t.searchDateRange=e},expression:"searchDateRange"}})],1),t._v(" "),a("div",{staticClass:"fn-media"},[a("span",{staticClass:"plan-title"},[t._v("状态：")]),t._v(" "),a("el-select",{staticStyle:{width:"130px",display:"inline-block"},attrs:{placeholder:"全部"},model:{value:t.so.status.value,callback:function(e){t.so.status.value=e},expression:"so.status.value"}},t._l(t.so.status.options,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("div",{staticClass:"fn-media",on:{click:function(e){t.getList()}}},[a("button",{staticClass:"btn media-btn-primary "},[t._v("查询")])]),t._v(" "),a("a",{staticClass:"icon icon-report missionReport",attrs:{href:t.getExportUrl}},[a("em",{staticStyle:{color:"#494949","font-size":"15px","margin-left":"5px"}},[t._v("导出")])])])]),t._v(" "),a("div",{staticClass:"amp-data"},[a("div",{staticClass:"data-table",attrs:{id:"con-table-change"}},[a("div",{staticClass:"main-table-wapper"},[a("table",{staticClass:"table main-table"},[t._m(0),t._v(" "),a("tbody",[0==t.so.list.length?a("tr",{staticClass:"body-row"},[a("td",{staticStyle:{"text-align":"center",height:"30px","line-height":"30px"},attrs:{colspan:"10"}},[t._v("无相关数据")])]):t._e(),t._v(" "),t._l(t.so.list,function(e,s){return a("tr",{staticClass:"h50 body-row"},[a("td",[a("span",[t._v(t._s(e.missionId))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.name))])]),t._v(" "),a("td",[a("span",[t._v(t._s(1==e.typeUpVote?"点赞":"")+t._s(1!=e.typeUpVote||1!=e.typeShare&&1!=e.typeResearch&&1!=e.typeWatch?"":"|")+t._s(1==e.typeShare?"分享":"")+t._s(1!=e.typeShare||1!=e.typeResearch&&1!=e.typeWatch?"":"|")+t._s(1==e.typeResearch?"调研":"")+t._s(e.typeResearch&&1==e.typeWatch?"|":"")+t._s(1==e.typeWatch?"视频":""))])]),t._v(" "),a("td",[a("span",[t._v(t._s(t._f("date")(e.startTime,"yyyy/MM/dd"))+"-"+t._s(t._f("date")(e.endTime,"yyyy/MM/dd")))])]),t._v(" "),a("td",[a("span",[t._v(t._s(1==e.status?"有效":2==e.status?"过期":"其他"))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.timesOfTaskFinished))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.peopleOfTaskFinished))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.timesOfAwardReceived))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.peopleOfAwardReceived))])]),t._v(" "),a("td",[a("span",[t._v("国美币"+t._s(t._f("currency")(e.totalCost)))])])])})],2)])])])])]),t._v(" "),a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:Math.floor(t.page.totalCount/t.page.pageSize)>0,expression:"Math.floor(page.totalCount/page.pageSize)>0"}],class:{"el-pagination-reset":!0},attrs:{"current-page":t.page.currentPage,"page-sizes":t.page.pageSizes,"page-size":t.page.pageSize,layout:"total, sizes, prev, pager, next",total:t.page.totalCount},on:{"size-change":t.pageSizeChange,"current-change":t.currentPageChange}})],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticClass:"h45 list-header"},[a("th",{staticClass:"w100"},[a("span",[t._v("任务ID")])]),t._v(" "),a("th",{staticClass:"w260"},[a("span",[t._v("任务名称")])]),t._v(" "),a("th",{staticClass:"w150"},[a("span",[t._v("任务类型")])]),t._v(" "),a("th",{staticClass:"w200"},[a("span",[t._v("起止时间")])]),t._v(" "),a("th",{staticClass:"w80"},[a("span",[t._v("状态")])]),t._v(" "),a("th",{staticClass:"w100"},[a("span",[t._v("完成任务人次")])]),t._v(" "),a("th",{staticClass:"w100"},[a("span",[t._v("完成任务人数")])]),t._v(" "),a("th",{staticClass:"w120"},[a("span",[t._v("已领取奖励人次")])]),t._v(" "),a("th",{staticClass:"w120"},[a("span",[t._v("已领取奖励人数")])]),t._v(" "),a("th",{staticClass:"w150"},[a("span",[t._v("消耗金额")])])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[0==t.error?a("router-view"):t._e(),t._v(" "),a("m-loading"),t._v(" "),0!=t.error?a("m-error"):t._e()],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("m-breadcrumb",{attrs:{config:t.breadcrumbConfig}}),t._v(" "),a("div",{staticClass:"media-set"},[a("div",{staticClass:"clearfix pt-20"},[a("div",{staticClass:"fn-media"},[a("button",{staticClass:"btn btn-normal",on:{click:function(e){e.preventDefault(),t.showTemplate(e)}}},[t._v("新增模板")])]),t._v(" "),a("div",{staticClass:"fn-media"},[a("span",{staticClass:"plan-title"},[t._v("模板名称：")]),t._v(" "),a("div",{staticClass:"ele-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.so.keyword,expression:"so.keyword"}],staticClass:"w200",attrs:{placeholder:"请输入模板名称",maxlength:"60"},domProps:{value:t.so.keyword},on:{input:function(e){e.target.composing||(t.so.keyword=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"fn-media fn-plan-new"},[a("span",{staticClass:"plan-title"},[t._v("状态：")]),t._v(" "),a("el-select",{staticStyle:{width:"100px",display:"inline-block"},attrs:{placeholder:"全部"},model:{value:t.so.status.value,callback:function(e){t.so.status.value=e},expression:"so.status.value"}},t._l(t.so.status.options,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("div",{staticClass:"fn-media",on:{click:function(e){t.getList()}}},[a("button",{staticClass:"btn media-btn-primary"},[t._v("查询")])])]),t._v(" "),a("div",{staticClass:"amp-data"},[a("div",{staticClass:"data-table",attrs:{id:"con-table-change"}},[a("div",{staticClass:"main-table-wapper"},[a("table",{staticClass:"table main-table"},[t._m(0),t._v(" "),a("tbody",t._l(t.so.list,function(e){return a("tr",{staticClass:"h50 body-row"},[a("td",[a("span",[t._v(t._s(e.templateId))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.name))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.width+"*"+e.height))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.materialNumber))])]),t._v(" "),a("td",[a("span",[t._v(t._s(1==e.status?"上线":"下线"))])]),t._v(" "),a("td",[a("span",{staticClass:"table-links"},[a("b",[a("a",{class:1==e.status?"modify-disabled":"",attrs:{href:"",title:1==e.status?"只有下线的模板才能被修改":""},on:{click:function(a){a.preventDefault(),t.modify(e.templateId,e.status)}}},[t._v("修改")]),t._v(" "),a("a",{attrs:{href:""},on:{click:function(a){a.preventDefault(),t.changeStatus(e.templateId,e.status)}}},[t._v(t._s(1==e.status?"下线":"上线"))]),t._v(" "),a("a",{attrs:{href:""},on:{click:function(a){a.preventDefault(),t.del(e.templateId,e.status)}}},[t._v("删除")])])])])])}))])])])])]),t._v(" "),a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:Math.floor(t.page.totalCount/t.page.pageSize)>0,expression:"Math.floor(page.totalCount/page.pageSize)>0"}],class:{"el-pagination-reset":!0},attrs:{"current-page":t.page.currentPage,"page-sizes":t.page.pageSizes,"page-size":t.page.pageSize,layout:"total, sizes, prev, pager, next",total:t.page.totalCount},on:{"size-change":t.pageSizeChange,"current-change":t.currentPageChange}}),t._v(" "),a("el-dialog",{attrs:{title:t.title,size:"tiny"},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[a("span",{domProps:{innerHTML:t._s(t.body_html)}}),t._v(" "),a("span",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.sureFn()}}},[t._v("确 定")])],1)])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticClass:"h45 list-header"},[a("th",{staticClass:"w100"},[a("span",[t._v("模板ID")])]),t._v(" "),a("th",{staticClass:"w200"},[a("span",[t._v("模板名称")])]),t._v(" "),a("th",{staticClass:"w100"},[a("span",[t._v("广告尺寸")])]),t._v(" "),a("th",{staticClass:"w100"},[a("span",[t._v("素材个数")])]),t._v(" "),a("th",{staticClass:"w80"},[a("span",[t._v("状态")])]),t._v(" "),a("th",{staticClass:"w200"},[a("span",[t._v("操作")])])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("transition",{attrs:{name:"fade"}},[t.showImage?a("div",{staticClass:"master",staticStyle:{"z-index":"1300"}}):t._e()]),t._v(" "),a("transition",{attrs:{name:"fade"}},[t.showImage?a("div",{staticClass:"dialog-image"},[a("div",{staticClass:"pop-header"},[a("span",{staticClass:"header-close",on:{click:t.closeImageHandler}},[a("em",{staticClass:"icon icon-close"})])]),t._v(" "),a("img",{attrs:{src:t.img}})]):t._e()])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("m-breadcrumb",{attrs:{config:t.breadcrumbConfig}}),t._v(" "),a("div",{staticClass:"amp-path pb-10"},[a("span",{staticClass:"path-col"},[t._v("媒体名称："),a("b",[t._v(t._s(t.summary.name))])]),t._v(" "),a("span",{staticClass:"path-col"},[t._v("设备类型："),a("b",[t._v(t._s(t.summary.platform))])]),t._v(" "),a("span",{staticClass:"path-col"},[t._v("一级频道 | 二级频道："),a("b",[t._v(t._s(t.summary.levelone+" | "+t.summary.leveltwo))])]),t._v(" "),a("span",{staticClass:"path-col"},[t._v("状态："),a("b",[t._v(t._s(1==t.summary.state?"上线":"下线"))])])]),t._v(" "),a("div",{staticClass:"media-set"},[a("div",{staticClass:"clearfix mrb-20"},[a("div",{staticClass:"fn-media"},[a("router-link",{staticClass:"btn btn-normal btn-back-up",attrs:{to:{name:"channel",params:{id:t.publisherId}}}},[a("em",{staticClass:"icon icon-prev"}),t._v("返回")])],1),t._v(" "),a("div",{staticClass:"fn-media"},[a("button",{staticClass:"btn btn-normal",class:0==t.summary.state?"modify-disabled":"",attrs:{title:0==t.summary.state?"只有上线的频道才能新增广告位":""},on:{click:function(e){e.preventDefault(),t.showAdertising(e)}}},[t._v("新增广告位")])])]),t._v(" "),a("div",{staticClass:"clearfix"},[a("div",{staticClass:"fn-media"},[a("span",{staticClass:"plan-title"},[t._v("广告位名称：")]),t._v(" "),a("div",{staticClass:"ele-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.so.keyword,expression:"so.keyword"}],attrs:{placeholder:"请输入广告位名称",maxlength:"60"},domProps:{value:t.so.keyword},on:{input:function(e){e.target.composing||(t.so.keyword=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"fn-media fn-plan-new"},[a("span",{staticClass:"plan-title"},[t._v("状态：")]),t._v(" "),a("el-select",{staticStyle:{width:"100px",display:"inline-block"},attrs:{placeholder:"全部"},model:{value:t.so.state.value,callback:function(e){t.so.state.value=e},expression:"so.state.value"}},t._l(t.so.state.options,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("div",{staticClass:"fn-media",on:{click:function(e){t.getList()}}},[a("button",{staticClass:"btn media-btn-primary"},[t._v("查询")])])]),t._v(" "),a("div",{staticClass:"amp-data"},[a("div",{staticClass:"data-table",attrs:{id:"con-table-change"}},[a("div",{staticClass:"main-table-wapper"},[a("table",{staticClass:"table main-table"},[t._m(0),t._v(" "),a("tbody",t._l(t.so.list,function(e){return a("tr",{staticClass:"h50 body-row"},[a("td",[a("span",[t._v(t._s(e.slotId))])]),t._v(" "),a("td",[a("span",[a("router-link",{attrs:{to:{name:"advert",params:{id:e.slotId}},title:e.name}},[t._v(t._s(e.name))])],1)]),t._v(" "),a("td",[a("span",[t._v(t._s(e.width+"*"+e.height))])]),t._v(" "),a("td",[a("span",[t._v(t._s(1==e.status?"售卖":2==e.status?"非售卖":0==e.status?"下线":"其它"))]),a("p",{directives:[{name:"show",rawName:"v-show",value:Math.floor((e.effectiveTime-t.nowDate)/864e5)>-1,expression:"Math.floor((item.effectiveTime-nowDate)/86400000)>-1"}],staticClass:"changeStatusTxt"},[t._v("("+t._s(0==Math.floor((e.effectiveTime-t.nowDate)/864e5)?Math.floor((e.effectiveTime-t.nowDate)/36e5):Math.floor((e.effectiveTime-t.nowDate)/864e5))+t._s(0==Math.floor((e.effectiveTime-t.nowDate)/864e5)?"小时"+Math.ceil(Math.floor((e.effectiveTime-t.nowDate)/1e3)%86400%3600/60)+"分后":"天后")+"变为"+t._s(1==e.effectiveStatus?"售卖":2==e.effectiveStatus?"非售卖":0==e.effectiveStatus?"下线":"其它")+"状态)")])]),t._v(" "),a("td",[a("span",{staticClass:"table-links"},[a("b",[a("a",{class:1==e.status||2==e.status?"modify-disabled":"",attrs:{href:"",title:1==e.status||2==e.status?"只有下线的频道才能被修改":""},on:{click:function(a){a.preventDefault(),t.modify(e.slotId,e.status)}}},[t._v("修改")]),t._v(" "),a("a",{class:0==e.status?"modify-disabled":"",attrs:{href:"",title:0==e.status?"只有上线的广告位才能新增广告":""},on:{click:function(a){a.preventDefault(),t.newAdvert(e.slotId,e.name,e.status)}}},[t._v("新增广告")]),t._v(" "),a("a",{attrs:{href:""},on:{click:function(a){a.preventDefault(),t.del(e.slotId,e.status)}}},[t._v("删除")]),t._v(" "),a("a",{class:0==t.summary.state?"modify-disabled":"",attrs:{href:"",title:0==t.summary.state?"只有上线的频道才能切换":""},on:{click:function(a){a.preventDefault(),t.changeStatus(e.slotId)}}},[t._v("状态切换")]),t._v(" "),a("a",{attrs:{href:""},on:{click:function(a){a.preventDefault(),t.stock(e.slotId)}}},[t._v("库存")])])])])])}))])])])]),t._v(" "),a("m-stock",{attrs:{showStock:t.showChildComponents.showStock,slotId:t.slotId}})],1),t._v(" "),a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:Math.floor(t.page.totalCount/t.page.pageSize)>0,expression:"Math.floor(page.totalCount/page.pageSize)>0"}],class:{"el-pagination-reset":!0},attrs:{"current-page":t.page.currentPage,"page-sizes":t.page.pageSizes,"page-size":t.page.pageSize,layout:"total, sizes, prev, pager, next",total:t.page.totalCount},on:{"size-change":t.pageSizeChange,"current-change":t.currentPageChange}}),t._v(" "),a("el-dialog",{attrs:{title:t.title,size:"tiny"},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[a("span",{domProps:{innerHTML:t._s(t.body_html)}}),t._v(" "),a("span",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.sureFn}},[t._v("确 定")])],1)])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticClass:"h45 list-header"},[a("th",{staticClass:"w100"},[a("span",[t._v("广告位ID")])]),t._v(" "),a("th",{staticClass:"w200"},[a("span",[t._v("广告位名称")])]),t._v(" "),a("th",{staticClass:"w100"},[a("span",[t._v("广告位尺寸")])]),t._v(" "),a("th",{staticClass:"w130"},[a("span",[t._v("状态")])]),t._v(" "),a("th",{staticClass:"w300"},[a("span",[t._v("操作")])])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("transition",{attrs:{name:"fade"}},[t.showDialog?a("div",{staticClass:"master",staticStyle:{"z-index":"1300"}}):t._e()]),t._v(" "),a("transition",{attrs:{name:"fade"}},[t.showDialog?a("div",{staticClass:"dialog-pop"},[a("div",{staticClass:"pop-header"},[a("span",{staticClass:"header-text"},[t._v("素材审核")]),t._v(" "),a("span",{staticClass:"header-close",on:{click:t.closeDialogHandler}},[a("em",{staticClass:"icon icon-close"})])]),t._v(" "),a("div",{staticClass:"pop-body"},[a("div",{staticClass:"body-infor"},["single"===t.passType?a("h3",[t._v("确定要通过该素材吗？")]):a("h3",[t._v("是否批量通过已选中的素材？")])])]),t._v(" "),a("div",{staticClass:"pop-footer"},[a("span",{staticClass:"btn btn-primary",on:{click:t.materialPassAction}},[t._v("确认")]),t._v(" "),a("span",{staticClass:"btn btn-gray",on:{click:t.closeDialogHandler}},[t._v("取消")])])]):t._e()])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"crumbs"},t._l(t.config.data,function(e,s){return a("a",{attrs:{href:e.link}},[a("span",{class:{"crumbs-acitved":s===t.config.data.length-1}},[t._v(t._s(e.msg))]),t._v(" "),a("em",{directives:[{name:"show",rawName:"v-show",value:s!==t.config.data.length-1,expression:"index !== config.data.length - 1"}]},[t._v(t._s(t.config.sep||">"))])])}))},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"media-form"},[a("el-form",{ref:"formData",attrs:{model:t.formData,"label-width":"166px"}},[a("el-form-item",{attrs:{label:"广告名称："}},[a("span",[t._v(t._s(t.formData.name))])]),t._v(" "),a("el-form-item",{attrs:{label:"广告位名称："}},[a("span",[t._v(t._s(t.formData.summary.advertisingName))])]),t._v(" "),a("el-form-item",{attrs:{label:"计费模式："}},[a("span",[t._v(t._s(1==t.formData.saleMode?"定价CPC":2==t.formData.saleMode?"竞价CPM":3==t.formData.saleMode?"定价CPM(合约)":4==t.formData.saleMode?"定价CPM(非合约)":5==t.formData.saleMode?"CPD":"其他"))])]),t._v(" "),a("el-form-item",{attrs:{label:"广告形式："}},[a("span",{staticClass:"path-col"},[t._v(t._s(t.formData.formatName))])]),t._v(" "),a("el-form-item",{attrs:{label:"模板："}},[a("span",{staticClass:"path-col"},[t._v(t._s(t.formData.templateName))])]),t._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{on:{change:t.changeStatus},model:{value:t.formData.status,callback:function(e){t.formData.status=e},expression:"formData.status"}},[a("el-radio",{attrs:{label:0}},[t._v("下线")]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("上线")])],1)],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.showTime,expression:"showTime"}],attrs:{label:"预期下线时间："}},[a("el-date-picker",{attrs:{type:"date",editable:!1,"picker-options":t.pickerOptions0,placeholder:"选择日期时间"},model:{value:t.effectTime,callback:function(e){t.effectTime=e},expression:"effectTime"}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("m-breadcrumb",{attrs:{config:t.breadcrumbConfig}}),t._v(" "),a("div",{staticClass:"media-set"},[a("div",{staticClass:"accountMoney"},[a("ul",{staticClass:"clearfix"},[a("li",[t._v("账户金额："),a("span",[t._v(t._s(t._f("currency")(t.balance,"¥",2)))])]),t._v(" "),a("li",[t._v("昨日花费："),a("span",[t._v(t._s(t._f("currency")(t.yesterdayCost,"¥",2)))])])])]),t._v(" "),a("div",{staticClass:"clearfix"},[a("div",{staticClass:"fn-media pt-20"},[a("button",{staticClass:"btn btn-normal",on:{click:function(e){e.preventDefault(),t.newMission()}}},[t._v("新建任务")])])]),t._v(" "),a("div",{staticClass:"clearfix"},[a("div",{staticClass:"fn-media"},[a("div",{staticClass:"fn-media"},[a("span",{staticClass:"plan-title"},[t._v("任务名称：")]),t._v(" "),a("div",{staticClass:"ele-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.so.keyword,expression:"so.keyword"}],attrs:{placeholder:"请输入任务名称",maxlength:"60"},domProps:{value:t.so.keyword},on:{input:function(e){e.target.composing||(t.so.keyword=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"fn-media"},[a("span",{staticClass:"plan-title"},[t._v("起止时间：")]),t._v(" "),a("el-date-picker",{staticStyle:{width:"240px"},attrs:{type:"daterange",align:"right",placeholder:"选择日期范围","picker-options":t.datePickOptions,editable:!1},model:{value:t.searchDateRange,callback:function(e){t.searchDateRange=e},expression:"searchDateRange"}})],1),t._v(" "),a("div",{staticClass:"fn-media"},[a("span",{staticClass:"plan-title"},[t._v("状态：")]),t._v(" "),a("el-select",{staticStyle:{width:"130px",display:"inline-block"},attrs:{placeholder:"全部"},model:{value:t.so.status.value,callback:function(e){t.so.status.value=e},expression:"so.status.value"}},t._l(t.so.status.options,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("div",{staticClass:"fn-media",on:{click:function(e){t.getList()}}},[a("button",{staticClass:"btn media-btn-primary "},[t._v("查询")])])])]),t._v(" "),a("div",{staticClass:"amp-data"},[a("div",{staticClass:"data-table",attrs:{id:"con-table-change"}},[a("div",{staticClass:"main-table-wapper"},[a("table",{staticClass:"table main-table"},[t._m(0),t._v(" "),a("tbody",[0==t.so.list.length?a("tr",{staticClass:"body-row"},[a("td",{staticStyle:{"text-align":"center",height:"30px","line-height":"30px"},attrs:{colspan:"8"}},[t._v("无相关数据")])]):t._e(),t._v(" "),t._l(t.so.list,function(e,s){return a("tr",{staticClass:"h50 body-row"},[a("td",[a("span",[t._v(t._s(e.missionId))])]),t._v(" "),a("td",[a("span",[a("a",{attrs:{href:"javascript:;"},on:{click:function(a){t.lookMission(e.missionId)}}},[t._v(t._s(e.name))])])]),t._v(" "),a("td",[a("span",[t._v(t._s(1==e.typeUpVote?"点赞":"")+t._s(1!=e.typeUpVote||1!=e.typeShare&&1!=e.typeResearch&&1!=e.typeWatch?"":"|")+t._s(1==e.typeShare?"分享":"")+t._s(1!=e.typeShare||1!=e.typeResearch&&1!=e.typeWatch?"":"|")+t._s(1==e.typeResearch?"调研":"")+t._s(e.typeResearch&&1==e.typeWatch?"|":"")+t._s(1==e.typeWatch?"视频":""))])]),t._v(" "),a("td",[a("span",[t._v(t._s(t._f("date")(e.startTime,"yyyy/MM/dd"))+"-"+t._s(t._f("date")(e.endTime,"yyyy/MM/dd")))])]),t._v(" "),a("td",[a("span",[t._v(t._s(0==e.cycleDays?Math.floor((e.endTime-e.startTime)/864e5)+1:e.cycleDays)+t._s(0==e.cycleMode?"(累计任务)":""))])]),t._v(" "),a("td",[a("span",[t._v("国美币"+t._s(t._f("currency")(e.awardAmount)))])]),t._v(" "),a("td",[a("span",[t._v(t._s(1==e.missionStatus?"有效":2==e.missionStatus?"过期":3==e.missionStatus?"未开始":"其它"))])]),t._v(" "),a("td",[a("span",{staticClass:"table-links"},[a("b",[a("a",{class:2==e.missionStatus||0==e.cycleMode&&3!=e.missionStatus?"modify-disabled":"",attrs:{href:""},on:{click:function(a){a.preventDefault(),t.modify(e.missionId,e.missionStatus,e.cycleMode,e.isTerminated,e.isLastCycle)}}},[t._v("修改")]),t._v(" "),a("a",{class:1==e.cycleMode&&1==e.missionStatus?"":"modify-disabled",attrs:{href:""},on:{click:function(a){a.preventDefault(),t.stop(e.missionId,e.cycleMode,e.missionStatus,e.isTerminated,e.isLastCycle)}}},[t._v("终止")]),t._v(" "),a("a",{attrs:{href:""},on:{click:function(a){a.preventDefault(),t.copy(e.missionId)}}},[t._v("复制")])])])])])})],2)])])])])]),t._v(" "),a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:Math.floor(t.page.totalCount/t.page.pageSize)>0,expression:"Math.floor(page.totalCount/page.pageSize)>0"}],class:{"el-pagination-reset":!0},attrs:{"current-page":t.page.currentPage,"page-sizes":t.page.pageSizes,"page-size":t.page.pageSize,layout:"total, sizes, prev, pager, next",total:t.page.totalCount},on:{"size-change":t.pageSizeChange,"current-change":t.currentPageChange}}),t._v(" "),a("el-dialog",{attrs:{title:t.title,size:"tiny"},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[a("span",{domProps:{innerHTML:t._s(t.body_html)}}),t._v(" "),a("span",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.sureFn()}}},[t._v("确 定")])],1)])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticClass:"h45 list-header"},[a("th",{staticClass:"w100"},[a("span",[t._v("任务ID")])]),t._v(" "),a("th",{staticClass:"w260"},[a("span",[t._v("任务名称")])]),t._v(" "),a("th",{staticClass:"w150"},[a("span",[t._v("任务类型")])]),t._v(" "),a("th",{staticClass:"w200"},[a("span",[t._v("起止时间")])]),t._v(" "),a("th",{staticClass:"w120"},[a("span",[t._v("周期")])]),t._v(" "),a("th",{staticClass:"w150"},[a("span",[t._v("奖励金额")])]),t._v(" "),a("th",{staticClass:"w80"},[a("span",[t._v("状态")])]),t._v(" "),a("th",{staticClass:"w200"},[a("span",[t._v("操作")])])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.showView,expression:"showView"}],staticClass:"master",staticStyle:{"z-index":"1200"}})]),t._v(" "),a("transition",{attrs:{name:"drawer"}},[t.showView?a("div",{staticClass:"amp-drawer"},[a("div",{staticClass:"drawer-part"},[a("h2",{staticClass:"part-header",staticStyle:{"margin-bottom":"10px"}},[a("span",{staticClass:"header-text"},[t._v("查看素材")]),t._v(" "),a("span",{staticClass:"header-fn",on:{click:t.closeView}},[a("em",{staticClass:"icon icon-close"})])]),t._v(" "),a("div",{staticClass:"dialog-tab"},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"素材详情",name:"first"}},[a("m-detail",{attrs:{materialId:t.materialId}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:"授权资质",name:"second"}},[a("m-certificate",{attrs:{userId:t.userId}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:"审核规范",name:"third"}}),t._v(" "),"advertisement_approve"==t.approveRole?a("el-tab-pane",{attrs:{label:"审核信息",name:"fourth"}},[a("m-reason",{attrs:{materialId:t.materialId}})],1):t._e()],1)],1)]),t._v(" "),a("div",{
staticClass:"drawer-btn"},[1!==t.approveStatus?a("span",{staticClass:"btn btn-primary",on:{click:t.passDialogHandler}},[t._v("通过")]):t._e(),t._v(" "),t.approveStatus!==-1?a("span",{staticClass:"btn btn-gray",on:{click:t.viewRefuseHandler}},[t._v("拒绝")]):t._e(),t._v(" "),a("span",{staticClass:"btn btn-gray",on:{click:t.closeView}},[t._v("取消")])])]):t._e()])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"media-form"},[a("el-form",{ref:"formData",attrs:{model:t.formData,"label-width":"166px"}},[a("el-form-item",{attrs:{label:"广告位名称："}},[a("span",[t._v(t._s(t.formData.name))])]),t._v(" "),a("el-form-item",{attrs:{label:"媒体："}},[a("span",[t._v(t._s(t.formData.summary.name))])]),t._v(" "),a("el-form-item",{attrs:{label:"频道："}},[a("span",{staticClass:"path-col"},[t._v(t._s(t.formData.summary.levelone+" | "+t.formData.summary.leveltwo))])]),t._v(" "),a("el-form-item",{attrs:{label:"广告位尺寸："}},[a("span",{staticClass:"path-col"},[a("span",[t._v("宽 ")]),t._v(t._s(t.formData.width)+" px    "),a("span",[t._v("高 ")]),t._v(t._s(t.formData.height)+" px")])]),t._v(" "),a("el-form-item",{attrs:{label:"轮播数："}},[a("span",[t._v(t._s(t.formData.rotators))])]),t._v(" "),a("el-form-item",{attrs:{label:"外采流量："}},[a("span",[t._v(t._s(0==t.formData.outSourceFlow?"否":"是"))])]),t._v(" "),a("el-form-item",{attrs:{label:"素材多级审核："}},[a("span",[t._v(t._s(1==t.formData.approveFlowId?"否":"是"))])]),t._v(" "),a("el-form-item",{attrs:{label:"描述："}},[a("span",[t._v(t._s(t.formData.description))])]),t._v(" "),a("el-form-item",{attrs:{label:"单次请求返回素材数量："}},[a("span",[t._v(t._s(t.formData.materialNumber))])]),t._v(" "),a("el-form-item",{attrs:{label:"状态："}},[a("el-radio-group",{on:{change:t.changeStatus},model:{value:t.formData.status,callback:function(e){t.formData.status=e},expression:"formData.status"}},[a("el-radio",{attrs:{label:0}},[t._v("下线")]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("售卖")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("非售卖")])],1)],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.showTime,expression:"showTime"}],attrs:{label:"生效时间："}},[a("el-date-picker",{attrs:{type:"date",editable:!1,"picker-options":t.pickerOptions0,placeholder:"选择日期时间"},model:{value:t.effectTime,callback:function(e){t.effectTime=e},expression:"effectTime"}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"media-form"},[a("el-form",{ref:"formData",attrs:{model:t.formData,rules:t.rules,"label-width":"166px"}},[a("el-form-item",{attrs:{label:"广告位名称：",prop:"name"}},[a("el-input",{model:{value:t.formData.name,callback:function(e){t.formData.name=e},expression:"formData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"媒体：",prop:"mediaName"}},[a("el-select",{directives:[{name:"show",rawName:"v-show",value:"modify"!=t.drawerCtrlAction,expression:'drawerCtrlAction!="modify"'}],staticStyle:{width:"152px",display:"inline-block"},attrs:{placeholder:"请选择"},on:{change:t.mediaChange},model:{value:t.formData.mediaName,callback:function(e){t.formData.mediaName=e},expression:"formData.mediaName"}},t._l(t.mediaName.options,function(t){return a("el-option",{attrs:{label:t.name,value:t.publisherId}})})),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"modify"==t.drawerCtrlAction,expression:'drawerCtrlAction=="modify"'}]},[t._v(t._s(t.formData.publisherName))])],1),t._v(" "),a("el-form-item",{attrs:{label:"一级频道：",prop:"channelName"}},[a("el-select",{directives:[{name:"show",rawName:"v-show",value:"modify"!=t.drawerCtrlAction,expression:'drawerCtrlAction!="modify"'}],staticStyle:{width:"152px",display:"inline-block"},attrs:{placeholder:"请选择"},on:{change:t.channelChange},model:{value:t.formData.channelName,callback:function(e){t.formData.channelName=e},expression:"formData.channelName"}},t._l(t.channelName.options,function(t){return a("el-option",{attrs:{label:t.name,value:t.channelId}})})),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"modify"==t.drawerCtrlAction,expression:'drawerCtrlAction=="modify"'}]},[t._v(t._s(t.formData.parentChannelName?t.formData.parentChannelName:t.formData.channelName))])],1),t._v(" "),a("el-form-item",{attrs:{label:"二级频道：",prop:t.jugeTwoChannel?"page":"twoChannelName"}},[a("el-select",{directives:[{name:"show",rawName:"v-show",value:"modify"!=t.drawerCtrlAction,expression:'drawerCtrlAction!="modify"'}],staticStyle:{width:"152px",display:"inline-block"},attrs:{placeholder:"请选择"},model:{value:t.formData.twoChannelName,callback:function(e){t.formData.twoChannelName=e},expression:"formData.twoChannelName"}},t._l(t.twoChannelName.options,function(t){return a("el-option",{attrs:{label:t.name,value:t.channelId}})})),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:"modify"==t.drawerCtrlAction,expression:'drawerCtrlAction=="modify"'}]},[t._v(t._s(t.formData.parentChannelName?t.formData.channelName:"--"))])],1),t._v(" "),a("el-form-item",{attrs:{label:"广告位尺寸："}},[a("el-col",{attrs:{span:15}},[a("el-form-item",{attrs:{prop:"width"}},[a("span",[t._v("宽  ")]),t._v(" "),a("el-input",{staticClass:"w200",model:{value:t.formData.width,callback:function(e){t.formData.width=e},expression:"formData.width"}}),t._v(" "),a("span",[t._v("  px")])],1)],1),t._v(" "),a("el-col",{staticClass:"mrt-20",attrs:{span:15}},[a("el-form-item",{attrs:{prop:"height"}},[a("span",[t._v("高  ")]),t._v(" "),a("el-input",{staticClass:"w200",model:{value:t.formData.height,callback:function(e){t.formData.height=e},expression:"formData.height"}}),t._v(" "),a("span",[t._v("  px")])],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"轮播数：",prop:"rotators"}},[a("el-input",{model:{value:t.formData.rotators,callback:function(e){t.formData.rotators=t._n(e)},expression:"formData.rotators"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"外采流量："}},[a("el-radio-group",{model:{value:t.formData.outSourceFlow,callback:function(e){t.formData.outSourceFlow=e},expression:"formData.outSourceFlow"}},[a("el-radio",{attrs:{label:0}},[t._v("否")]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("是")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"单次请求返回素材数量：",prop:"materialNumber"}},[a("el-input",{attrs:{placeholder:"1-20"},model:{value:t.formData.materialNumber,callback:function(e){t.formData.materialNumber=t._n(e)},expression:"formData.materialNumber"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"素材多级审核："}},[a("el-radio-group",{on:{change:t.approvePhase},model:{value:t.formData.approveFlowId,callback:function(e){t.formData.approveFlowId=e},expression:"formData.approveFlowId"}},[a("el-radio",{attrs:{label:1}},[t._v("否")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("是")])],1),t._v(" "),a("br"),t._v(" "),a("el-select",{staticStyle:{width:"170px",display:"inline-block"},attrs:{placeholder:"请选择",disabled:!t.isApprovePhaseOpened},model:{value:t.approvePhaseName,callback:function(e){t.approvePhaseName=e},expression:"approvePhaseName"}},t._l(t.approveOptions,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"描述：",prop:"description"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.formData.description,callback:function(e){t.formData.description=e},expression:"formData.description"}})],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"modify"!=t.drawerCtrlAction,expression:'drawerCtrlAction != "modify"'}],attrs:{label:"状态"}},[a("el-radio-group",{model:{value:t.formData.state,callback:function(e){t.formData.state=e},expression:"formData.state"}},[a("el-radio",{attrs:{label:0}},[t._v("下线")]),t._v(" "),a("el-radio",{attrs:{label:1,disabled:t.formData.controlRadio}},[t._v("售卖")]),t._v(" "),a("el-radio",{attrs:{label:2,disabled:t.formData.controlRadio}},[t._v("非售卖")])],1)],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"amp-content"},[a("m-nav",{attrs:{config:t.navMenu}}),t._v(" "),a("div",{staticClass:"content-main"},[a("div",{staticClass:"amp-account"},[a("m-drawer"),t._v(" "),a("router-view")],1)])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"media-form"},[a("el-form",{ref:"formData",attrs:{model:t.formData,rules:t.rules,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"任务名称：",prop:"name"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isTypeLook,expression:"!isTypeLook"}]},[a("el-input",{staticStyle:{width:"342px"},attrs:{disabled:t.isMissionStatus},on:{change:function(e){t.trim("name")}},model:{value:t.formData.name,callback:function(e){t.formData.name=e},expression:"formData.name"}})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isTypeLook,expression:"isTypeLook"}]},[t._v(t._s(t.formData.name))])]),t._v(" "),a("el-form-item",{staticStyle:{position:"relative"},attrs:{label:"领取奖励份数："}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isTypeLook,expression:"!isTypeLook"}]},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.totalCount,expression:"formData.totalCount"}],ref:"totalCount",staticClass:"w150 jugeInput",domProps:{value:t.formData.totalCount},on:{input:[function(e){e.target.composing||(t.formData.totalCount=e.target.value)},function(e){e.preventDefault(),t.clearNum("totalCount"),t.awardFocus(e,"totalCount")}]}}),t._v("  份")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isTypeLook,expression:"isTypeLook"}]},[t._v(t._s(t.formData.totalCount)+" 份")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showHint.totalCount,expression:"showHint.totalCount"}],staticClass:"totalCount"},[t._v(t._s(t.formData.totalCount>99999999?"最大值不能超过99999999":"请输入领取奖励份数"))])]),t._v(" "),a("el-form-item",{attrs:{label:"起止时间：",prop:"startTime"}},[a("el-col",{directives:[{name:"show",rawName:"v-show",value:!t.isTypeLook,expression:"!isTypeLook"}],staticClass:"w150"},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{disabled:t.isMissionStatus,"picker-options":t.pickerOptions,editable:!1,clearable:!1,type:"date",placeholder:"开始时间"},on:{change:t.selectedTime},model:{value:t.formData.startTime,callback:function(e){t.formData.startTime=e},expression:"formData.startTime"}})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isTypeLook,expression:"isTypeLook"}],staticClass:"fl"},[t._v(t._s(t._f("date")(t.formData.startTime,"yyyy-MM-dd")))]),t._v(" "),a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:2}},[t._v("-")]),t._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:!t.isTypeLook,expression:"!isTypeLook"}],staticClass:"w150"},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{disabled:t.isMissionStatus,"picker-options":t.pickerOptions,editable:!1,clearable:!1,type:"date",placeholder:"结束时间"},on:{change:t.selectedTime},model:{value:t.formData.endTime,callback:function(e){t.formData.endTime=e},expression:"formData.endTime"}})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isTypeLook,expression:"isTypeLook"}],staticClass:"fl"},[t._v(t._s(t._f("date")(t.formData.endTime,"yyyy-MM-dd")))])],1),t._v(" "),a("el-form-item",{staticStyle:{position:"relative"},attrs:{label:"重复模式："}},[a("el-radio-group",{directives:[{name:"show",rawName:"v-show",value:!t.isTypeLook,expression:"!isTypeLook"}],staticStyle:{"padding-top":"10px"},model:{value:t.formData.cycleMode,callback:function(e){t.formData.cycleMode=e},expression:"formData.cycleMode"}},[a("el-radio",{attrs:{disabled:t.isMissionStatus,label:0}},[t._v("累计模式")]),t._v(" "),a("el-radio",{staticStyle:{display:"block","margin-left":"0","margin-top":"30px"},attrs:{disabled:t.isMissionStatus,label:1}},[t._v("周期模式        "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.cycleDays,expression:"formData.cycleDays"}],ref:"cycleDays",staticClass:"w100 jugeInput",class:{"mission-disabled":0==t.formData.cycleMode||t.isMissionStatus},style:{borderColor:t.showHint.cycleDays?"#ff4949":"#BFCBD9"},attrs:{disabled:0==t.formData.cycleMode||t.isMissionStatus},domProps:{value:t.formData.cycleDays},on:{input:[function(e){e.target.composing||(t.formData.cycleDays=e.target.value)},function(e){e.preventDefault(),t.clearNum("cycleDays"),t.awardFocus(e,"cycleDays")}]}}),t._v("   天")])],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isTypeLook&&0==t.formData.cycleMode,expression:"isTypeLook&&formData.cycleMode==0"}]},[t._v("累计模式")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isTypeLook&&1==t.formData.cycleMode,expression:"isTypeLook&&formData.cycleMode==1"}]},[t._v("周期模式  "+t._s(t.formData.cycleDays)+"天")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showHint.cycleDays,expression:"showHint.cycleDays"}],staticClass:"cycleDays"},[t._v(t._s(t.formData.cycleDays>99999999?"最大值不能超过99999999":t.formData.cycleDays>t.timeDiff?"周期天数大于起止时间的天数请修改":"请输入周期"))])],1),t._v(" "),a("el-form-item",{attrs:{label:"任务类型："}},[a("el-col",{directives:[{name:"show",rawName:"v-show",value:!t.isTypeLook,expression:"!isTypeLook"}],staticClass:"pb-22",attrs:{span:30}},[a("el-checkbox",{attrs:{disabled:t.isMissionStatus,checked:1==t.formData.typeUpVote,"true-label":"1","false-label":"0"},on:{change:function(e){t.autoFocus(e,"typeUpVoteCount")}},model:{value:t.formData.typeUpVote,callback:function(e){t.formData.typeUpVote=e},expression:"formData.typeUpVote"}},[t._v("点赞")]),t._v("    数量：\n\t\t\t    \t"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.typeUpVoteCount,expression:"formData.typeUpVoteCount"}],ref:"typeUpVoteCount",staticClass:"w100 jugeInput",class:{"mission-disabled":0==t.formData.typeUpVote||t.isMissionStatus},attrs:{disabled:0==t.formData.typeUpVote||t.isMissionStatus},domProps:{value:t.formData.typeUpVoteCount},on:{input:[function(e){e.target.composing||(t.formData.typeUpVoteCount=e.target.value)},function(e){e.preventDefault(),t.clearNum("typeUpVoteCount"),t.awardFocus(e,"typeUpVoteCount")}]}}),t._v("   个\n\t\t\t    \t"),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showHint.typeUpVoteCount,expression:"showHint.typeUpVoteCount"}],staticClass:"missionTypeHint"},[t._v(t._s(t.formData.typeUpVoteCount>99999999?"最大值不能超过99999999":"请输入数量"))])],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isTypeLook&&1==t.formData.typeUpVote,expression:"isTypeLook&&formData.typeUpVote == 1"}]},[t._v("点赞  数量："+t._s(t.formData.typeUpVoteCount)+"个")]),t._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:!t.isTypeLook,expression:"!isTypeLook"}],staticClass:"pb-22",attrs:{span:30}},[a("el-checkbox",{attrs:{disabled:t.isMissionStatus,checked:1==t.formData.typeShare,"true-label":"1","false-label":"0"},on:{change:function(e){t.autoFocus(e,"typeShareCount")}},model:{value:t.formData.typeShare,callback:function(e){t.formData.typeShare=e},expression:"formData.typeShare"}},[t._v("分享")]),t._v("    数量：\n\t\t\t    \t"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.typeShareCount,expression:"formData.typeShareCount"}],ref:"typeShareCount",staticClass:"w100 jugeInput",class:{"mission-disabled":0==t.formData.typeShare||t.isMissionStatus},attrs:{disabled:0==t.formData.typeShare||t.isMissionStatus},domProps:{value:t.formData.typeShareCount},on:{input:[function(e){e.target.composing||(t.formData.typeShareCount=e.target.value)},function(e){e.preventDefault(),t.clearNum("typeShareCount"),t.awardFocus(e,"typeShareCount")}]}}),t._v("   次\n\t\t\t    \t"),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showHint.typeShareCount,expression:"showHint.typeShareCount"}],staticClass:"missionTypeHint"},[t._v(t._s(t.formData.typeShareCount>99999999?"最大值不能超过99999999":"请输入数量"))])],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isTypeLook&&1==t.formData.typeShare,expression:"isTypeLook&&formData.typeShare == 1"}]},[t._v("分享  数量："+t._s(t.formData.typeShareCount)+"次")]),t._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:!t.isTypeLook,expression:"!isTypeLook"}],staticClass:"pb-22",attrs:{span:30}},[a("el-checkbox",{attrs:{disabled:t.isMissionStatus,checked:1==t.formData.typeResearch,"true-label":"1","false-label":"0"},on:{change:function(e){t.autoFocus(e,"typeResearchCount")}},model:{value:t.formData.typeResearch,callback:function(e){t.formData.typeResearch=e},expression:"formData.typeResearch"}},[t._v("调研")]),t._v("    数量：\n\t\t\t    \t"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.typeResearchCount,expression:"formData.typeResearchCount"}],ref:"typeResearchCount",staticClass:"w100 jugeInput",class:{"mission-disabled":0==t.formData.typeResearch||t.isMissionStatus},attrs:{disabled:0==t.formData.typeResearch||t.isMissionStatus},domProps:{value:t.formData.typeResearchCount},on:{input:[function(e){e.target.composing||(t.formData.typeResearchCount=e.target.value)},function(e){e.preventDefault(),t.clearNum("typeResearchCount"),t.awardFocus(e,"typeResearchCount")}]}}),t._v("   份\n\t\t\t    \t"),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showHint.typeResearchCount,expression:"showHint.typeResearchCount"}],staticClass:"missionTypeHint"},[t._v(t._s(t.formData.typeResearchCount>99999999?"最大值不能超过99999999":"请输入数量"))])],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isTypeLook&&1==t.formData.typeResearch,expression:"isTypeLook&&formData.typeResearch == 1"}]},[t._v("调研  数量："+t._s(t.formData.typeResearchCount)+"份")]),t._v(" "),a("el-col",{directives:[{name:"show",rawName:"v-show",value:!t.isTypeLook,expression:"!isTypeLook"}],staticStyle:{position:"relative"},attrs:{span:30}},[a("el-checkbox",{attrs:{disabled:t.isMissionStatus,checked:1==t.formData.typeWatch,"true-label":"1","false-label":"0"},on:{change:function(e){t.autoFocus(e,"typeWatchCount")}},model:{value:t.formData.typeWatch,callback:function(e){t.formData.typeWatch=e},expression:"formData.typeWatch"}},[t._v("视频")]),t._v("    数量：\n\t\t\t    \t"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.typeWatchCount,expression:"formData.typeWatchCount"}],ref:"typeWatchCount",staticClass:"w100 jugeInput",class:{"mission-disabled":0==t.formData.typeWatch||t.isMissionStatus},attrs:{disabled:0==t.formData.typeWatch||t.isMissionStatus},domProps:{value:t.formData.typeWatchCount},on:{input:[function(e){e.target.composing||(t.formData.typeWatchCount=e.target.value)},function(e){e.preventDefault(),t.clearNum("typeWatchCount"),t.awardFocus(e,"typeWatchCount")}]}}),t._v("   条\n\t\t\t    \t"),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showHint.typeWatchCount&&1==t.formData.typeWatch,expression:"showHint.typeWatchCount && formData.typeWatch == 1"}],staticClass:"missionTypeHint"},[t._v(t._s(t.formData.typeWatchCount>99999999?"最大值不能超过99999999":"请输入数量"))])],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isTypeLook&&1==t.formData.typeWatch,expression:"isTypeLook&&formData.typeWatch == 1"}]},[t._v("视频  数量："+t._s(t.formData.typeWatchCount)+"条")])],1),t._v(" "),a("el-form-item",{staticStyle:{position:"relative"},attrs:{label:"奖励金额："}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isTypeLook,expression:"!isTypeLook"}]},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.awardAmount,expression:"formData.awardAmount"}],ref:"awardAmount",staticClass:"w150 jugeInput",domProps:{value:t.formData.awardAmount},on:{blur:function(e){t.changeRound()},input:[function(e){e.target.composing||(t.formData.awardAmount=e.target.value)},function(e){e.preventDefault(),t.clearAwardAmount(),t.awardFocus(e,"awardAmount")}]}}),t._v("   国美币")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isTypeLook,expression:"isTypeLook"}]},[t._v(t._s(t.formData.awardAmount)+"  国美币")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showHint.awardAmount,expression:"showHint.awardAmount"}],staticClass:"totalCount"},[t._v(t._s(t.formData.awardAmount>99999999?"最大值不能超过99999999":"请输入奖励金额"))])]),t._v(" "),a("el-form-item",{attrs:{label:"任务说明：",prop:"description"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isTypeLook,expression:"!isTypeLook"}]},[a("el-input",{staticStyle:{width:"342px"},attrs:{type:"textarea",rows:4},on:{change:function(e){t.trim("description")}},model:{value:t.formData.description,callback:function(e){t.formData.description=e},expression:"formData.description"}})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isTypeLook,expression:"isTypeLook"}],staticClass:"missionDes"},[t._v(t._s(t.formData.description))])])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"media-form"},[a("el-form",{ref:"formData",attrs:{model:t.formData,rules:t.rules,"label-width":"166px"}},[a("el-form-item",{attrs:{label:"广告位："}},[a("span",[t._v(t._s(t.formData.summary.advertisingName))])]),t._v(" "),a("el-form-item",{attrs:{label:"广告名称：",prop:"name"}},[a("el-input",{model:{value:t.formData.name,callback:function(e){t.formData.name=e},expression:"formData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"计费模式：",prop:"saleMode"}},[a("el-select",{staticStyle:{width:"152px",display:"inline-block"},attrs:{placeholder:"请选择"},model:{value:t.formData.saleMode,callback:function(e){t.formData.saleMode=e},expression:"formData.saleMode"}},t._l(t.saleMode.options,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"广告形式：",prop:"formatName"}},[a("el-select",{staticStyle:{width:"152px",display:"inline-block"},attrs:{placeholder:"请选择"},model:{value:t.formData.formatName,callback:function(e){t.formData.formatName=e},expression:"formData.formatName"}},t._l(t.formatName.options,function(t){return a("el-option",{attrs:{label:t.name,value:t.formatId}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"推广类型：",prop:"generalizeType"}},[a("el-select",{staticStyle:{width:"152px",display:"inline-block"},attrs:{placeholder:"请选择"},model:{value:t.formData.generalizeType,callback:function(e){t.formData.generalizeType=e},expression:"formData.generalizeType"}},t._l(t.generalizeType.options,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"模板：",prop:"templateName"}},[a("el-select",{staticStyle:{width:"152px",display:"inline-block"},attrs:{placeholder:"请选择"},model:{value:t.formData.templateName,callback:function(e){t.formData.templateName=e},expression:"formData.templateName"}},t._l(t.templateName.options,function(t){return a("el-option",{attrs:{label:t.name,value:t.templateId}})}))],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.showView,expression:"showView"}],staticClass:"master",staticStyle:{"z-index":"1200"}})]),t._v(" "),a("transition",{attrs:{name:"drawer"}},[t.showView?a("div",{staticClass:"amp-drawer"},[a("div",{staticClass:"drawer-part"},[a("h2",{staticClass:"part-header",staticStyle:{"margin-bottom":"10px"}},[a("span",{staticClass:"header-text"},[t._v("证件信息详情")]),t._v(" "),a("span",{staticClass:"header-fn",on:{click:t.closeView}},[a("em",{staticClass:"icon icon-close"})])]),t._v(" "),a("div",{staticClass:"dialog-tab"},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleClick}},[a("el-tab-pane",{attrs:{label:"营业执照",name:"0"}},[a("div",{staticClass:"unfold-content"},[a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("公司名称：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(t.advertiser.companyName))])])])]),t._v(" "),a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("注册号(营业执照号)：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(t.advertiser.bizLicenseNumber))])])])]),t._v(" "),a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("法人代表名称：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(t.advertiser.legalReprName))])])])]),t._v(" "),a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("身份证号：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(t.advertiser.legalReprIdNumber))])])])]),t._v(" "),a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("法人身份证电子版(正面)：")]),t._v(" "),a("div",{staticClass:"group-detail",attrs:{width:"60"}},[a("div",{staticClass:"detail-row"},[a("div",{staticClass:"row-photo-l"},[a("div",{staticClass:"photo",attrs:{resizable:!1}},[a("img",{attrs:{src:t.advertiser.legalReprIdImage},on:{click:function(e){t.handleImageClick(t.advertiser.legalReprIdImage)}}})])])])])]),t._v(" "),a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("法人身份证电子版(背面)：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("div",{staticClass:"row-photo-l"},[a("div",{staticClass:"photo"},[a("img",{attrs:{src:t.advertiser.legalReprIdBackImage},on:{click:function(e){t.handleImageClick(t.advertiser.legalReprIdBackImage)}}})])])])])]),t._v(" "),a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("营业执照详细地址：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(t.advertiser.bizLicenseAddress))])])])]),t._v(" "),a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("成立日期：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(t.advertiser.companyFoundDate))])])])]),t._v(" "),a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("营业期限：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(t.advertiser.bizStartDate)+"~"+t._s(t.advertiser.bizEndDate))])])])]),t._v(" "),a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("注册资本：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(t.advertiser.regCapital))])])])]),t._v(" "),a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("经营范围：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(t.advertiser.bizScope))])])])]),t._v(" "),a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("营业执照副本电子版：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("div",{staticClass:"row-photo-l"},[a("div",{staticClass:"photo"},[a("img",{attrs:{src:t.advertiser.bizLicenseImage},on:{click:function(e){t.handleImageClick(t.advertiser.bizLicenseImage)}}})])])])])]),t._v(" "),a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("公司详细地址：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(t.advertiser.companyAddress))])])])]),t._v(" "),a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("公司电话：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(t.advertiser.companyPhone))])])])]),t._v(" "),a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("公司紧急联系人：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(t.advertiser.emerContact))])])])]),t._v(" "),a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("公司紧急联系人手机号：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(t.advertiser.emerContactPhone))])])])]),t._v(" "),a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("公司邮箱：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(t.advertiser.companyEmail))])])])])])]),t._v(" "),a("el-tab-pane",{attrs:{label:"组织机构代码证",name:"1"}},[a("div",{staticClass:"unfold-content-item"},[a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("组织机构代码：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(t.advertiser.orgCode))])])])]),t._v(" "),a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("组织机构代码副本电子版：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("div",{staticClass:"row-photo-l"},[a("div",{staticClass:"photo"},[a("img",{attrs:{src:t.advertiser.orgCodeImage},on:{click:function(e){t.handleImageClick(t.advertiser.orgCodeImage)}}})])])])])])])]),t._v(" "),a("el-tab-pane",{attrs:{label:"税务登记证",name:"2"}},[a("div",{staticClass:"unfold-content-item"},[a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("税号：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(t.advertiser.taxNumber))])])])]),t._v(" "),a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("纳税人类型：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(t.advertiser.taxpayerType))])])])]),t._v(" "),a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("纳税类型税码：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(t.advertiser.taxCode))])])])]),t._v(" "),a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("税务登记证电子版：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("div",{staticClass:"row-photo-1"},[a("div",{staticClass:"photo"},[a("img",{attrs:{src:t.advertiser.taxRegCertImage},on:{click:function(e){t.handleImageClick(t.advertiser.taxRegCertImage)}}})])])])])]),t._v(" "),a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("一般纳税人资格电子版：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("div",{staticClass:"row-photo-1"},[a("div",{staticClass:"photo"},[a("img",{attrs:{src:t.advertiser.taxpayerQualificationImage},on:{click:function(e){t.handleImageClick(t.advertiser.taxpayerQualificationImage)}}})])])])])])])]),t._v(" "),a("el-tab-pane",{attrs:{label:"开户银行许可证",name:"3"}},[a("div",{staticClass:"unfold-content-item"},[a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("银行开户名：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(t.advertiser.bankAccountName))])])])]),t._v(" "),a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("公司银行账号：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(t.advertiser.bankAccount))])])])]),t._v(" "),a("div",{
staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("开户银行支行名称：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(t.advertiser.bankBranchName))])])])]),t._v(" "),a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("开户银行支行联行号：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(t.advertiser.bankBranchLineNumber))])])])]),t._v(" "),a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("开户银行支行地址：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(t.advertiser.bankBranchAddress))])])])]),t._v(" "),a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("银行开户许可证电子版：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("div",{staticClass:"row-photo-1"},[a("div",{staticClass:"photo"},[a("img",{attrs:{src:t.advertiser.bankAccountPermissionImage},on:{click:function(e){t.handleImageClick(t.advertiser.bankAccountPermissionImage)}}})])])])])])])]),t._v(" "),a("el-tab-pane",{attrs:{label:"联系人",name:"4"}},[a("div",{staticClass:"unfold-content-item"},[a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("联系人：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(t.advertiser.name))])])])]),t._v(" "),a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("性别：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(t.advertiser.gender))])])])]),t._v(" "),a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("手机号：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(t.advertiser.mobile))])])])]),t._v(" "),a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("邮箱：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(t.advertiser.email))])])])]),t._v(" "),a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("通讯地址：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(t.advertiser.address))])])])])])])],1)],1)]),t._v(" "),a("div",{staticClass:"drawer-btn"},[1!==t.approveStatus?a("span",{staticClass:"btn btn-primary",on:{click:t.passDialogHandler}},[t._v("通过")]):t._e(),t._v(" "),0===t.approveStatus?a("span",{staticClass:"btn btn-gray",on:{click:t.viewRefuseHandler}},[t._v("拒绝")]):t._e(),t._v(" "),a("span",{staticClass:"btn btn-gray",on:{click:t.closeView}},[t._v("取消")])])]):t._e()]),t._v(" "),a("m-image",{attrs:{showImage:t.showChildComponents.showViewImage,img:t.imageUrl}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("m-head"),t._v(" "),a("router-view")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("m-breadcrumb",{attrs:{config:t.breadcrumbConfig}}),t._v(" "),a("div",{staticClass:"amp-path pb-10"},[a("span",{staticClass:"path-col"},[t._v("媒体名称："),a("b",[t._v(t._s(t.summary.mediaName))])]),t._v(" "),a("span",{staticClass:"path-col"},[t._v("一级频道 | 二级频道："),a("b",[t._v(t._s(t.summary.levelone+" | "+t.summary.leveltwo))])]),t._v(" "),a("span",{staticClass:"path-col"},[t._v("广告位名称："),a("b",[t._v(t._s(t.summary.advertisingName))])]),t._v(" "),a("span",{staticClass:"path-col"},[t._v("状态："),a("b",[t._v(t._s(1==t.summary.advertisingState?"售卖":2==t.summary.advertisingState?"非售卖":0==t.summary.advertisingState?"下线":"其它"))])])]),t._v(" "),a("div",{staticClass:"media-set"},[a("div",{staticClass:"clearfix mrb-20"},[a("div",{staticClass:"fn-media"},[a("router-link",{staticClass:"btn btn-normal btn-back-up",attrs:{to:{name:"advertisingList",params:{id:t.channelId?t.channelId:1}}}},[a("em",{staticClass:"icon icon-prev"}),t._v("返回")])],1),t._v(" "),a("div",{staticClass:"fn-media"},[a("button",{staticClass:"btn btn-normal",class:0==t.summary.advertisingState?"modify-disabled":"",attrs:{title:0==t.summary.advertisingState?"只有上线的广告位才能新增广告":""},on:{click:function(e){e.preventDefault(),t.showAdvert(e)}}},[t._v("新增广告")])])]),t._v(" "),a("div",{staticClass:"clearfix"},[a("div",{staticClass:"fn-media"},[a("span",{staticClass:"plan-title"},[t._v("广告名称：")]),t._v(" "),a("div",{staticClass:"ele-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.so.keyword,expression:"so.keyword"}],attrs:{placeholder:"请输入广告位名称",maxlength:"60"},domProps:{value:t.so.keyword},on:{input:function(e){e.target.composing||(t.so.keyword=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"fn-media fn-plan-new"},[a("span",{staticClass:"plan-title"},[t._v("计费模式：")]),t._v(" "),a("el-select",{staticStyle:{width:"160px",display:"inline-block"},attrs:{placeholder:"全部"},model:{value:t.so.paidState.value,callback:function(e){t.so.paidState.value=e},expression:"so.paidState.value"}},t._l(t.so.paidState.options,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("div",{staticClass:"fn-media fn-plan-new"},[a("span",{staticClass:"plan-title"},[t._v("状态：")]),t._v(" "),a("el-select",{staticStyle:{width:"100px",display:"inline-block"},attrs:{placeholder:"全部"},model:{value:t.so.status.value,callback:function(e){t.so.status.value=e},expression:"so.status.value"}},t._l(t.so.status.options,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("div",{staticClass:"fn-media",on:{click:function(e){t.getList()}}},[a("button",{staticClass:"btn media-btn-primary"},[t._v("查询")])])]),t._v(" "),a("div",{staticClass:"amp-data"},[a("div",{staticClass:"data-table",attrs:{id:"con-table-change"}},[a("div",{staticClass:"main-table-wapper"},[a("table",{staticClass:"table main-table"},[t._m(0),t._v(" "),a("tbody",t._l(t.so.list,function(e){return a("tr",{staticClass:"h50 body-row"},[a("td",[a("span",[t._v(t._s(e.advertisementId))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.name))])]),t._v(" "),a("td",[a("span",[t._v(t._s(5==e.saleMode?"CPD":1==e.saleMode?"定价CPC":0==e.saleMode?"竞价CPC":4==e.saleMode?"定价CPM(非合约)":2==e.saleMode?"竞价CPM":3==e.saleMode?"定价CPM(合约)":6==e.saleMode?"CPS":"其他"))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.formatName))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.templateName))])]),t._v(" "),a("td",[a("span",[t._v(t._s(1==e.status?"上线":"下线"))]),a("p",{directives:[{name:"show",rawName:"v-show",value:e.effectiveTime!=-288e5&&Math.floor((e.effectiveTime-t.nowDate)/864e5)>-1,expression:"item.effectiveTime != -28800000 && Math.floor((item.effectiveTime-nowDate)/86400000)>-1"}],staticClass:"changeStatusTxt"},[t._v("("+t._s(0==Math.floor((e.effectiveTime-t.nowDate)/864e5)?Math.floor((e.effectiveTime-t.nowDate)/36e5):Math.floor((e.effectiveTime-t.nowDate)/864e5))+t._s(0==Math.floor((e.effectiveTime-t.nowDate)/864e5)?"小时"+Math.ceil(Math.floor((e.effectiveTime-t.nowDate)/1e3)%86400%3600/60)+"分后":"天后")+"变为下线状态)")])]),t._v(" "),a("td",[a("span",{staticClass:"table-links"},[a("b",[a("a",{class:1==e.status?"modify-disabled":"",attrs:{href:"",title:1==e.status?"只有下线的频道才能被修改":""},on:{click:function(a){a.preventDefault(),t.modify(e.advertisementId,e.status)}}},[t._v("修改")]),t._v(" "),a("a",{class:0==t.summary.advertisingState&&0==e.status?"modify-disabled":"",attrs:{href:"",title:0==t.summary.advertisingState&&0==e.status?"只有上线的广告位才能上线":""},on:{click:function(a){a.preventDefault(),t.changeStatus(e.advertisementId,e.status)}}},[t._v(t._s(1==e.status?"下线":"上线"))]),t._v(" "),a("a",{class:0==e.saleMode||2==e.saleMode?"modify-disabled":"",attrs:{href:""},on:{click:function(a){a.preventDefault(),t.price(e.advertisementId,e.saleMode)}}},[t._v("价格")]),t._v(" "),a("a",{attrs:{href:""},on:{click:function(a){a.preventDefault(),t.del(e.advertisementId,e.status)}}},[t._v("删除")])])])])])}))])])])])]),t._v(" "),a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:Math.floor(t.page.totalCount/t.page.pageSize)>0,expression:"Math.floor(page.totalCount/page.pageSize)>0"}],class:{"el-pagination-reset":!0},attrs:{"current-page":t.page.currentPage,"page-sizes":t.page.pageSizes,"page-size":t.page.pageSize,layout:"total, sizes, prev, pager, next",total:t.page.totalCount},on:{"size-change":t.pageSizeChange,"current-change":t.currentPageChange}}),t._v(" "),a("el-dialog",{attrs:{title:t.title,size:"tiny"},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[a("span",{domProps:{innerHTML:t._s(t.body_html)}}),t._v(" "),a("span",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.sureFn}},[t._v("确 定")])],1)]),t._v(" "),a("m-price",{attrs:{showPrice:t.showChildComponents.showPrice,advertisementId:t.advertisementId,saleMode:t.saleMode}}),t._v(" "),a("m-cpcPrice",{attrs:{showCpcPrice:t.showChildComponents.showCpcPrice,advertisementId:t.advertisementId}})],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticClass:"h45 list-header"},[a("th",{staticClass:"w100"},[a("span",[t._v("广告ID")])]),t._v(" "),a("th",{staticClass:"w200"},[a("span",[t._v("广告名称")])]),t._v(" "),a("th",{staticClass:"w150"},[a("span",[t._v("计费模式")])]),t._v(" "),a("th",{staticClass:"w150"},[a("span",[t._v("广告形式")])]),t._v(" "),a("th",{staticClass:"w150"},[a("span",[t._v("模板")])]),t._v(" "),a("th",{staticClass:"w80"},[a("span",[t._v("状态")])]),t._v(" "),a("th",{staticClass:"w260"},[a("span",[t._v("操作")])])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.showRefuse,expression:"showRefuse"}],staticClass:"master",staticStyle:{"z-index":"1200"},on:{click:t.closeView}},[t._v(">")])]),t._v(" "),a("transition",{attrs:{name:"drawer"}},[t.showRefuse?a("div",{staticClass:"amp-drawer"},[a("div",{staticClass:"drawer-part"},[a("h2",{staticClass:"part-header",staticStyle:{"margin-bottom":"10px"}},[a("span",{staticClass:"header-text"},[t._v("审核拒绝")]),t._v(" "),a("span",{staticClass:"header-fn",on:{click:t.closeView}},[a("em",{staticClass:"icon icon-close"})])]),t._v(" "),a("div",{staticClass:"shop-cont"},[a("div",[t._v("审核拒绝原因(请至少选择一项)：")]),t._v(" "),a("br"),t._v(" "),a("el-checkbox-group",{model:{value:t.checkList,callback:function(e){t.checkList=e},expression:"checkList"}},[a("el-checkbox",{attrs:{label:"问卷内容不符合要求"}}),t._v(" "),a("br"),t._v(" "),a("el-checkbox",{attrs:{label:"其他"}})],1),t._v(" "),t.isOtherSelected?a("el-input",{attrs:{type:"textarea",placeholder:"请输入审核未通过的原因，不超过200个字符",maxlength:200},on:{change:t.handleIpnutChange},model:{value:t.textarea,callback:function(e){t.textarea=e},expression:"textarea"}}):t._e(),t._v(" "),"empty"===t.reasonType?a("span",{staticStyle:{color:"red"}},[t._v("请输入审核未通过的原因")]):"maxLength"===t.reasonType?a("span",{staticStyle:{color:"red"}},[t._v("审核原因，不超过200个字符")]):"space"===t.reasonType?a("span",{staticStyle:{color:"red"}},[t._v("未包含汉字、字母、数字其中之一")]):t._e(),t._v(" "),a("br")],1)]),t._v(" "),a("div",{staticClass:"drawer-btn"},[a("span",{staticClass:"btn btn-primary",on:{click:t.surveyRefuseAction}},[t._v("确定")]),t._v(" "),a("span",{staticClass:"btn btn-gray",on:{click:t.closeView}},[t._v("取消")])])]):t._e()])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"media-form"},[a("el-form",{ref:"formData",attrs:{model:t.formData,rules:t.rules,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"媒体名称：",prop:"name"}},[a("el-input",{model:{value:t.formData.name,callback:function(e){t.formData.name=e},expression:"formData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"设备类型："}},[a("el-radio-group",{model:{value:t.formData.platform,callback:function(e){t.formData.platform=e},expression:"formData.platform"}},[a("el-radio",{attrs:{label:1,disabled:"modify"==t.drawerCtrlAction}},[t._v("APP")]),t._v(" "),a("el-radio",{attrs:{label:2,disabled:"modify"==t.drawerCtrlAction}},[t._v("WAP")]),t._v(" "),a("el-radio",{attrs:{label:3,disabled:"modify"==t.drawerCtrlAction}},[t._v("PC")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"媒体属性："}},[a("el-radio-group",{model:{value:t.formData.isInternal,callback:function(e){t.formData.isInternal=e},expression:"formData.isInternal"}},[a("el-radio",{attrs:{label:1,disabled:"modify"==t.drawerCtrlAction}},[t._v("站内")]),t._v(" "),a("el-radio",{attrs:{label:0,disabled:"modify"==t.drawerCtrlAction}},[t._v("站外")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"描述：",prop:"description"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.formData.description,callback:function(e){t.formData.description=e},expression:"formData.description"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"页面URL：",prop:t.changeUrl?"url":"page"}},[a("el-input",{attrs:{disabled:1===t.formData.platform||"modify"==t.drawerCtrlAction},model:{value:t.formData.url,callback:function(e){t.formData.url=e},expression:"formData.url"}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"amp-content"},[a("m-nav",{attrs:{config:t.navMenu}}),t._v(" "),a("div",{staticClass:"content-main"},[a("div",{staticClass:"amp-account"},[a("router-view")],1)])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"account-set"},[0===t.approveStatus||t.approveStatus===-1?a("div",{staticClass:"set-fn"},[a("div",{staticClass:"fn-search"},[a("span",{staticClass:"btn btn-normal",on:{click:t.listHandle}},[t._v("批量通过")])])]):t._e(),t._v(" "),a("div",{staticClass:"set-fn"},[a("div",{staticClass:"fn-plan set-fn-new"},[a("span",{staticClass:"plan-title"},[t._v("问卷ID/问卷名称：")]),t._v(" "),a("el-input",{staticStyle:{width:"150px"},attrs:{placeholder:"请输入问卷ID或名称"},model:{value:t.search.keyword,callback:function(e){t.search.keyword=e},expression:"search.keyword"}})],1),t._v(" "),a("div",{staticClass:"fn-plan set-fn-new"},[a("span",{staticClass:"plan-title"},[t._v("广告主名称：")]),t._v(" "),a("el-input",{staticStyle:{width:"140px"},attrs:{placeholder:""},model:{value:t.search.advertiserName,callback:function(e){t.search.advertiserName=e},expression:"search.advertiserName"}},[t.isAdvertiserName?a("i",{staticClass:"el-input__icon el-icon-close",on:{click:function(e){t.handleClickIcon()}},slot:"icon"}):t._e()])],1),t._v(" "),a("div",{staticClass:"fn-plan"},[a("span",{staticClass:"plan-title"},[t._v("送审时间：")]),t._v(" "),a("el-date-picker",{staticStyle:{widows:"20px"},attrs:{type:"daterange",align:"right",placeholder:"选择日期范围","picker-options":t.datePickOptions,editable:!1},model:{value:t.searchDateRange,callback:function(e){t.searchDateRange=e},expression:"searchDateRange"}})],1),t._v(" "),a("div",{staticClass:"fn-search"},[a("span",{staticClass:"btn btn-primary",on:{click:t.searchHandle}},[t._v("查询")])])])]),t._v(" "),a("div",{staticClass:"amp-data"},[a("div",{staticClass:"data-table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,border:""},on:{"selection-change":t.handleSelectionChange,"sort-change":t.handleSortChange}},[0===t.approveStatus||t.approveStatus===-1?a("el-table-column",{attrs:{type:"selection",width:"48",resizable:!1}}):t._e(),t._v(" "),a("el-table-column",{attrs:{label:"问卷ID",width:"70",resizable:!1},scopedSlots:t._u([["default",function(e){return[a("span",{attrs:{title:e.row.surveyId}},[a("i",{staticClass:"ellipsis"},[t._v(t._s(e.row.surveyId))])])]}]])}),t._v(" "),a("el-table-column",{attrs:{label:"问卷名称",width:"180",resizable:!1},scopedSlots:t._u([["default",function(e){return[a("span",{attrs:{title:e.row.name}},[a("i",{staticClass:"ellipsis"},[t._v(t._s(e.row.name))])])]}]])}),t._v(" "),a("el-table-column",{attrs:{label:"广告主名称/账号类型",width:"140",resizable:!1},scopedSlots:t._u([["default",function(e){return[a("span",{attrs:{title:e.row.companyName+"/"+e.row.companyNature}},[a("i",{staticClass:"ellipsis"},[t._v(t._s(e.row.companyName)+"/"+t._s(e.row.companyNature))])])]}]])}),t._v(" "),a("el-table-column",{attrs:{prop:"updateTime",label:"送审时间",width:"140",resizable:!1,"render-header":t.renderHeader}}),t._v(" "),0!==t.approveStatus?a("el-table-column",{attrs:{prop:"approveTime",label:"操作时间",width:"140",resizable:!1,"render-header":t.renderHeader}}):t._e(),t._v(" "),0!==t.approveStatus?a("el-table-column",{attrs:{prop:"approveAccountName",label:"操作人",width:"90",resizable:!1}}):t._e(),t._v(" "),a("el-table-column",{attrs:{label:"审核操作",width:"120",resizable:!1},scopedSlots:t._u([["default",function(e){return[a("i",{staticClass:"el-icon-search",staticStyle:{padding:"5px",cursor:"pointer"},on:{click:function(a){t.handleView(e.$index,e.row)}}}),t._v(" "),1!==t.approveStatus?a("i",{staticClass:"el-icon-check",staticStyle:{padding:"5px",cursor:"pointer"},on:{click:function(a){t.handlePass(e.$index,e.row)}}}):t._e(),t._v(" "),0===t.approveStatus?a("i",{staticClass:"el-icon-close",staticStyle:{padding:"5px",cursor:"pointer","margin-left":"10px"},on:{click:function(a){t.handleRefuse(e.$index,e.row)}}}):t._e()]}]])})],1)],1)]),t._v(" "),a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:Math.floor(t.page.totalCount/t.page.pageSize)>0,expression:"Math.floor(page.totalCount/page.pageSize)>0"}],class:{"el-pagination-reset":!0},attrs:{"current-page":t.page.currentPage,"page-sizes":t.page.pageSizes,"page-size":t.page.pageSize,layout:"total, sizes, prev, pager, next",total:t.page.totalCount},on:{"size-change":t.pageSizeChange,"current-change":t.currentPageChange}}),t._v(" "),t.showChildComponents.showSurveyView?a("m-view",{attrs:{showView:t.showChildComponents.showSurveyView,surveyId:t.viewSurveyId,approveStatus:t.approveStatus}}):t._e(),t._v(" "),a("m-dialog",{attrs:{showDialog:t.showChildComponents.showSurveyPass,passType:t.passType,surveyIds:t.surveyIds}}),t._v(" "),a("m-refuse",{attrs:{showRefuse:t.showChildComponents.showSurveyRefuse,surveyId:t.viewSurveyId}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("transition",{attrs:{name:"fade"}},[t.showDialog?a("div",{staticClass:"master",staticStyle:{"z-index":"1300"}}):t._e()]),t._v(" "),a("transition",{attrs:{name:"fade"}},[t.showDialog?a("div",{staticClass:"dialog-pop"},[a("div",{staticClass:"pop-header"},[a("span",{staticClass:"header-text"},[t._v("问卷审核")]),t._v(" "),a("span",{staticClass:"header-close",on:{click:t.closeDialogHandler}},[a("em",{staticClass:"icon icon-close"})])]),t._v(" "),a("div",{staticClass:"pop-body"},[a("div",{staticClass:"body-infor"},["single"===t.passType?a("h3",[t._v("确定要通过该问卷吗？")]):a("h3",[t._v("是否批量通过已选中的问卷？")])])]),t._v(" "),a("div",{staticClass:"pop-footer"},[a("span",{staticClass:"btn btn-primary",on:{click:t.surveyPassAction}},[t._v("确认")]),t._v(" "),a("span",{staticClass:"btn btn-gray",on:{click:t.closeDialogHandler}},[t._v("取消")])])]):t._e()])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.showPrice,expression:"showPrice"}],staticClass:"master",staticStyle:{"z-index":"1200"},on:{click:t.closeView}},[t._v(">")])]),t._v(" "),a("transition",{attrs:{name:"drawer"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.showPrice,expression:"showPrice"}],staticClass:"ams-stock"},[a("div",{staticClass:"drawer-part"},[a("h2",{staticClass:"part-header",staticStyle:{"margin-bottom":"10px"}},[a("span",{staticClass:"header-text"},[t._v("价格")]),t._v(" "),a("span",{staticClass:"header-fn",on:{click:t.closeView}},[a("em",{staticClass:"icon icon-close"})])]),t._v(" "),a("div",{staticClass:"shop-cont"},[a("el-form",{ref:"Data",attrs:{model:t.Data,rules:t.rules,"label-width":"166px"}},[a("el-form-item",{attrs:{label:"广告名称："}},[a("span",[t._v(t._s(t.summary.name))])]),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:5==t.saleMode,expression:"saleMode == 5"}],attrs:{label:"CPD价格："}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.Data.cpdPrice,expression:"Data.cpdPrice"}],staticClass:"w200 jugeInput",attrs:{onblur:"this.style.borderColor = '#BFCBD9'",onfocus:"this.style.borderColor = '#20A0FF'",placeholder:"CPD价格"},domProps:{value:t.Data.cpdPrice},on:{keyup:function(e){e.preventDefault(),t.clearNum("cpd")},input:function(e){e.target.composing||(t.Data.cpdPrice=e.target.value)}}}),t._v("   元/轮\n\t\t\t\t\t\t")]),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:3==t.saleMode,expression:"saleMode == 3"}],attrs:{label:"定价CPM价格(合约)："}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.Data.cpmPrice,expression:"Data.cpmPrice"}],staticClass:"w200 jugeInput",attrs:{onblur:"this.style.borderColor = '#BFCBD9'",onfocus:"this.style.borderColor = '#20A0FF'",placeholder:"CPM价格"},domProps:{value:t.Data.cpmPrice},on:{keyup:function(e){e.preventDefault(),t.clearNum("cpm")},input:function(e){e.target.composing||(t.Data.cpmPrice=e.target.value)}}}),t._v("   元/CPM\n\t\t\t\t\t\t")]),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:4==t.saleMode,expression:"saleMode == 4"}],attrs:{label:"定价CPM价格(非合约)："}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.Data.cpmPrice,expression:"Data.cpmPrice"}],staticClass:"w200 jugeInput",attrs:{onblur:"this.style.borderColor = '#BFCBD9'",onfocus:"this.style.borderColor = '#20A0FF'",placeholder:"CPM价格"},domProps:{value:t.Data.cpmPrice},on:{keyup:function(e){e.preventDefault(),t.clearNum("cpm")},input:function(e){e.target.composing||(t.Data.cpmPrice=e.target.value)}}}),t._v("   元/CPM\n\t\t\t\t\t\t")]),t._v(" "),a("el-form-item",{staticStyle:{background:"#f5f5f5",height:"80px","padding-top":"20px"}},[a("el-button",{staticStyle:{background:"#32c5d2",color:"white"},attrs:{size:"large"},on:{click:function(e){t.submit()}}},[t._v("提交")])],1)],1),t._v(" "),a("div",{staticStyle:{padding:"20px 20px 0 90px"}},[a("el-button",{staticClass:"w80",attrs:{type:"default",icon:"arrow-left"},on:{click:t.prev}}),t._v(" "),a("el-button",{staticClass:"w80",attrs:{type:"default"},on:{click:t.next}},[a("i",{staticClass:"el-icon-arrow-right el-icon--right"})]),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:3==t.saleMode||4==t.saleMode,expression:"saleMode == 3 || saleMode == 4"}],staticStyle:{color:"#ed6b75",display:"inline-block",float:"right","margin-left":"20px"}},[t._v("CPM")]),t._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:5==t.saleMode,expression:"saleMode == 5"}],staticStyle:{color:"#337ab7",display:"inline-block",float:"right"}},[t._v("CPD")])],1),t._v(" "),a("div",{staticClass:"pt-20",attrs:{id:"calendar"}},t._l(t.formData,function(e,s){return a("div",[a("div",{staticStyle:{width:"430px",height:"450px",display:"inline-block",margin:"0px 0px 0px 20px",float:"left"}},[a("table",{attrs:{border:"0",cellpadding:"0",cellspacing:"0"}},[a("thead",[a("tr",[a("td",{staticClass:"month-title",class:e.jugeCursorHead?"":"cursor-pointer",attrs:{id:"monthTop","data-item":"1",colspan:"8",align:"center","data-year":e.thisYear,"data-month":e.thisMonth},on:{click:function(a){t.selectAll(e.thisMonth)}}},[t._v(t._s(e.thisYear)+"年"+t._s(e.thisMonth)+"月")])]),t._v(" "),a("tr",[a("td",{staticStyle:{border:"1px solid #ccc"}}),a("td",{staticClass:"month-header",class:e.jugeCursorHead?"":"cursor-pointer",attrs:{"data-item":"1",id:"monthTitle","data-week":e.weekOfYear,"data-year":"","data-month":e.thisMonth,"data-weekday":"1"},on:{click:function(a){t.monthTitleClick(1,e.thisMonth,a)}}},[t._v("一")]),t._v(" "),a("td",{staticClass:"month-header",class:e.jugeCursorHead?"":"cursor-pointer",attrs:{"data-item":"1",id:"monthTitle","data-week":e.weekOfYear,"data-year":e.thisYear,"data-month":e.thisMonth,"data-weekday":"2"},on:{click:function(a){t.monthTitleClick(2,e.thisMonth,a)}}},[t._v("二")]),t._v(" "),a("td",{staticClass:"month-header",class:e.jugeCursorHead?"":"cursor-pointer",attrs:{"data-item":"1",id:"monthTitle","data-week":e.weekOfYear,"data-year":e.thisYear,"data-month":e.thisMonth,"data-weekday":"3"},on:{click:function(a){t.monthTitleClick(3,e.thisMonth,a)}}},[t._v("三")]),t._v(" "),a("td",{staticClass:"month-header",class:e.jugeCursorHead?"":"cursor-pointer",attrs:{"data-item":"1",id:"monthTitle","data-week":e.weekOfYear,"data-year":e.thisYear,"data-month":e.thisMonth,"data-weekday":"4"},on:{click:function(a){t.monthTitleClick(4,e.thisMonth,a)}}},[t._v("四")]),t._v(" "),a("td",{staticClass:"month-header",class:e.jugeCursorHead?"":"cursor-pointer",attrs:{"data-item":"1",id:"monthTitle","data-week":e.weekOfYear,"data-year":e.thisYear,"data-month":e.thisMonth,"data-weekday":"5"},on:{click:function(a){t.monthTitleClick(5,e.thisMonth,a)}}},[t._v("五")]),t._v(" "),a("td",{staticClass:"month-header",class:e.jugeCursorHead?"":"cursor-pointer",attrs:{"data-item":"1",id:"monthTitle","data-week":e.weekOfYear,"data-year":e.thisYear,"data-month":e.thisMonth,"data-weekday":"6"},on:{click:function(a){t.monthTitleClick(6,e.thisMonth,a)}}},[t._v("六")]),t._v(" "),a("td",{staticClass:"month-header",class:e.jugeCursorHead?"":"cursor-pointer",attrs:{"data-item":"1",id:"monthTitle","data-week":e.weekOfYear,"data-year":e.thisYear,"data-month":e.thisMonth,"data-weekday":"7"},on:{click:function(a){t.monthTitleClick(7,e.thisMonth,a)}}},[t._v("日")])])]),t._v(" "),a("tbody",t._l(e.dayOfMonth,function(s,i){return a("tr",[a("td",{staticClass:"month-left cursor-pointer",attrs:{"data-weekday":t.dayWeekDay,"data-item":"1",id:"monthLeft","data-year":e.thisYear,"data-month":e.thisMonth,"data-week":e.weekOfYear[i]},on:{click:function(e){t.monthLeft(e)}}},[t._v(t._s(e.weekOfYear[i]))]),t._v(" "),t._l(s,function(s,n){return a("td",{class:e.month[i][n]!=e.thisMonth||"true"==e.dayMonthBefore[i][n]?"month-item-disable":"month-item",attrs:{"data-year":e.thisYear,"data-month":e.thisMonth,"data-day":e.dayOfMonth[i][n],"data-week":e.weekOfYear[i],"data-weekday":n+1,"data-item":"1",id:e.thisYear+"-"+e.month[i][n]+"-"+e.dayOfMonth[i][n]},on:{click:function(e){t.monthOne(e)}}},[a("div",{staticClass:"date-content"},[a("span",{staticStyle:{float:"right"}},[t._v(t._s(s))]),a("br"),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:5==t.saleMode,expression:"saleMode == 5"}],staticClass:"date-number date-cpd",attrs:{"date-number":"1",id:e.month[i][n]==e.thisMonth?"cpd-"+e.thisYear+"-"+e.month[i][n]+"-"+e.dayOfMonth[i][n]:""}}),t._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:3==t.saleMode||4==t.saleMode,expression:"saleMode == 3 || saleMode == 4"}],staticClass:"date-number date-cpm",attrs:{"date-number":"1",id:e.month[i][n]==e.thisMonth?"cpm-"+e.thisYear+"-"+e.month[i][n]+"-"+e.dayOfMonth[i][n]:""}})])])})],2)}))])])])}))],1)])])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{on:{"before-enter":t.beforeEnter,enter:t.enter,"after-enter":t.afterEnter,"enter-cancelled":t.enterCancelled,"before-leave":t.beforeLeave,leave:t.leave,"after-leave":t.afterLeave,"leave-cancelled":t.leaveCancelled}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"loading_con transition"},[a("div",{staticClass:"loading"},[a("span"),t._v(" "),a("span"),t._v(" "),a("span"),t._v(" "),a("span"),t._v(" "),a("span"),t._v(" "),a("span")])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"media-form"},[a("el-form",{ref:"formData",attrs:{model:t.formData,rules:t.rules,"label-width":"166px"}},[a("el-form-item",{attrs:{label:"广告位名称：",prop:"name"}},[a("el-input",{model:{value:t.formData.name,callback:function(e){t.formData.name=e},expression:"formData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"媒体："}},[a("span",[t._v(t._s(t.formData.summary.name))])]),t._v(" "),a("el-form-item",{attrs:{label:"一级频道："}},[a("span",[t._v(t._s(t.formData.summary.levelone))])]),t._v(" "),a("el-form-item",{attrs:{label:"二级频道："}},[a("span",[t._v(t._s(t.formData.summary.leveltwo))])]),t._v(" "),a("el-form-item",{attrs:{label:"广告位尺寸："}},[a("el-col",{attrs:{span:15}},[a("el-form-item",{attrs:{prop:"width"}},[a("span",[t._v("宽  ")]),t._v(" "),a("el-input",{staticClass:"w200",model:{value:t.formData.width,callback:function(e){t.formData.width=e},expression:"formData.width"}}),t._v(" "),a("span",[t._v("  px")])],1)],1),t._v(" "),a("el-col",{staticClass:"mrt-20",attrs:{span:15}},[a("el-form-item",{attrs:{prop:"height"}},[a("span",[t._v("高  ")]),t._v(" "),a("el-input",{staticClass:"w200",model:{value:t.formData.height,callback:function(e){t.formData.height=e},expression:"formData.height"}}),t._v(" "),a("span",[t._v("  px")])],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"轮播数：",prop:"rotators"}},[a("el-input",{model:{value:t.formData.rotators,callback:function(e){t.formData.rotators=t._n(e)},expression:"formData.rotators"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"外采流量："}},[a("el-radio-group",{model:{value:t.formData.outSourceFlow,callback:function(e){t.formData.outSourceFlow=e},expression:"formData.outSourceFlow"}},[a("el-radio",{attrs:{label:0}},[t._v("否")]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("是")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"单次请求返回素材数量：",prop:"materialNumber"}},[a("el-input",{attrs:{placeholder:"1-20"},model:{value:t.formData.materialNumber,callback:function(e){t.formData.materialNumber=t._n(e)},expression:"formData.materialNumber"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"素材多级审核："}},[a("el-radio-group",{on:{change:t.approvePhase},model:{value:t.formData.approveFlowId,callback:function(e){t.formData.approveFlowId=e},expression:"formData.approveFlowId"}},[a("el-radio",{attrs:{label:1}},[t._v("否")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("是")])],1),t._v(" "),a("br"),t._v(" "),a("el-select",{staticStyle:{width:"170px",display:"inline-block"},attrs:{placeholder:"请选择",disabled:!t.isApprovePhaseOpened},model:{value:t.approvePhaseName,callback:function(e){t.approvePhaseName=e},expression:"approvePhaseName"}},t._l(t.approveOptions,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"描述：",prop:"description"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.formData.description,callback:function(e){t.formData.description=e},expression:"formData.description"}})],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"modify"!=t.drawerCtrlAction,expression:'drawerCtrlAction != "modify"'}],attrs:{label:"状态"}},[a("el-radio-group",{model:{value:t.formData.state,callback:function(e){t.formData.state=e},expression:"formData.state"}},[a("el-radio",{attrs:{label:0}},[t._v("下线")]),t._v(" "),a("el-radio",{attrs:{label:1,disabled:t.formData.controlRadio}},[t._v("售卖")]),t._v(" "),a("el-radio",{attrs:{label:2,disabled:t.formData.controlRadio}},[t._v("非售卖")])],1)],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"unfold-content"},[t._l(t.list,function(e){return[a("div",{staticClass:"column-group",staticStyle:{"margin-top":"20px"}},[a("div",{staticClass:"group-aside"
},[t._v("审核状态：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(1===e.approvalStatus?"审核已通过":"审核未通过"))])])])]),t._v(" "),e.approvalStatus===-1?a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("审核拒绝原因：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(e.rejectReasons))])])])]):t._e(),t._v(" "),a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("操作人：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(e.accountName))])])])]),t._v(" "),a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("审核时间：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(e.createTime))])])])])]})],2)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("m-breadcrumb",{attrs:{config:t.breadcrumbConfig}}),t._v(" "),a("div",{staticClass:"media-set"},[a("div",{staticClass:"clearfix"},[a("div",{staticClass:"fn-media pt-20"},[a("div",{staticClass:"fn-media"},[a("button",{staticClass:"btn btn-normal",on:{click:function(e){e.preventDefault(),t.showMedia(e)}}},[t._v("新增媒体")])]),t._v(" "),a("div",{staticClass:"fn-media"},[a("span",{staticClass:"plan-title"},[t._v("媒体名称：")]),t._v(" "),a("div",{staticClass:"ele-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.so.keyword,expression:"so.keyword"}],attrs:{placeholder:"请输入媒体名称",maxlength:"60"},domProps:{value:t.so.keyword},on:{input:function(e){e.target.composing||(t.so.keyword=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"fn-media"},[a("span",{staticClass:"plan-title"},[t._v("设备类型：")]),t._v(" "),a("el-select",{staticStyle:{width:"100px",display:"inline-block"},attrs:{placeholder:"全部"},model:{value:t.so.deviceState.value,callback:function(e){t.so.deviceState.value=e},expression:"so.deviceState.value"}},t._l(t.so.deviceState.options,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("div",{staticClass:"fn-media"},[a("span",{staticClass:"plan-title"},[t._v("媒体属性：")]),t._v(" "),a("el-select",{staticStyle:{width:"100px",display:"inline-block"},attrs:{placeholder:"全部"},model:{value:t.so.mediaState.value,callback:function(e){t.so.mediaState.value=e},expression:"so.mediaState.value"}},t._l(t.so.mediaState.options,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1)]),t._v(" "),a("div",{staticClass:"fn-media mrt-20 pb-10"},[a("div",{staticClass:"fn-media"},[a("span",{staticClass:"plan-title"},[t._v("状态：")]),t._v(" "),a("el-select",{staticStyle:{width:"100px",display:"inline-block"},attrs:{placeholder:"全部"},model:{value:t.so.status.value,callback:function(e){t.so.status.value=e},expression:"so.status.value"}},t._l(t.so.status.options,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("div",{staticClass:"fn-media",on:{click:function(e){t.getList()}}},[a("button",{staticClass:"btn media-btn-primary "},[t._v("查询")])])])]),t._v(" "),a("div",{staticClass:"amp-data"},[a("div",{staticClass:"data-table",attrs:{id:"con-table-change"}},[a("div",{staticClass:"main-table-wapper"},[a("table",{staticClass:"table main-table"},[t._m(0),t._v(" "),a("tbody",t._l(t.so.list,function(e){return a("tr",{staticClass:"h50 body-row"},[a("td",[a("span",[t._v(t._s(e.publisherId))])]),t._v(" "),a("td",[a("span",[a("router-link",{attrs:{to:{name:"channel",params:{id:e.publisherId}},title:e.name}},[t._v(t._s(e.name))])],1)]),t._v(" "),a("td",[a("span",[t._v(t._s(1==e.platform?"APP":2==e.platform?"WAP":3==e.platform?"PC":"其它"))])]),t._v(" "),a("td",[a("span",[t._v(t._s(1==e.platform?"-":e.url))])]),t._v(" "),a("td",[a("span",[t._v(t._s(0==e.isInternal?"站外":"站内"))])]),t._v(" "),a("td",[a("span",[t._v(t._s(1==e.status?"上线":"下线"))])]),t._v(" "),a("td",[a("span",{staticClass:"table-links"},[a("b",[a("a",{class:1==e.status?"modify-disabled":"",attrs:{href:"",title:1==e.status?"只有下线的媒体才能被修改":""},on:{click:function(a){a.preventDefault(),t.modify(e.publisherId,e.status)}}},[t._v("修改")]),t._v(" "),a("a",{attrs:{href:""},on:{click:function(a){a.preventDefault(),t.changeStatus(e.publisherId,e.status)}}},[t._v(t._s(1==e.status?"下线":"上线"))]),t._v(" "),a("a",{class:0==e.status?"modify-disabled":"",attrs:{href:"",title:0==e.status?"只有上线的媒体才能新增频道":""},on:{click:function(a){a.preventDefault(),t.newChannel(e.publisherId,e.name,e.platform,e.status)}}},[t._v("新增频道")]),t._v(" "),a("a",{attrs:{href:""},on:{click:function(a){a.preventDefault(),t.del(e.publisherId,e.status)}}},[t._v("删除")])])])])])}))])])])])]),t._v(" "),a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:Math.floor(t.page.totalCount/t.page.pageSize)>0,expression:"Math.floor(page.totalCount/page.pageSize)>0"}],class:{"el-pagination-reset":!0},attrs:{"current-page":t.page.currentPage,"page-sizes":t.page.pageSizes,"page-size":t.page.pageSize,layout:"total, sizes, prev, pager, next",total:t.page.totalCount},on:{"size-change":t.pageSizeChange,"current-change":t.currentPageChange}}),t._v(" "),a("el-dialog",{attrs:{title:t.title,size:"tiny"},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[a("span",{domProps:{innerHTML:t._s(t.body_html)}}),t._v(" "),a("span",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.sureFn()}}},[t._v("确 定")])],1)])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticClass:"h45 list-header"},[a("th",{staticClass:"w100"},[a("span",[t._v("媒体ID")])]),t._v(" "),a("th",{staticClass:"w200"},[a("span",[t._v("媒体名称")])]),t._v(" "),a("th",{staticClass:"w80"},[a("span",[t._v("设备类型")])]),t._v(" "),a("th",{staticClass:"w220"},[a("span",[t._v("页面URL")])]),t._v(" "),a("th",{staticClass:"w80"},[a("span",[t._v("媒体属性")])]),t._v(" "),a("th",{staticClass:"w80"},[a("span",[t._v("状态")])]),t._v(" "),a("th",{staticClass:"w260"},[a("span",[t._v("操作")])])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"error-main"},[t._m(0),t._v(" "),a("div",{staticClass:"error-body"},[a("div",{staticClass:"body-scaffold",class:t.errorClass})]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:403===t.type,expression:"type === 403"}],staticClass:"error-footer"},[a("p",{staticClass:"error-title"},[t._v("哎呀抱歉！服务器拒绝了您的请求")]),t._v(" "),a("p",{staticClass:"error-detail"},[t._v("请确认您拥有所需的访问权限")]),t._v(" "),a("router-link",{staticClass:"action-back",attrs:{to:{name:"index"},tag:"a"}},[t._v("回到首页")]),a("a",{on:{click:t.goBack}},[t._v("返回上一页")])],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:500===t.type,expression:"type === 500"}],staticClass:"error-footer"},[a("p",{staticClass:"error-title"},[t._v("哎呀出错了！")]),t._v(" "),a("p",{staticClass:"error-detail"},[t._v("服务器出现内部错误，我们正在努力修复")]),t._v(" "),a("router-link",{staticClass:"action-back",attrs:{to:{name:"index"},tag:"a"}},[t._v("回到首页")]),a("a",{on:{click:t.goBack}},[t._v("返回上一页")]),a("a",{on:{click:t.refresh}},[t._v("尝试刷新")])],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-header"},[a("span",{staticClass:"header-login"},[a("a",{attrs:{href:"#"}},[t._v("gomeplus")])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"unfold-content"},[t._l(t.certificates,function(e){return[a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("资质名称：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(e.name))])])])]),t._v(" "),a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("资质类型：")]),t._v(" "),t._m(0,!0)]),t._v(" "),a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-aside"},[t._v("资质有效期：")]),t._v(" "),a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v(t._s(e.startTime)+"~"+t._s(e.endTime))])])])]),t._v(" "),a("div",{staticClass:"column-group"},[a("div",{staticClass:"group-detail no-left"},[a("div",{staticClass:"detail-row"},t._l(e.images,function(t){return a("div",{staticClass:"row-photo-l"},[a("div",{staticClass:"photo"},[a("img",{attrs:{src:t}})])])}))])])]})],2)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"group-detail"},[a("div",{staticClass:"detail-row"},[a("span",{staticClass:"row-span"},[t._v("商家资质")])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("m-breadcrumb",{attrs:{config:t.breadcrumbConfig}}),t._v(" "),a("div",{staticClass:"media-set"},[a("div",{staticClass:"clearfix pt-20"},[a("div",{staticClass:"fn-media",attrs:{id:"a"}},[a("button",{staticClass:"btn btn-normal",on:{click:function(e){e.preventDefault(),t.newForm(e)}}},[t._v("新增广告形式")])]),t._v(" "),a("div",{staticClass:"fn-media"},[a("span",{staticClass:"plan-title"},[t._v("广告形式ID/名称：")]),t._v(" "),a("div",{staticClass:"ele-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.so.keyword,expression:"so.keyword"}],staticClass:"w200",attrs:{placeholder:"请输入广告形式ID/名称",maxlength:"60"},domProps:{value:t.so.keyword},on:{input:function(e){e.target.composing||(t.so.keyword=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"fn-media fn-plan-new"},[a("span",{staticClass:"plan-title"},[t._v("状态：")]),t._v(" "),a("el-select",{staticStyle:{width:"100px",display:"inline-block"},attrs:{placeholder:"全部"},model:{value:t.so.status.value,callback:function(e){t.so.status.value=e},expression:"so.status.value"}},t._l(t.so.status.options,function(t){return a("el-option",{attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("div",{staticClass:"fn-media",on:{click:function(e){t.getList()}}},[a("button",{staticClass:"btn media-btn-primary"},[t._v("查询")])])]),t._v(" "),a("div",{staticClass:"amp-data"},[a("div",{staticClass:"data-table",attrs:{id:"con-table-change"}},[a("div",{staticClass:"main-table-wapper"},[a("table",{staticClass:"table main-table"},[t._m(0),t._v(" "),a("tbody",t._l(t.so.list,function(e){return a("tr",{staticClass:"h50 body-row"},[a("td",[a("span",[t._v(t._s(e.formatId))])]),t._v(" "),a("td",[a("span",[t._v(t._s(e.name))])]),t._v(" "),a("td",[a("span",[t._v(t._s(1==e.status?"上线":"下线"))]),a("p",{directives:[{name:"show",rawName:"v-show",value:e.offlineTime!=-288e5&&Math.floor((e.offlineTime-t.nowDate)/864e5)>-1,expression:"item.offlineTime != -28800000 && Math.floor((item.offlineTime-nowDate)/86400000)>-1"}],staticClass:"changeStatusTxt"},[t._v("("+t._s(0==Math.floor((e.offlineTime-t.nowDate)/864e5)?Math.floor((e.offlineTime-t.nowDate)/36e5):Math.floor((e.offlineTime-t.nowDate)/864e5))+t._s(0==Math.floor((e.offlineTime-t.nowDate)/864e5)?"小时"+Math.ceil(Math.floor((e.offlineTime-t.nowDate)/1e3)%86400%3600/60)+"分后":"天后")+"变为下线状态)")])]),t._v(" "),a("td",[a("span",{staticClass:"table-links"},[a("b",[a("a",{class:1==e.status?"modify-disabled":"",attrs:{href:"",title:1==e.status?"只有下线的媒体才能被修改":""},on:{click:function(a){a.preventDefault(),t.modify(e.formatId,e.status)}}},[t._v("修改")]),t._v(" "),a("a",{attrs:{href:""},on:{click:function(a){a.preventDefault(),t.changeStatus(e.formatId,e.status)}}},[t._v(t._s(1==e.status?"下线":"上线"))]),t._v(" "),a("a",{attrs:{href:""},on:{click:function(a){a.preventDefault(),t.del(e.formatId,e.status)}}},[t._v("删除")])])])])])}))])])])])]),t._v(" "),a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:Math.floor(t.page.totalCount/t.page.pageSize)>0,expression:"Math.floor(page.totalCount/page.pageSize)>0"}],class:{"el-pagination-reset":!0},attrs:{"current-page":t.page.currentPage,"page-sizes":t.page.pageSizes,"page-size":t.page.pageSize,layout:"total, sizes, prev, pager, next",total:t.page.totalCount},on:{"size-change":t.pageSizeChange,"current-change":t.currentPageChange}}),t._v(" "),a("el-dialog",{attrs:{title:t.title,size:"tiny"},model:{value:t.dialogVisible,callback:function(e){t.dialogVisible=e},expression:"dialogVisible"}},[a("span",{domProps:{innerHTML:t._s(t.body_html)}}),t._v(" "),a("span",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.sureFn()}}},[t._v("确 定")])],1)])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",{staticClass:"h45 list-header"},[a("th",{staticClass:"w100"},[a("span",[t._v("广告形式ID")])]),t._v(" "),a("th",{staticClass:"w200"},[a("span",[t._v("广告形式名称")])]),t._v(" "),a("th",{staticClass:"w100"},[a("span",[t._v("状态")])]),t._v(" "),a("th",{staticClass:"w200"},[a("span",[t._v("操作")])])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"media-form"},[a("el-form",{ref:"formData",attrs:{model:t.formData,rules:t.rules,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"广告形式名称：",prop:"name"}},[a("el-input",{model:{value:t.formData.name,callback:function(e){t.formData.name=e},expression:"formData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"广告元素："}},[t._l(t.formData.adElement.image,function(e,s){return a("div",[a("div",{staticClass:"media-form-detail"},[a("em",{staticClass:"icon icon-close",staticStyle:{"margin-left":"445px",cursor:"pointer"},on:{click:function(e){t.close("image",s)}}}),t._v(" "),a("el-form-item",{staticClass:"mrb-10",attrs:{label:"元素类型："}},[a("span",[t._v("图片")])]),t._v(" "),a("el-form-item",{staticClass:"mrb-10",attrs:{label:"元素名称："}},[a("el-input",{staticClass:"w200",model:{value:e.name,callback:function(t){e.name=t},expression:"item.name"}})],1),t._v(" "),a("el-form-item",{staticClass:"mrb-10",attrs:{label:"图片宽度："}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.width,expression:"item.width"}],staticClass:"w200 jugeInput",attrs:{onblur:"this.style.borderColor = '#BFCBD9'",onfocus:"this.style.borderColor = '#20A0FF'"},domProps:{value:e.width},on:{keyup:function(t){1==e.width.length?e.width=e.width.replace(/[^1-9]/g,""):e.width=e.width.replace(/\D/g,"")},input:function(t){t.target.composing||(e.width=t.target.value)}}}),t._v("  px\n\t\t\t\t\t")]),t._v(" "),a("el-form-item",{staticClass:"mrb-10",attrs:{label:"图片高度："}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.height,expression:"item.height"}],staticClass:"w200 jugeInput",attrs:{onblur:"this.style.borderColor = '#BFCBD9'",onfocus:"this.style.borderColor = '#20A0FF'"},domProps:{value:e.height},on:{keyup:function(t){1==e.height.length?e.height=e.height.replace(/[^1-9]/g,""):e.height=e.height.replace(/\D/g,"")},input:function(t){t.target.composing||(e.height=t.target.value)}}}),t._v("  px\n\t\t\t\t\t")]),t._v(" "),a("el-form-item",{staticClass:"mrb-10",attrs:{label:"最大体积："}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.maxVolume,expression:"item.maxVolume"}],staticClass:"w200 jugeInput",attrs:{onblur:"this.style.borderColor = '#BFCBD9'",onfocus:"this.style.borderColor = '#20A0FF'"},domProps:{value:e.maxVolume},on:{keyup:function(t){1==e.maxVolume.length?e.maxVolume=e.maxVolume.replace(/[^1-9]/g,""):e.maxVolume=e.maxVolume.replace(/\D/g,"")},input:function(t){t.target.composing||(e.maxVolume=t.target.value)}}}),t._v("  kb\n\t\t\t\t\t")]),t._v(" "),a("el-form-item",{staticClass:"mrb-10",attrs:{label:"格式："}},[a("el-checkbox-group",{model:{value:e.suffix,callback:function(t){e.suffix=t},expression:"item.suffix"}},[a("el-checkbox",{attrs:{label:"jpg"}},[t._v("jpg")]),t._v(" "),a("el-checkbox",{attrs:{label:"jpeg"}},[t._v("jpeg")]),t._v(" "),a("el-checkbox",{attrs:{label:"png"}},[t._v("png")]),t._v(" "),a("el-checkbox",{attrs:{label:"gif"}},[t._v("gif")])],1)],1)],1)])}),t._v(" "),t._l(t.formData.adElement.text,function(e,s){return a("div",[a("div",{staticClass:"media-form-detail"},[a("em",{staticClass:"icon icon-close",staticStyle:{"margin-left":"445px",cursor:"pointer"},on:{click:function(e){t.close("text",s)}}}),t._v(" "),a("el-form-item",{staticClass:"mrb-10",attrs:{label:"元素类型："}},[a("span",[t._v("文字")])]),t._v(" "),a("el-form-item",{staticClass:"mrb-20",attrs:{label:"元素名称："}},[a("el-input",{staticClass:"w200",model:{value:e.name,callback:function(t){e.name=t},expression:"item.name"}})],1),t._v(" "),a("el-form-item",{staticClass:"mrb-10",attrs:{label:"最大字符："}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.max,expression:"item.max"}],staticClass:"w200 jugeInput",attrs:{onblur:"this.style.borderColor = '#BFCBD9'",onfocus:"this.style.borderColor = '#20A0FF'"},domProps:{value:e.max},on:{keyup:function(a){1==e.max.length?e.max=e.max.replace(/[^1-9]/g,""):e.max=e.max.replace(/\D/g,""),t.jugeMax(e.max,e.min)},input:function(t){t.target.composing||(e.max=t.target.value)}}}),t._v("  字符\n\t\t\t\t\t\t"),a("p",{staticClass:"error none",staticStyle:{"padding-left":"140px","padding-top":"3px"},attrs:{id:"errorMax"}},[t._v("最大字符不能小于最小字符")])]),t._v(" "),a("el-form-item",{staticClass:"mrb-10",attrs:{label:"最小字符："}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.min,expression:"item.min"}],staticClass:"w200 jugeInput",attrs:{onblur:"this.style.borderColor = '#BFCBD9'",onfocus:"this.style.borderColor = '#20A0FF'"},domProps:{value:e.min},on:{keyup:function(a){1==e.min.length?e.min=e.min.replace(/[^1-9]/g,""):e.min=e.min.replace(/\D/g,""),t.jugeMin(e.max,e.min)},input:function(t){t.target.composing||(e.min=t.target.value)}}}),t._v("  字符\n\t\t\t\t\t\t"),a("p",{staticClass:"error none",staticStyle:{"padding-left":"140px","padding-top":"3px"},attrs:{id:"errorMin"}},[t._v("最小字符不能大于最大字符")])])],1)])}),t._v(" "),t._l(t.formData.adElement.video,function(e,s){return a("div",[a("div",{staticClass:"media-form-detail"},[a("em",{staticClass:"icon icon-close",staticStyle:{"margin-left":"445px",cursor:"pointer"},on:{click:function(e){t.close("video",s)}}}),t._v(" "),a("el-form-item",{staticClass:"mrb-10",attrs:{label:"元素类型："}},[a("span",[t._v("视频")])]),t._v(" "),a("el-form-item",{staticClass:"mrb-10",attrs:{label:"元素名称："}},[a("el-input",{staticClass:"w200",model:{value:e.name,callback:function(t){e.name=t},expression:"item.name"}})],1),t._v(" "),a("el-form-item",{staticClass:"mrb-10",attrs:{label:"码率："}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.bitrate,expression:"item.bitrate"}],staticClass:"w200 jugeInput",attrs:{onblur:"this.style.borderColor = '#BFCBD9'",onfocus:"this.style.borderColor = '#20A0FF'"},domProps:{value:e.bitrate},on:{keyup:function(t){1==e.bitrate.length?e.bitrate=e.bitrate.replace(/[^1-9]/g,""):e.bitrate=e.bitrate.replace(/\D/g,"")},input:function(t){t.target.composing||(e.bitrate=t.target.value)}}}),t._v("  kbps\n\t\t\t\t\t")]),t._v(" "),a("el-form-item",{staticClass:"mrb-10",attrs:{label:"大小："}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.size,expression:"item.size"}],staticClass:"w200 jugeInput",attrs:{onblur:"this.style.borderColor = '#BFCBD9'",onfocus:"this.style.borderColor = '#20A0FF'"},domProps:{value:e.size},on:{keyup:function(t){1==e.size.length?e.size=e.size.replace(/[^1-9]/g,""):e.size=e.size.replace(/\D/g,"")},input:function(t){t.target.composing||(e.size=t.target.value)}}}),t._v("  MB\n\t\t\t\t\t")]),t._v(" "),a("el-form-item",{staticClass:"mrb-10",attrs:{label:"时长："}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.time,expression:"item.time"}],staticClass:"w200 jugeInput",attrs:{onblur:"this.style.borderColor = '#BFCBD9'",onfocus:"this.style.borderColor = '#20A0FF'"},domProps:{value:e.time},on:{keyup:function(t){1==e.time.length?e.time=e.time.replace(/[^1-9]/g,""):e.time=e.time.replace(/\D/g,"")},input:function(t){t.target.composing||(e.time=t.target.value)}}}),t._v("  s\n\t\t\t\t\t")])],1)])}),t._v(" "),a("el-dropdown",{attrs:{"menu-align":"start"},on:{command:t.handleCommand}},[a("el-button",{attrs:{type:"default",size:"large"}},[t._v("\n\t\t\t                    添加   "),a("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"image"}},[t._v("图片")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"text"}},[t._v("文字")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"video"}},[t._v("视频")])],1)],1)],2)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("transition",{attrs:{name:"fade"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.config.show,expression:"config.show"}],staticClass:"master",staticStyle:{"z-index":"1200"},on:{click:t.closeView}})]),t._v(" "),a("transition",{attrs:{name:"drawer"}},[t.config.show?a("div",{staticClass:"amp-drawer"},[a("div",{staticClass:"drawer-part"},[a("h2",{staticClass:"part-header",staticStyle:{"margin-bottom":"10px"}},[a("span",{staticClass:"header-text"},[t._v(t._s(t.actionMap[t.config.action]+t.typeMap[t.config.type]))]),t._v(" "),a("span",{staticClass:"header-fn",on:{click:t.closeView}},[a("em",{staticClass:"icon icon-close"})])]),t._v(" "),t.config.show&&"media"===t.config.type?a("m-media"):t._e(),t._v(" "),t.config.show&&"channel"===t.config.type?a("m-channel"):t._e(),t._v(" "),t.config.show&&"advertisingList"===t.config.type?a("m-advertising"):t._e(),t._v(" "),t.config.show&&"advert"===t.config.type?a("m-advert"):t._e(),t._v(" "),t.config.show&&"advertisingChange"===t.config.type?a("m-advertisingChange"):t._e(),t._v(" "),t.config.show&&"advertFormChange"===t.config.type?a("m-advertFormChange"):t._e(),t._v(" "),t.config.show&&"advertChange"===t.config.type?a("m-advertChange"):t._e(),t._v(" "),t.config.show&&"template"===t.config.type?a("m-template"):t._e(),t._v(" "),t.config.show&&"format"===t.config.type?a("m-format"):t._e(),t._v(" "),t.config.show&&"advertisingOut"===t.config.type?a("m-advertisingOut"):t._e()],1),t._v(" "),a("div",{staticClass:"drawer-btn"},[a("button",{staticClass:"btn media-btn-primary",staticStyle:{height:"40px",padding:"0px 44px"},on:{click:function(e){t.save()}}},[t._v("保存")]),t._v(" "),a("button",{staticClass:"btn btn-gray",on:{click:function(e){t.closeView()}}},[t._v("取消")])])]):t._e()])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"media-form"},[a("el-form",{ref:"formData",attrs:{model:t.formData,rules:t.rules,"label-width":"140px"}},[a("el-form-item",{attrs:{label:"模板名称：",prop:"name"}},[a("el-input",{model:{value:t.formData.name,callback:function(e){t.formData.name=e},expression:"formData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"广告位尺寸："}},[a("el-col",{attrs:{span:15}},[a("el-form-item",{attrs:{prop:"width"}},[a("span",[t._v("宽  ")]),t._v(" "),a("el-input",{staticClass:"w200",model:{value:t.formData.width,callback:function(e){t.formData.width=e},expression:"formData.width"}}),t._v(" "),a("span",[t._v("  px")])],1)],1),t._v(" "),a("el-col",{staticClass:"mrt-20",attrs:{span:15}},[a("el-form-item",{attrs:{prop:"height"}},[a("span",[t._v("高  ")]),t._v(" "),a("el-input",{staticClass:"w200",model:{value:t.formData.height,callback:function(e){t.formData.height=e},expression:"formData.height"}}),t._v(" "),a("span",[t._v("  px")])],1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"素材个数：",prop:"materialNumber"}},[a("el-input",{model:{value:t.formData.materialNumber,callback:function(e){t.formData.materialNumber=t._n(e)},expression:"formData.materialNumber"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"代码类型"}},[a("el-radio-group",{model:{value:t.formData.type,callback:function(e){t.formData.type=e},expression:"formData.type"}},[a("el-radio",{attrs:{label:1}},[t._v("JS")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("HTML")]),t._v(" "),a("el-radio",{attrs:{label:3}},[t._v("JSON")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"模板代码：",prop:"content"}},[a("el-input",{attrs:{type:"textarea",rows:15},model:{value:t.formData.content,callback:function(e){t.formData.content=e},expression:"formData.content"}})],1)],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("transition",{attrs:{name:"fade"}},[t.showImage?a("div",{staticClass:"master",staticStyle:{"z-index":"1300"}}):t._e()]),t._v(" "),a("transition",{attrs:{name:"fade"}},[t.showImage?a("div",{staticClass:"dialog-image"},[a("div",{staticClass:"pop-header"},[a("span",{staticClass:"header-close",on:{click:t.closeImageHandler}},[a("em",{staticClass:"icon icon-close"})])]),t._v(" "),a("img",{attrs:{src:t.img}})]):t._e()])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"account-set"},[a("div",{staticClass:"set-fn"},[a("div",{staticClass:"fn-plan set-fn-new"},[a("span",{staticClass:"plan-title"},[t._v("广告主名称：")]),t._v(" "),a("el-input",{staticStyle:{width:"140px"},attrs:{placeholder:"请输入广告位名称"},model:{value:t.search.advertiserName,callback:function(e){t.search.advertiserName=e},expression:"search.advertiserName"}},[t.isAdvertiserName?a("i",{staticClass:"el-input__icon el-icon-close",on:{click:function(e){t.handleClickIcon()}},slot:"icon"}):t._e()])],1),t._v(" "),a("div",{staticClass:"fn-plan"},[a("span",{staticClass:"plan-title"},[t._v("送审时间：")]),t._v(" "),a("el-date-picker",{staticStyle:{width:"220px"},attrs:{type:"daterange",align:"right",placeholder:"选择日期范围","picker-options":t.datePickOptions,editable:!1},model:{value:t.searchDateRange,callback:function(e){t.searchDateRange=e},expression:"searchDateRange"}})],1),t._v(" "),a("div",{staticClass:"fn-search"},[a("span",{staticClass:"btn btn-primary",on:{click:t.searchHandle}},[t._v("查询")])])])]),t._v(" "),a("div",{staticClass:"amp-data"},[a("div",{staticClass:"data-table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,border:""}},[a("el-table-column",{attrs:{label:"广告主名称",width:"140",resizable:!1},scopedSlots:t._u([["default",function(e){return[a("span",{attrs:{title:e.row.companyName}},[a("i",{staticClass:"ellipsis"},[t._v(t._s(e.row.companyName))])])]}]])}),t._v(" "),a("el-table-column",{attrs:{label:"账号类型",width:"140",resizable:!1},scopedSlots:t._u([["default",function(e){return[a("span",{attrs:{title:e.row.companyNature}},[a("i",{staticClass:"ellipsis"},[t._v(t._s(e.row.companyNature))])])]}]])}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"送审时间",width:"130",resizable:!1,"render-header":t.renderHeader}}),t._v(" "),0!==t.approveStatus?a("el-table-column",{attrs:{prop:"approveTime",label:"操作时间",width:"140",resizable:!1,"render-header":t.renderHeader}}):t._e(),t._v(" "),0!==t.approveStatus?a("el-table-column",{attrs:{prop:"accountName",label:"操作人",width:"90",resizable:!1}}):t._e(),t._v(" "),a("el-table-column",{attrs:{label:"审核操作",width:"120",resizable:!1},scopedSlots:t._u([["default",function(e){return[a("i",{staticClass:"el-icon-search",staticStyle:{padding:"5px",cursor:"pointer"},on:{click:function(a){t.handleView(e.$index,e.row)}}}),t._v(" "),1!==t.approveStatus?a("i",{staticClass:"el-icon-check",staticStyle:{padding:"5px",cursor:"pointer"},on:{click:function(a){t.handlePass(e.$index,e.row)}}}):t._e(),t._v(" "),0===t.approveStatus?a("i",{staticClass:"el-icon-close",staticStyle:{padding:"5px",cursor:"pointer","margin-left":"10px"},on:{click:function(a){t.handleRefuse(e.$index,e.row)}}}):t._e()]}]])})],1)],1)]),t._v(" "),a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:Math.floor(t.page.totalCount/t.page.pageSize)>0,expression:"Math.floor(page.totalCount/page.pageSize)>0"}],class:{"el-pagination-reset":!0},attrs:{"current-page":t.page.currentPage,"page-sizes":t.page.pageSizes,"page-size":t.page.pageSize,layout:"total, sizes, prev, pager, next",total:t.page.totalCount},on:{"size-change":t.pageSizeChange,"current-change":t.currentPageChange}}),t._v(" "),t.showChildComponents.showAdvertiserView?a("m-view",{attrs:{showView:t.showChildComponents.showAdvertiserView,advertiserId:t.viewAdvertiserId,approveStatus:t.approveStatus}}):t._e(),t._v(" "),a("m-dialog",{attrs:{showDialog:t.showChildComponents.showAdvertiserPass,advertiserId:t.viewAdvertiserId}}),t._v(" "),a("m-refuse",{attrs:{showRefuse:t.showChildComponents.showAdvertiserRefuse,advertiserId:t.viewAdvertiserId}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("transition",{attrs:{name:"fade"}},[t.showDialog?a("div",{staticClass:"master",staticStyle:{"z-index":"1300"}}):t._e()]),t._v(" "),a("transition",{attrs:{name:"fade"}},[t.showDialog?a("div",{staticClass:"dialog-pop"},[a("div",{staticClass:"pop-header"},[a("span",{staticClass:"header-text"},[t._v("审核确认")]),t._v(" "),a("span",{staticClass:"header-close",on:{click:t.closeDialogHandler}},[a("em",{staticClass:"icon icon-close"})])]),t._v(" "),a("div",{staticClass:"pop-body"},[a("div",{staticClass:"body-infor"},[a("h3",[t._v("是否确认该广告主通过资质审核？")])])]),t._v(" "),a("div",{staticClass:"pop-footer"},[a("span",{staticClass:"btn btn-primary",on:{click:t.advertiserPassAction}},[t._v("确认")]),t._v(" "),a("span",{staticClass:"btn btn-gray",on:{click:t.closeDialogHandler}},[t._v("取消")])])]):t._e()])],1)},staticRenderFns:[]}}]);